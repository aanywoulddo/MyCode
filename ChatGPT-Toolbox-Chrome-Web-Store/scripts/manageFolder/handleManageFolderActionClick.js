/*! For license information please see handleManageFolderActionClick.js.LICENSE.txt */
(()=>{var e={4213:function(e,t,n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){c(i.response,t,n)},i.onerror=function(){},i.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=a.URL||a.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):r(c.href)?i(e,t,n):o(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){o(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(r(e))i(e,n,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return i(e,t,n);var o="application/octet-stream"===e.type,c=/constructor/i.test(a.HTMLElement)||a.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||o&&c||s)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=d?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},l.readAsDataURL(e)}else{var u=a.URL||a.webkitURL,h=u.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout((function(){u.revokeObjectURL(h)}),4e4)}});a.saveAs=c.saveAs=c,e.exports=c})?i.apply(t,r):i)||(e.exports=o)},1710:(e,t,n)=>{e.exports=function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,(function(e){return r(t[a][1][e]||e)}),d,d.exports,e,t,n,i)}return n[a].exports}for(var o=void 0,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,a,s,c,d,l=[],u=0,h=e.length,f=h,p="string"!==i.getTypeOf(e);u<e.length;)f=h-u,r=p?(t=e[u++],n=u<h?e[u++]:0,u<h?e[u++]:0):(t=e.charCodeAt(u++),n=u<h?e.charCodeAt(u++):0,u<h?e.charCodeAt(u++):0),a=t>>2,s=(3&t)<<4|n>>4,c=1<f?(15&n)<<2|r>>6:64,d=2<f?63&r:64,l.push(o.charAt(a)+o.charAt(s)+o.charAt(c)+o.charAt(d));return l.join("")},n.decode=function(e){var t,n,i,a,s,c,d=0,l=0,u="data:";if(e.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&f--,e.charAt(e.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=r.uint8array?new Uint8Array(0|f):new Array(0|f);d<e.length;)t=o.indexOf(e.charAt(d++))<<2|(a=o.indexOf(e.charAt(d++)))>>4,n=(15&a)<<4|(s=o.indexOf(e.charAt(d++)))>>2,i=(3&s)<<6|(c=o.indexOf(e.charAt(d++))),h[l++]=t,64!==s&&(h[l++]=n),64!==c&&(h[l++]=i);return h}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var i=e("./external"),r=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}s.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var i=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return~e}(0|t,e,e.length,0):function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return~e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=i?"uint8array":"array";function c(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(c,a),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c("Deflate",e)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function i(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}function r(e,t,n,r,a,l){var u,h,f=e.file,p=e.compression,m=l!==s.utf8encode,y=o.transformTo("string",l(f.name)),v=o.transformTo("string",s.utf8encode(f.name)),g=f.comment,_=o.transformTo("string",l(g)),b=o.transformTo("string",s.utf8encode(g)),E=v.length!==f.name.length,w=b.length!==g.length,A="",S="",T="",C=f.dir,M=f.date,L={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(L.crc32=e.crc32,L.compressedSize=e.compressedSize,L.uncompressedSize=e.uncompressedSize);var P=0;t&&(P|=8),m||!E&&!w||(P|=2048);var I=0,O=0;C&&(I|=16),"UNIX"===a?(O=798,I|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(f.unixPermissions,C)):(O=20,I|=function(e){return 63&(e||0)}(f.dosPermissions)),u=M.getUTCHours(),u<<=6,u|=M.getUTCMinutes(),u<<=5,u|=M.getUTCSeconds()/2,h=M.getUTCFullYear()-1980,h<<=4,h|=M.getUTCMonth()+1,h<<=5,h|=M.getUTCDate(),E&&(S=i(1,1)+i(c(y),4)+v,A+="up"+i(S.length,2)+S),w&&(T=i(1,1)+i(c(_),4)+b,A+="uc"+i(T.length,2)+T);var k="";return k+="\n\0",k+=i(P,2),k+=p.magic,k+=i(u,2),k+=i(h,2),k+=i(L.crc32,4),k+=i(L.compressedSize,4),k+=i(L.uncompressedSize,4),k+=i(y.length,2),k+=i(A.length,2),{fileRecord:d.LOCAL_FILE_HEADER+k+y+A,dirRecord:d.CENTRAL_FILE_HEADER+i(O,2)+k+i(_.length,2)+"\0\0\0\0"+i(I,4)+i(r,4)+y+A+_}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),c=e("../crc32"),d=e("../signature");function l(e,t,n,i){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(l,a),l.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},l.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=r(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=r(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return d.DATA_DESCRIPTOR+i(e.crc32,4)+i(e.compressedSize,4)+i(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,r=function(e,t,n,r,a){var s=o.transformTo("string",a(r));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(n,4)+i(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},l.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new r(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,d=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:e,dir:c,date:d,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.10.1",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function d(e){return new r.Promise((function(t,n){var i=e.decompressed.getContentWorker().pipe(new s);i.on("error",(function(e){n(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var o=0;o<i.length;o++)n.push(d(i[o]));return r.Promise.all(n)})).then((function(e){for(var r=e.shift(),o=r.files,a=0;a<o.length;a++){var s=o[a],c=s.fileNameStr,d=i.resolve(s.fileNameStr);n.file(d,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(d).unsafeOriginalName=c)}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker");function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(o,r),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),n&&n(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function i(e,t,n){var i,r=o.getTypeOf(t),s=o.extend(n||{},c);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(i=p(e))&&y.call(this,i,!0);var u="string"===r&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!u),(t instanceof d&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",r="string");var v=null;v=t instanceof d||t instanceof a?t:h.isNode&&h.isStream(t)?new f(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var g=new l(e,v,s);this.files[e]=g}var r=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),c=e("./defaults"),d=e("./compressedObject"),l=e("./zipObject"),u=e("./generate"),h=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},y=function(e,t){return t=void 0!==t?t:c.createFolders,e=m(e),this.files[e]||i.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var g={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i)},filter:function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(i)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,i.call(this,e,t,n),this;if(v(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=y.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";t=u.generateWorker(this,n,i)}catch(e){(t=new a("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=g},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){"use strict";var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new c(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../utils");function o(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,i),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,i),o.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(o,r),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),c=e("../external"),d=null;if(s.nodestream)try{d=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function l(e,t){return new c.Promise((function(n,r){var o=[],s=e._internalType,c=e._outputType,d=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],r(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return i.transformTo(e,t)}}(c,function(e,t){var n,i=0,r=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,o),d);n(e)}catch(e){r(e)}o=[]})).resume()}))}function u(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,i.checkSupport(a),this._worker=e.pipe(new r(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,i,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(c):new Array(c),o=a=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,o,a=e.length,c=new Array(2*a);for(t=n=0;t<a;)if((r=e[t++])<128)c[n++]=r;else if(4<(o=s[r]))c[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&t<a;)r=r<<6|63&e[t++],o--;1<o?c[n++]=65533:r<65536?c[n++]=r:(r-=65536,c[n++]=55296|r>>10&1023,c[n++]=56320|1023&r)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),i.applyFromCharCode(c)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(d,a),d.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),c=t;a!==t.length&&(r.uint8array?(c=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(c=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=d,i.inherits(l,a),l.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var i=e("./support"),r=e("./base64"),o=e("./nodejsUtils"),a=e("./external");function s(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;r<o;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function l(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=d.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=d.applyCanBeUsed.nodebuffer),r)for(;1<t;)try{return d.stringifyByChunk(e,i,t)}catch(e){t=Math.floor(t/2)}return d.stringifyByChar(e)}function u(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=l;var h={};h.string={string:s,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},h.array={string:l,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},h.arraybuffer={string:function(e){return l(new Uint8Array(e))},array:function(e){return u(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return o.newBufferFrom(e)}},h.nodebuffer={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return h[i][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],i=0;i<t.length;i++){var r=t[i];"."===r||""===r&&0!==i&&i!==t.length-1||(".."===r?n.pop():n.push(r))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,s,d){return a.Promise.resolve(t).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(t){var l=n.getTypeOf(t);return l?("arraybuffer"===l?t=n.transformTo("uint8array",t):"string"===l&&(d?t=r.decode(t):o&&!0!==s&&(t=function(e){return c(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=e("./support");function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(0<i)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),c=e("./compressions"),d=e("./support");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(r)},handleUTF8:function(){var e=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function i(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),c=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!i&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&i&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new c("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<d.length;u++)i.prototype[d[u]]=l;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,n=function(){c.port2.postMessage(0)}}var d=[];function l(){var e,t;i=!0;for(var n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}i=!1}t.exports=function(e){1!==d.push(e)||i||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var i=e("immediate");function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function d(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==r&&f(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){i((function(){var i;try{i=t(n)}catch(i){return o.reject(e,i)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}var a=p((function(){t(r,i)}));"error"===a.status&&i(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=d).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},d.prototype.catch=function(e){return this.then(null,e)},d.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(r);return this.state!==c?u(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(h,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)f(e,i);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},d.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},d.reject=function(e){var t=new this(r);return o.reject(t,e)},d.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,d=new this(r);++c<n;)l(e[c],c);return d;function l(e,r){t.resolve(e).then((function(e){a[r]=e,++s!==n||i||(i=!0,o.resolve(d,a))}),(function(e){i||(i=!0,o.reject(d,e))}))}},d.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a,s=-1,c=new this(r);++s<n;)a=e[s],t.resolve(a).then((function(e){i||(i=!0,o.resolve(c,e))}),(function(e){i||(i=!0,o.reject(c,e))}));return c}},{immediate:36}],38:[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString,d=0,l=-1,u=0,h=8;function f(e){if(!(this instanceof f))return new f(e);this.options=r.assign({level:l,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==d)throw new Error(a[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,p))!==d)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(e,t){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=i.deflate(s,a))&&n!==d)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):2!==a||(this.onEnd(d),!(s.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=f,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var i=e("./zlib/inflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),c=e("./zlib/zstream"),d=e("./zlib/gzheader"),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new d,i.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}u.prototype.push=function(e,t){var n,s,c,d,u,h,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,y=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=o.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(p),f.next_out=0,f.avail_out=p),(n=i.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(h="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===l.call(m)?new Uint8Array(m):m,n=i.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===y&&(n=a.Z_OK,y=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(f.output,f.next_out),d=f.next_out-c,u=o.buf2string(f.output,c),f.next_out=d,f.avail_out=p-d,d&&r.arraySet(f.output,f.output,c,d,0),this.onData(u)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(y=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(f.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=u,n.inflate=h,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),t=r=0,n=e.length;t<n;t++)o=e[t],a.set(o,r),r+=o.length;return a}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(e,t,n){"use strict";var i=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,r,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(c),o=a=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,s=t||e.length,d=new Array(2*s);for(n=i=0;n<s;)if((r=e[n++])<128)d[i++]=r;else if(4<(o=a[r]))d[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&n<s;)r=r<<6|63&e[n++],o--;1<o?d[i++]=65533:r<65536?d[i++]=r:(r-=65536,d[i++]=55296|r>>10&1023,d[i++]=56320|1023&r)}return c(d,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e,o=e>>>16&65535,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(r=r+t[i++]|0)|0,--a;);r%=65521,o%=65521}return r|o<<16}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return~e}},{}],46:[function(e,t,n){"use strict";var i,r=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),c=e("./messages"),d=0,l=4,u=0,h=-2,f=-1,p=4,m=2,y=8,v=9,g=286,_=30,b=19,E=2*g+1,w=15,A=3,S=258,T=S+A+1,C=42,M=113,L=1,P=2,I=3,O=4;function k(e,t){return e.msg=c[t],t}function x(e){return(e<<1)-(4<e?9:0)}function R(e){for(var t=e.length;0<=--t;)e[t]=0}function D(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function N(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,D(e.strm)}function H(e,t){e.pending_buf[e.pending++]=t}function $(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function B(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-T?e.strstart-(e.w_size-T):0,d=e.window,l=e.w_mask,u=e.prev,h=e.strstart+S,f=d[o+a-1],p=d[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(d[(n=t)+a]===p&&d[n+a-1]===f&&d[n]===d[o]&&d[++n]===d[o+1]){o+=2,n++;do{}while(d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&o<h);if(i=S-(h-o),o=h-S,a<i){if(e.match_start=t,s<=(a=i))break;f=d[o+a-1],p=d[o+a]}}}while((t=u[t&l])>c&&0!=--r);return a<=e.lookahead?a:e.lookahead}function F(e){var t,n,i,o,c,d,l,u,h,f,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-T)){for(r.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;i=e.head[--t],e.head[t]=p<=i?i-p:0,--n;);for(t=n=p;i=e.prev[--t],e.prev[t]=p<=i?i-p:0,--n;);o+=p}if(0===e.strm.avail_in)break;if(d=e.strm,l=e.window,u=e.strstart+e.lookahead,f=void 0,(h=o)<(f=d.avail_in)&&(f=h),n=0===f?0:(d.avail_in-=f,r.arraySet(l,d.input,d.next_in,f,u),1===d.state.wrap?d.adler=a(d.adler,l,f,u):2===d.state.wrap&&(d.adler=s(d.adler,l,f,u)),d.next_in+=f,d.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=A)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+A-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<A)););}while(e.lookahead<T&&0!==e.strm.avail_in)}function j(e,t){for(var n,i;;){if(e.lookahead<T){if(F(e),e.lookahead<T&&t===d)return L;if(0===e.lookahead)break}if(n=0,e.lookahead>=A&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-T&&(e.match_length=B(e,n)),e.match_length>=A)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-A),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=A){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(N(e,!1),0===e.strm.avail_out))return L}return e.insert=e.strstart<A-1?e.strstart:A-1,t===l?(N(e,!0),0===e.strm.avail_out?I:O):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?L:P}function G(e,t){for(var n,i,r;;){if(e.lookahead<T){if(F(e),e.lookahead<T&&t===d)return L;if(0===e.lookahead)break}if(n=0,e.lookahead>=A&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=A-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-T&&(e.match_length=B(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===A&&4096<e.strstart-e.match_start)&&(e.match_length=A-1)),e.prev_length>=A&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-A,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-A),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=A-1,e.strstart++,i&&(N(e,!1),0===e.strm.avail_out))return L}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return L}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<A-1?e.strstart:A-1,t===l?(N(e,!0),0===e.strm.avail_out?I:O):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?L:P}function U(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*E),this.dyn_dtree=new r.Buf16(2*(2*_+1)),this.bl_tree=new r.Buf16(2*(2*b+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(w+1),this.heap=new r.Buf16(2*g+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*g+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:M,e.adler=2===t.wrap?0:1,t.last_flush=d,o._tr_init(t),u):k(e,h)}function z(e){var t=W(e);return t===u&&function(e){e.window_size=2*e.w_size,R(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=A-1,e.match_available=0,e.ins_h=0}(e.state),t}function q(e,t,n,i,o,a){if(!e)return h;var s=1;if(t===f&&(t=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),o<1||v<o||n!==y||i<8||15<i||t<0||9<t||a<0||p<a)return k(e,h);8===i&&(i=9);var c=new V;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+A-1)/A),c.window=new r.Buf8(2*c.w_size),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,z(e)}i=[new U(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(F(e),0===e.lookahead&&t===d)return L;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,N(e,!1),0===e.strm.avail_out))return L;if(e.strstart-e.block_start>=e.w_size-T&&(N(e,!1),0===e.strm.avail_out))return L}return e.insert=0,t===l?(N(e,!0),0===e.strm.avail_out?I:O):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),L)})),new U(4,4,8,4,j),new U(4,5,16,8,j),new U(4,6,32,32,j),new U(4,4,16,16,G),new U(8,16,32,32,G),new U(8,16,128,128,G),new U(8,32,128,256,G),new U(32,128,258,1024,G),new U(32,258,258,4096,G)],n.deflateInit=function(e,t){return q(e,t,y,15,8,0)},n.deflateInit2=q,n.deflateReset=z,n.deflateResetKeep=W,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,u):h},n.deflate=function(e,t){var n,r,a,c;if(!e||!e.state||5<t||t<0)return e?k(e,h):h;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&t!==l)return k(e,0===e.avail_out?-5:h);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===C)if(2===r.wrap)e.adler=0,H(r,31),H(r,139),H(r,8),r.gzhead?(H(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),H(r,255&r.gzhead.time),H(r,r.gzhead.time>>8&255),H(r,r.gzhead.time>>16&255),H(r,r.gzhead.time>>24&255),H(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),H(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(H(r,255&r.gzhead.extra.length),H(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(H(r,0),H(r,0),H(r,0),H(r,0),H(r,0),H(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),H(r,3),r.status=M);else{var f=y+(r.w_bits-8<<4)<<8;f|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(f|=32),f+=31-f%31,r.status=M,$(r,f),0!==r.strstart&&($(r,e.adler>>>16),$(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),D(e),a=r.pending,r.pending!==r.pending_buf_size));)H(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),D(e),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,H(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),D(e),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,H(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&D(e),r.pending+2<=r.pending_buf_size&&(H(r,255&e.adler),H(r,e.adler>>8&255),e.adler=0,r.status=M)):r.status=M),0!==r.pending){if(D(e),0===e.avail_out)return r.last_flush=-1,u}else if(0===e.avail_in&&x(t)<=x(n)&&t!==l)return k(e,-5);if(666===r.status&&0!==e.avail_in)return k(e,-5);if(0!==e.avail_in||0!==r.lookahead||t!==d&&666!==r.status){var p=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(F(e),0===e.lookahead)){if(t===d)return L;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out))return L}return e.insert=0,t===l?(N(e,!0),0===e.strm.avail_out?I:O):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?L:P}(r,t):3===r.strategy?function(e,t){for(var n,i,r,a,s=e.window;;){if(e.lookahead<=S){if(F(e),e.lookahead<=S&&t===d)return L;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=A&&0<e.strstart&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=e.strstart+S;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=S-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=A?(n=o._tr_tally(e,1,e.match_length-A),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(N(e,!1),0===e.strm.avail_out))return L}return e.insert=0,t===l?(N(e,!0),0===e.strm.avail_out?I:O):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?L:P}(r,t):i[r.level].func(r,t);if(p!==I&&p!==O||(r.status=666),p===L||p===I)return 0===e.avail_out&&(r.last_flush=-1),u;if(p===P&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(R(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),D(e),0===e.avail_out))return r.last_flush=-1,u}return t!==l?u:r.wrap<=0?1:(2===r.wrap?(H(r,255&e.adler),H(r,e.adler>>8&255),H(r,e.adler>>16&255),H(r,e.adler>>24&255),H(r,255&e.total_in),H(r,e.total_in>>8&255),H(r,e.total_in>>16&255),H(r,e.total_in>>24&255)):($(r,e.adler>>>16),$(r,65535&e.adler)),D(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?u:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==M&&666!==t?k(e,h):(e.state=null,t===M?k(e,-3):u):h},n.deflateSetDictionary=function(e,t){var n,i,o,s,c,d,l,f,p=t.length;if(!e||!e.state)return h;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==C||n.lookahead)return h;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(R(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new r.Buf8(n.w_size),r.arraySet(f,t,p-n.w_size,n.w_size,0),t=f,p=n.w_size),c=e.avail_in,d=e.next_in,l=e.input,e.avail_in=p,e.next_in=0,e.input=t,F(n);n.lookahead>=A;){for(i=n.strstart,o=n.lookahead-(A-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+A-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--o;);n.strstart=i,n.lookahead=A-1,F(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=A-1,n.match_available=0,e.next_in=d,e.input=l,e.avail_in=c,n.wrap=s,u},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,o,a,s,c,d,l,u,h,f,p,m,y,v,g,_,b,E,w,A,S,T,C;n=e.state,i=e.next_in,T=e.input,r=i+(e.avail_in-5),o=e.next_out,C=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),c=n.dmax,d=n.wsize,l=n.whave,u=n.wnext,h=n.window,f=n.hold,p=n.bits,m=n.lencode,y=n.distcode,v=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;e:do{p<15&&(f+=T[i++]<<p,p+=8,f+=T[i++]<<p,p+=8),_=m[f&v];t:for(;;){if(f>>>=b=_>>>24,p-=b,0==(b=_>>>16&255))C[o++]=65535&_;else{if(!(16&b)){if(!(64&b)){_=m[(65535&_)+(f&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}E=65535&_,(b&=15)&&(p<b&&(f+=T[i++]<<p,p+=8),E+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=T[i++]<<p,p+=8,f+=T[i++]<<p,p+=8),_=y[f&g];n:for(;;){if(f>>>=b=_>>>24,p-=b,!(16&(b=_>>>16&255))){if(!(64&b)){_=y[(65535&_)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&_,p<(b&=15)&&(f+=T[i++]<<p,(p+=8)<b&&(f+=T[i++]<<p,p+=8)),c<(w+=f&(1<<b)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=b,p-=b,(b=o-a)<w){if(l<(b=w-b)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=h,(A=0)===u){if(A+=d-b,b<E){for(E-=b;C[o++]=h[A++],--b;);A=o-w,S=C}}else if(u<b){if(A+=d+u-b,(b-=u)<E){for(E-=b;C[o++]=h[A++],--b;);if(A=0,u<E){for(E-=b=u;C[o++]=h[A++],--b;);A=o-w,S=C}}}else if(A+=u-b,b<E){for(E-=b;C[o++]=h[A++],--b;);A=o-w,S=C}for(;2<E;)C[o++]=S[A++],C[o++]=S[A++],C[o++]=S[A++],E-=3;E&&(C[o++]=S[A++],1<E&&(C[o++]=S[A++]))}else{for(A=o-w;C[o++]=C[A++],C[o++]=C[A++],C[o++]=C[A++],2<(E-=3););E&&(C[o++]=C[A++],1<E&&(C[o++]=C[A++]))}break}}break}}while(i<r&&o<s);i-=E=p>>3,f&=(1<<(p-=E<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=f,n.bits=p}},{}],49:[function(e,t,n){"use strict";var i=e("../utils/common"),r=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),c=1,d=2,l=0,u=-2,h=1,f=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(f),t.distcode=t.distdyn=new i.Buf32(p),t.sane=1,t.back=-1,l):u}function g(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,v(e)):u}function _(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?u:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,g(e))):u}function b(e,t){var n,i;return e?(i=new y,(e.state=i).window=null,(n=_(e,t))!==l&&(e.state=null),n):u}var E,w,A=!0;function S(e){if(A){var t;for(E=new i.Buf32(512),w=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,E,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(d,e.lens,0,32,w,0,e.work,{bits:5}),A=!1}e.lencode=E,e.lenbits=9,e.distcode=w,e.distbits=5}function T(e,t,n,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(r<(o=a.wsize-a.wnext)&&(o=r),i.arraySet(a.window,t,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=g,n.inflateReset2=_,n.inflateResetKeep=v,n.inflateInit=function(e){return b(e,15)},n.inflateInit2=b,n.inflate=function(e,t){var n,f,p,y,v,g,_,b,E,w,A,C,M,L,P,I,O,k,x,R,D,N,H,$,B=0,F=new i.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;12===(n=e.state).mode&&(n.mode=13),v=e.next_out,p=e.output,_=e.avail_out,y=e.next_in,f=e.input,g=e.avail_in,b=n.hold,E=n.bits,w=g,A=_,N=l;e:for(;;)switch(n.mode){case h:if(0===n.wrap){n.mode=13;break}for(;E<16;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}if(2&n.wrap&&35615===b){F[n.check=0]=255&b,F[1]=b>>>8&255,n.check=o(n.check,F,2,0),E=b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&b)){e.msg="unknown compression method",n.mode=30;break}if(E-=4,D=8+(15&(b>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&b?10:12,E=b=0;break;case 2:for(;E<16;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}if(n.flags=b,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(F[0]=255&b,F[1]=b>>>8&255,n.check=o(n.check,F,2,0)),E=b=0,n.mode=3;case 3:for(;E<32;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}n.head&&(n.head.time=b),512&n.flags&&(F[0]=255&b,F[1]=b>>>8&255,F[2]=b>>>16&255,F[3]=b>>>24&255,n.check=o(n.check,F,4,0)),E=b=0,n.mode=4;case 4:for(;E<16;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(F[0]=255&b,F[1]=b>>>8&255,n.check=o(n.check,F,2,0)),E=b=0,n.mode=5;case 5:if(1024&n.flags){for(;E<16;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(F[0]=255&b,F[1]=b>>>8&255,n.check=o(n.check,F,2,0)),E=b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(g<(C=n.length)&&(C=g),C&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,f,y,C,D)),512&n.flags&&(n.check=o(n.check,f,C,y)),g-=C,y+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break e;for(C=0;D=f[y+C++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&C<g;);if(512&n.flags&&(n.check=o(n.check,f,C,y)),g-=C,y+=C,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break e;for(C=0;D=f[y+C++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&C<g;);if(512&n.flags&&(n.check=o(n.check,f,C,y)),g-=C,y+=C,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;E<16;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}if(b!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}E=b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;E<32;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}e.adler=n.check=m(b),E=b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=v,e.avail_out=_,e.next_in=y,e.avail_in=g,n.hold=b,n.bits=E,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){b>>>=7&E,E-=7&E,n.mode=27;break}for(;E<3;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}switch(n.last=1&b,E-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(S(n),n.mode=20,6!==t)break;b>>>=2,E-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}b>>>=2,E-=2;break;case 14:for(b>>>=7&E,E-=7&E;E<32;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&b,E=b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(g<C&&(C=g),_<C&&(C=_),0===C)break e;i.arraySet(p,f,y,C,v),g-=C,y+=C,_-=C,v+=C,n.length-=C;break}n.mode=12;break;case 17:for(;E<14;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}if(n.nlen=257+(31&b),b>>>=5,E-=5,n.ndist=1+(31&b),b>>>=5,E-=5,n.ncode=4+(15&b),b>>>=4,E-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;E<3;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}n.lens[j[n.have++]]=7&b,b>>>=3,E-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,H={bits:n.lenbits},N=s(0,n.lens,0,19,n.lencode,0,n.work,H),n.lenbits=H.bits,N){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;I=(B=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,O=65535&B,!((P=B>>>24)<=E);){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}if(O<16)b>>>=P,E-=P,n.lens[n.have++]=O;else{if(16===O){for($=P+2;E<$;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}if(b>>>=P,E-=P,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],C=3+(3&b),b>>>=2,E-=2}else if(17===O){for($=P+3;E<$;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}E-=P,D=0,C=3+(7&(b>>>=P)),b>>>=3,E-=3}else{for($=P+7;E<$;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}E-=P,D=0,C=11+(127&(b>>>=P)),b>>>=7,E-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,H={bits:n.lenbits},N=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,H),n.lenbits=H.bits,N){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,H={bits:n.distbits},N=s(d,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,H),n.distbits=H.bits,N){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=g&&258<=_){e.next_out=v,e.avail_out=_,e.next_in=y,e.avail_in=g,n.hold=b,n.bits=E,a(e,A),v=e.next_out,p=e.output,_=e.avail_out,y=e.next_in,f=e.input,g=e.avail_in,b=n.hold,E=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;I=(B=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,O=65535&B,!((P=B>>>24)<=E);){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}if(I&&!(240&I)){for(k=P,x=I,R=O;I=(B=n.lencode[R+((b&(1<<k+x)-1)>>k)])>>>16&255,O=65535&B,!(k+(P=B>>>24)<=E);){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}b>>>=k,E-=k,n.back+=k}if(b>>>=P,E-=P,n.back+=P,n.length=O,0===I){n.mode=26;break}if(32&I){n.back=-1,n.mode=12;break}if(64&I){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&I,n.mode=22;case 22:if(n.extra){for($=n.extra;E<$;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,E-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;I=(B=n.distcode[b&(1<<n.distbits)-1])>>>16&255,O=65535&B,!((P=B>>>24)<=E);){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}if(!(240&I)){for(k=P,x=I,R=O;I=(B=n.distcode[R+((b&(1<<k+x)-1)>>k)])>>>16&255,O=65535&B,!(k+(P=B>>>24)<=E);){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}b>>>=k,E-=k,n.back+=k}if(b>>>=P,E-=P,n.back+=P,64&I){e.msg="invalid distance code",n.mode=30;break}n.offset=O,n.extra=15&I,n.mode=24;case 24:if(n.extra){for($=n.extra;E<$;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,E-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===_)break e;if(C=A-_,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}M=C>n.wnext?(C-=n.wnext,n.wsize-C):n.wnext-C,C>n.length&&(C=n.length),L=n.window}else L=p,M=v-n.offset,C=n.length;for(_<C&&(C=_),_-=C,n.length-=C;p[v++]=L[M++],--C;);0===n.length&&(n.mode=21);break;case 26:if(0===_)break e;p[v++]=n.length,_--,n.mode=21;break;case 27:if(n.wrap){for(;E<32;){if(0===g)break e;g--,b|=f[y++]<<E,E+=8}if(A-=_,e.total_out+=A,n.total+=A,A&&(e.adler=n.check=n.flags?o(n.check,p,A,v-A):r(n.check,p,A,v-A)),A=_,(n.flags?b:m(b))!==n.check){e.msg="incorrect data check",n.mode=30;break}E=b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;E<32;){if(0===g)break e;g--,b+=f[y++]<<E,E+=8}if(b!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}E=b=0}n.mode=29;case 29:N=1;break e;case 30:N=-3;break e;case 31:return-4;default:return u}return e.next_out=v,e.avail_out=_,e.next_in=y,e.avail_in=g,n.hold=b,n.bits=E,(n.wsize||A!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&T(e,e.output,e.next_out,A-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,A-=e.avail_out,e.total_in+=w,e.total_out+=A,n.total+=A,n.wrap&&A&&(e.adler=n.check=n.flags?o(n.check,p,A,e.next_out-A):r(n.check,p,A,e.next_out-A)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===A||4===t)&&N===l&&(N=-5),N)},n.inflateEnd=function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,l},n.inflateGetHeader=function(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?((n.head=t).done=!1,l):u},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?u:11===n.mode&&r(1,t,i,0)!==n.check?-3:T(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,l):u},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,d,l,u,h){var f,p,m,y,v,g,_,b,E,w=h.bits,A=0,S=0,T=0,C=0,M=0,L=0,P=0,I=0,O=0,k=0,x=null,R=0,D=new i.Buf16(16),N=new i.Buf16(16),H=null,$=0;for(A=0;A<=15;A++)D[A]=0;for(S=0;S<c;S++)D[t[n+S]]++;for(M=w,C=15;1<=C&&0===D[C];C--);if(C<M&&(M=C),0===C)return d[l++]=20971520,d[l++]=20971520,h.bits=1,0;for(T=1;T<C&&0===D[T];T++);for(M<T&&(M=T),A=I=1;A<=15;A++)if(I<<=1,(I-=D[A])<0)return-1;if(0<I&&(0===e||1!==C))return-1;for(N[1]=0,A=1;A<15;A++)N[A+1]=N[A]+D[A];for(S=0;S<c;S++)0!==t[n+S]&&(u[N[t[n+S]]++]=S);if(g=0===e?(x=H=u,19):1===e?(x=r,R-=257,H=o,$-=257,256):(x=a,H=s,-1),A=T,v=l,P=S=k=0,m=-1,y=(O=1<<(L=M))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(_=A-P,E=u[S]<g?(b=0,u[S]):u[S]>g?(b=H[$+u[S]],x[R+u[S]]):(b=96,0),f=1<<A-P,T=p=1<<L;d[v+(k>>P)+(p-=f)]=_<<24|b<<16|E,0!==p;);for(f=1<<A-1;k&f;)f>>=1;if(0!==f?(k&=f-1,k+=f):k=0,S++,0==--D[A]){if(A===C)break;A=t[n+u[S]]}if(M<A&&(k&y)!==m){for(0===P&&(P=M),v+=T,I=1<<(L=A-P);L+P<C&&!((I-=D[L+P])<=0);)L++,I<<=1;if(O+=1<<L,1===e&&852<O||2===e&&592<O)return 1;d[m=k&y]=M<<24|L<<16|v-l}}return 0!==k&&(d[v+k]=A-P<<24|64<<16),h.bits=M,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var i=e("../utils/common"),r=0,o=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,c=29,d=256,l=d+1+c,u=30,h=19,f=2*l+1,p=15,m=16,y=7,v=256,g=16,_=17,b=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(l+2));a(T);var C=new Array(2*u);a(C);var M=new Array(512);a(M);var L=new Array(256);a(L);var P=new Array(c);a(P);var I,O,k,x=new Array(u);function R(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?M[e]:M[256+(e>>>7)]}function H(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function $(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,H(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function B(e,t,n){$(e,n[2*t],n[2*t+1])}function F(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function j(e,t,n){var i,r,o=new Array(p+1),a=0;for(i=1;i<=p;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=F(o[s]++,s))}}function G(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<u;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function U(e){8<e.bi_valid?H(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function V(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function W(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&V(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!V(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function z(e,t,n){var i,r,o,a,s=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?B(e,r,t):(B(e,(o=L[r])+d+1,t),0!==(a=E[o])&&$(e,r-=P[o],a),B(e,o=N(--i),n),0!==(a=w[o])&&$(e,i-=x[o],a)),s<e.last_lit;);B(e,v,t)}function q(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,d=-1;for(e.heap_len=0,e.heap_max=f,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=d=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=d<2?++d:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=d,n=e.heap_len>>1;1<=n;n--)W(e,o,n);for(r=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],W(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,W(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,c=t.dyn_tree,d=t.max_code,l=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,y=t.stat_desc.max_length,v=0;for(o=0;o<=p;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<f;n++)y<(o=c[2*c[2*(i=e.heap[n])+1]+1]+1)&&(o=y,v++),c[2*i+1]=o,d<i||(e.bl_count[o]++,a=0,m<=i&&(a=h[i-m]),s=c[2*i],e.opt_len+=s*(o+a),u&&(e.static_len+=s*(l[2*i+1]+a)));if(0!==v){do{for(o=y-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[y]--,v-=2}while(0<v);for(o=y;0!==o;o--)for(i=e.bl_count[o];0!==i;)d<(r=e.heap[--n])||(c[2*r+1]!==o&&(e.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),i--)}}(e,t),j(o,d,e.bl_count)}function K(e,t,n){var i,r,o=-1,a=t[1],s=0,c=7,d=4;for(0===a&&(c=138,d=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<c&&r===a||(s<d?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*g]++):s<=10?e.bl_tree[2*_]++:e.bl_tree[2*b]++,o=r,d=(s=0)===a?(c=138,3):r===a?(c=6,3):(c=7,4))}function Z(e,t,n){var i,r,o=-1,a=t[1],s=0,c=7,d=4;for(0===a&&(c=138,d=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<c&&r===a)){if(s<d)for(;B(e,r,e.bl_tree),0!=--s;);else 0!==r?(r!==o&&(B(e,r,e.bl_tree),s--),B(e,g,e.bl_tree),$(e,s-3,2)):s<=10?(B(e,_,e.bl_tree),$(e,s-3,3)):(B(e,b,e.bl_tree),$(e,s-11,7));o=r,d=(s=0)===a?(c=138,3):r===a?(c=6,3):(c=7,4)}}a(x);var J=!1;function Y(e,t,n,r){$(e,(s<<1)+(r?1:0),3),function(e,t,n,r){U(e),r&&(H(e,n),H(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){J||(function(){var e,t,n,i,r,o=new Array(p+1);for(i=n=0;i<c-1;i++)for(P[i]=n,e=0;e<1<<E[i];e++)L[n++]=i;for(L[n-1]=i,i=r=0;i<16;i++)for(x[i]=r,e=0;e<1<<w[i];e++)M[r++]=i;for(r>>=7;i<u;i++)for(x[i]=r<<7,e=0;e<1<<w[i]-7;e++)M[256+r++]=i;for(t=0;t<=p;t++)o[t]=0;for(e=0;e<=143;)T[2*e+1]=8,e++,o[8]++;for(;e<=255;)T[2*e+1]=9,e++,o[9]++;for(;e<=279;)T[2*e+1]=7,e++,o[7]++;for(;e<=287;)T[2*e+1]=8,e++,o[8]++;for(j(T,l+1,o),e=0;e<u;e++)C[2*e+1]=5,C[2*e]=F(e,5);I=new R(T,E,d+1,l,p),O=new R(C,w,0,u,p),k=new R(new Array(0),A,0,h,y)}(),J=!0),e.l_desc=new D(e.dyn_ltree,I),e.d_desc=new D(e.dyn_dtree,O),e.bl_desc=new D(e.bl_tree,k),e.bi_buf=0,e.bi_valid=0,G(e)},n._tr_stored_block=Y,n._tr_flush_block=function(e,t,n,i){var a,s,c=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return r;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<d;t++)if(0!==e.dyn_ltree[2*t])return o;return r}(e)),q(e,e.l_desc),q(e,e.d_desc),c=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),q(e,e.bl_desc),t=h-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?Y(e,t,n,i):4===e.strategy||s===a?($(e,2+(i?1:0),3),z(e,T,C)):($(e,4+(i?1:0),3),function(e,t,n,i){var r;for($(e,t-257,5),$(e,n-1,5),$(e,i-4,4),r=0;r<i;r++)$(e,e.bl_tree[2*S[r]+1],3);Z(e,e.dyn_ltree,t-1),Z(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),z(e,e.dyn_ltree,e.dyn_dtree)),G(e),i&&U(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(L[n]+d+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){$(e,2,3),B(e,v,T),function(e){16===e.bi_valid?(H(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,i){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,i,r,o,a=1,s={},c=!1,d=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){r.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):function(e){setTimeout(h,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var r={callback:e,args:t};return s[a]=r,n(a),a++},l.clearImmediate=u}function u(e){delete s[e]}function h(e){if(c)setTimeout(h,0,e);else{var n=s[e];if(n){c=!0;try{!function(e){var n=e.callback,i=e.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(t,i)}}(n)}finally{u(e),c=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&h(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},5381:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.generateJWT=function(){return i(this,void 0,void 0,(function*(){try{return(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/auth/generate-jwt",!0)}catch(e){}}))},t.cancelDeletion=function(){return i(this,void 0,void 0,(function*(){try{(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/user/cancel-deletion",!0,{method:"PATCH",headers:{"Content-Type":"application/json"}})}catch(e){}}))},t.fetchJWKSFromServer=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield fetch(`https://api.infi-dev.com/ai-toolbox/auth/jwks?jwksuri=${encodeURIComponent(e)}&cacheBuster=${(new Date).getTime()}`);if(!t.ok)throw new Error(`Failed to fetch JWKS: ${t.status} ${t.statusText}`);return yield t.json()}catch(e){throw e}}))};const r=n(5074)},5147:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAllConversations=function(){return i(this,void 0,void 0,(function*(){const e=yield f(!1),t=yield f(!0),n=yield p();return{total:((null==e?void 0:e.total)||0)+((null==t?void 0:t.total)||0)+((null==n?void 0:n.total)||0),items:[...(null==e?void 0:e.items)||[],...(null==t?void 0:t.items)||[],...(null==n?void 0:n.items)||[]]}}))},t.fetchMessages=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield fetch(`${u}/${e}?s=true`,{headers:{Authorization:(yield(0,a.getAuthToken)())||"","Chatgpt-Account-Id":(yield(0,a.getAccountId)())||"","X-Extension-Request":"1"}});if(!t.ok){yield t.text();return null}return t.json()}catch(e){return null}}))},t.batchUpdateConversationStatus=function(e,t){return i(this,arguments,void 0,(function*(e,t,n=!1){try{if(!t||!Object.values(o.CONSTANTS.CONVERATION_STATUS).includes(t))throw new Error('Invalid status type. Must be "archive", "delete", or "unarchive".');let d={};t===o.CONSTANTS.CONVERATION_STATUS.ARCHIVE?d={is_archived:!0}:t===o.CONSTANTS.CONVERATION_STATUS.UNARCHIVE?d={is_archived:!1}:t===o.CONSTANTS.CONVERATION_STATUS.DELETE&&(d={is_visible:!1});const l=e.map((e=>i(this,void 0,void 0,(function*(){return fetch(`${u}/${e}?content_action=${t}&s=true`,{method:o.CONSTANTS.HTTP_REQUESTS.PATCH,headers:{"Content-Type":"application/json",Authorization:(yield(0,a.getAuthToken)())||"","Chatgpt-Account-Id":(yield(0,a.getAccountId)())||"","X-Extension-Request":"1"},body:JSON.stringify(d)}).then((n=>i(this,void 0,void 0,(function*(){if(!n.ok){yield n.text();throw new Error(`Failed to ${null==t?void 0:t.toLowerCase()} conversation ${e}`)}}))))}))));return yield Promise.all(l),t===o.CONSTANTS.CONVERATION_STATUS.DELETE&&(yield(0,r.deleteInnerChats)(e,n),yield(0,s.initializePinnedChats)(),yield(0,c.setPinnedChatsTabVisibility)()),{success:!0}}catch(e){return null}}))},t.fetchProjectConversations=p;const r=n(5982),o=n(2948),a=n(2997),s=n(2042),c=n(2765),d=o.CONSTANTS.API.CHATGPT_BACKEND_GIZMOS,l=o.CONSTANTS.API.CHATGPT_BACKEND_PROJECTS,u=o.CONSTANTS.API.CHATGPT_BACKEND_CONVERSATION,h=o.CONSTANTS.API.CHATGPT_BACKEND_CONVERSATIONS;function f(e){return i(this,void 0,void 0,(function*(){const t=[],n=100;let i=0;const r=yield fetch(`${h}?offset=0&limit=100&order=updated&is_archived=${e}&s=true`,{headers:{Authorization:(yield(0,a.getAuthToken)())||"","Chatgpt-Account-Id":(yield(0,a.getAccountId)())||"","X-Extension-Request":"1"}});if(!r.ok)return;const o=yield r.json(),s=o.items||[];t.push(...s),i=Math.min(o.total,500);const c=Math.ceil((i-n)/n),d=[];for(let t=1;t<=c;t++){const i=t*n;d.push(fetch(`${h}?offset=${i}&limit=100&order=updated&is_archived=${e}&s=true`,{headers:{Authorization:(yield(0,a.getAuthToken)())||"","Chatgpt-Account-Id":(yield(0,a.getAccountId)())||"","X-Extension-Request":"1"}}).then((e=>e.json())))}const l=yield Promise.all(d);for(const e of l)e.items&&t.push(...e.items);return{total:i,items:t}}))}function p(){return i(this,void 0,void 0,(function*(){const e=[];let t=null;const n=(yield(0,a.getAuthToken)())||"",r=(yield(0,a.getAccountId)())||"";try{const o=[];do{const e=`${l}?conversations_per_gizmo=20&s=true${t?`&cursor=${t}`:""}`,i=yield fetch(e,{headers:{Authorization:n,"Chatgpt-Account-Id":r,"X-Extension-Request":"1"}});if(!i.ok)throw new Error(`Failed to fetch gizmos: ${i.status}`);const a=yield i.json();o.push(...(a.items||[]).map((e=>{var t,n;return null===(n=null===(t=e.gizmo)||void 0===t?void 0:t.gizmo)||void 0===n?void 0:n.id})).filter((e=>void 0!==e))),t=a.cursor}while(t);return yield Promise.all(o.map((t=>function(e,t,n){return i(this,void 0,void 0,(function*(){let i=null;const r=(yield(0,a.getAuthToken)())||"",o=(yield(0,a.getAccountId)())||"";try{do{if(n.length>=t)break;const a=`${d}/${e}/conversations?cursor=${i||0}&s=true`,s=yield fetch(a,{headers:{Authorization:r,"Chatgpt-Account-Id":o,"X-Extension-Request":"1"}});if(!s.ok)throw new Error(`Failed to fetch conversations: ${s.status}`);const c=yield s.json();n.push(...c.items||[]),i=c.cursor}while(i)}catch(e){}}))}(t,500,e)))),{total:e.length,items:e.slice(0,500)}}catch(e){return{total:0,items:[]}}}))}},5982:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getUserFolders=function(){return i(this,void 0,void 0,(function*(){try{const e=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/folder/get",!0);if(!Array.isArray(e))throw Error();return e}catch(e){return}}))},t.getAllUserFolders=function(){return i(this,void 0,void 0,(function*(){try{const e=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/folder/get-all",!0);if(!Array.isArray(e))throw Error();return e}catch(e){return}}))},t.getFolderById=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)(`https://api.infi-dev.com/ai-toolbox/folder/get-by-id?folderId=${e}`,!0);if(!(null==t?void 0:t._id))throw Error();return t}catch(e){return}}))},t.getSubFolders=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)(`https://api.infi-dev.com/ai-toolbox/folder/get-subfolders?folderId=${e}`,!0);if(!(null==t?void 0:t.parentFolder)||!t.children)throw Error();return t}catch(e){return}}))},t.createFolder=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/folder/create",!0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!1===(null==t?void 0:t.success))throw Error();return t}catch(e){return}}))},t.updateFolder=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/folder/update-name",!0,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!(null==t?void 0:t.children))throw Error();return t}catch(e){return}}))},t.updateFolderChatIds=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/folder/update",!0,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!(null==t?void 0:t.parentFolder)||!t.children)throw Error();return t}catch(e){return}}))},t.deleteFoldersByIds=function(e,t){return i(this,void 0,void 0,(function*(){try{const n=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/folder/delete",!0,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({folderIds:e,parentFolderId:t})});if(!n.children)throw Error();return n}catch(e){return}}))},t.deleteInnerChats=function(e){return i(this,arguments,void 0,(function*(e,t=!1){try{const n=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/folder/inner-chats-delete",!0,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatIds:e,deleteAll:t})});if(!Array.isArray(n))throw Error();return n}catch(e){return}}))},t.getPinnedFolders=function(){return i(this,void 0,void 0,(function*(){try{const e=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/folder/pinned",!0);if(!Array.isArray(e))throw Error();return e}catch(e){return}}))},t.updatePinnedFolders=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/folder/update-pinned",!0,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!(null==t?void 0:t.success))throw Error();return t}catch(e){return}}))};const r=n(5074)},9589:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGPTsResults=function(e,t){return i(this,void 0,void 0,(function*(){try{let n=`${r.CONSTANTS.API.CHATGPT_BACKEND_SEARCH_GIZMOS}?q=${encodeURIComponent(e)}`;t&&(n+=`&cursor=${encodeURIComponent(t)}`);const i=yield fetch(n,{headers:{Authorization:(yield(0,o.getAuthToken)())||"","Chatgpt-Account-Id":(yield(0,o.getAccountId)())||"","X-Extension-Request":"1"}});if(!i.ok){yield i.text();return}const a=yield i.json(),s=a.items.map((e=>{const t=e.gizmo;return{id:t.id,title:t.display.name,author:t.author.display_name,avatar:t.display.profile_picture_url,description:t.display.description,numOfUsers:t.vanity_metrics.num_conversations_str,url:t.short_url,update_time:t.updated_at,type:"GPT"}}));return yield(0,o.setGPTs)(s),{results:s,nextCursor:null==a?void 0:a.cursor}}catch(e){}}))},t.getSharedGPTs=function(){return i(this,void 0,void 0,(function*(){var e;try{const t=yield fetch(r.CONSTANTS.API.CHATGPT_BACKEND_GET_GIZMOS,{headers:{Authorization:(yield(0,o.getAuthToken)())||"","Chatgpt-Account-Id":(yield(0,o.getAccountId)())||"","X-Extension-Request":"1"}});if(!t.ok){const e=yield t.text();throw new Error(`Failed to fetch shared GPTs. Status: ${t.status}. Details: ${e}`)}const n=yield t.json(),i=null===(e=null==n?void 0:n.gizmos)||void 0===e?void 0:e.map((e=>{var t;const n=null===(t=null==e?void 0:e.resource)||void 0===t?void 0:t.gizmo;return n&&"marketplace"!==n.share_recipient?{id:n.id,title:n.display.name,author:n.author.display_name,avatar:n.display.profile_picture_url,description:n.display.description,numOfUsers:n.vanity_metrics.num_conversations_str||0,url:n.short_url,update_time:n.updated_at,type:"GPT"}:null})).filter((e=>!!e));return yield(0,o.setSharedGPTs)(i),i}catch(e){return[]}}))};const r=n(2948),o=n(2997)},8134:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getInfoAndUpdates=function(){return i(this,void 0,void 0,(function*(){try{const e=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/announcements",!0,{headers:{"Content-Type":"application/json"}});if(!(null==e?void 0:e.version))throw Error();return e}catch(e){return}}))};const r=n(5074)},5847:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchDownloadURLs=function e(t){return i(this,arguments,void 0,(function*({page:t=1,limit:n=r.CONSTANTS.MEDIA_GALLERY.LIMIT,searchString:c="",chatIds:d=[],retryCount:l=1}){const u=(e,t)=>i(this,void 0,void 0,(function*(){const n=`${r.CONSTANTS.API.CHATGPT_BACKEND_CONVERSATION}/${t}/attachment/${e}/download`;try{const e=yield fetch(n,{headers:{Authorization:(yield(0,o.getAuthToken)())||"","Chatgpt-Account-Id":(yield(0,o.getAccountId)())||"","X-Extension-Request":"1"}});if(!e.ok)return null;return(yield e.json()).download_url||null}catch(e){return null}}));let h=[];if(h=0===d.length?yield(0,a.getImagesPaginated)(t,n,c):yield(0,a.getImagesByIds)(d),0===h.length&&l<=10)return yield e({page:t,limit:n,searchString:c,chatIds:d,retryCount:l+1});const f=[],p=[],m=r.CONSTANTS.MEDIA_GALLERY.LIMIT;for(let e=0;e<h.length;e+=m){const t=h.slice(e,e+m),n=yield Promise.all(t.map((e=>i(this,void 0,void 0,(function*(){if(e.downloadURL&&!s(e.downloadURL))return e;const t=yield u(e.id,e.convo_id);if(t){const n=Object.assign(Object.assign({},e),{downloadURL:t});return p.push(n),n}return null})))));f.push(...n.filter((e=>null!==e)))}return(0,a.saveImages)(p),f}))};const r=n(2948),o=n(2997),a=n(4702);function s(e){const t=new URLSearchParams(e.split("?")[1]).get("se");if(!t)return!0;const n=new Date(t),i=new Date((new Date).toISOString());return n.getTime()-6e4<=i.getTime()}},8137:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getUserPinnedChats=function(){return i(this,void 0,void 0,(function*(){try{const e=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/pinned/get",!0,{headers:{"Content-Type":"application/json"}});if(!Array.isArray(e))throw Error();return e}catch(e){return}}))},t.pinChat=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/pinned/pin",!0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!1===(null==t?void 0:t.success))throw Error();return t}catch(e){return}}))},t.unpinChat=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/pinned/unpin",!0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!Array.isArray(t))throw Error();return t}catch(e){return}}))},t.deletePromptsByIds=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/prompt/delete",!0,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({promptsIds:e})});if(!Array.isArray(t))throw Error();return t}catch(e){return}}))};const r=n(5074)},6998:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPromptLibraryItems=function(e){return i(this,void 0,void 0,(function*(){try{const t=Object.assign(Object.assign({},e),{query:e.query||"",category:e.category||r.CONSTANTS.PROMPT_LIBRARY.DEFAULT_CATEGORY}),n=new URLSearchParams(Object.fromEntries(Object.entries(t).map((([e,t])=>[e,String(t)])))).toString(),i=yield(0,o.fetchFromAPI)(`https://api.infi-dev.com/ai-toolbox/prompts-library?${n}`,!0,{headers:{"Content-Type":"application/json"}});if((null==i?void 0:i.success)&&!Array.isArray(i.data))throw Error();return Object.assign(Object.assign({},i),{data:((null==i?void 0:i.data)||[]).map((e=>Object.assign(Object.assign({},e),{_id:(0,a.generateUniqueId)()})))})}catch(e){return}}))};const r=n(2948),o=n(5074),a=n(7755)},8860:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getUserPrompts=function(){return i(this,void 0,void 0,(function*(){try{const e=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/prompt/get",!0,{headers:{"Content-Type":"application/json"}});if(e&&!Array.isArray(e.prompts))throw Error();return(null==e?void 0:e.prompts)||[]}catch(e){return}}))},t.createPrompt=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/prompt/create",!0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!1===(null==t?void 0:t.success))throw Error();return t}catch(e){return}}))},t.updatePrompt=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/prompt/update",!0,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!Array.isArray(t))throw Error();return t}catch(e){return}}))},t.deletePromptsByIds=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/prompt/delete",!0,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({promptsIds:e})});if(!Array.isArray(t))throw Error();return t}catch(e){return}}))},t.getUserChains=function(){return i(this,void 0,void 0,(function*(){try{const e=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/chains/get",!0,{headers:{"Content-Type":"application/json"}});if(e&&!Array.isArray(e.chains))throw Error();return(null==e?void 0:e.chains)||[]}catch(e){return}}))},t.createChain=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/chains/create",!0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!1===(null==t?void 0:t.success))throw Error();return t}catch(e){return}}))},t.updateChain=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/chains/update",!0,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!Array.isArray(t))throw Error();return t}catch(e){return}}))},t.deleteChainsByIds=function(e){return i(this,void 0,void 0,(function*(){try{const t=yield(0,r.fetchFromAPI)("https://api.infi-dev.com/ai-toolbox/chains/delete",!0,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({chainIds:e})});if(!Array.isArray(t))throw Error();return t}catch(e){return}}))};const r=n(5074)},5185:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchVoiceMessage=function(e,t,n){return i(this,void 0,void 0,(function*(){try{const i=yield fetch(`${a}?message_id=${e}&conversation_id=${t}&voice=${n}&format=aac`,{headers:{Authorization:(yield(0,r.getAuthToken)())||"","Chatgpt-Account-Id":(yield(0,r.getAccountId)())||"","X-Extension-Request":"1"}});if(!i.ok||!i.body){yield i.text();return null}const o=i.body.getReader(),s=[];let c=0;for(;;){const{done:e,value:t}=yield o.read();if(e)break;s.push(t),c+=t.length}const d=new Blob(s,{type:"audio/aac"});return{blob:d,url:URL.createObjectURL(d)}}catch(e){return null}}))},t.fetchAdvancedVoiceMessage=function(e,t,n){return i(this,void 0,void 0,(function*(){try{const e=yield fetch(`${s}/${t}/attachment/${n}/download`,{headers:{Authorization:(yield(0,r.getAuthToken)())||"","Chatgpt-Account-Id":(yield(0,r.getAccountId)())||"","X-Extension-Request":"1"}});if(!e.ok){yield e.text();return null}const i=yield e.json();return"success"===i.status&&i.download_url?i.download_url:null}catch(e){return null}}))};const r=n(2997),o=n(2948),a=o.CONSTANTS.API.CHATGPT_BACKEND_VOICE,s=o.CONSTANTS.API.CHATGPT_BACKEND_CONVERSATION},1750:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n    <g id="infi-add-icon" stroke-width="0"></g>\n    <g id="infi-add-icon" stroke-linecap="round" stroke-linejoin="round"></g>\n    <g id="infi-add-icon">\n      <g id="infi-add-icon">\n        <path id="infi-add-icon" d="M6 12H12M12 12H18M12 12V18M12 12V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n      </g>\n    </g>\n  </svg>\n'},6818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg fill="currentColor" height="18px" width="18px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 504.994 504.994" xml:space="preserve" stroke="currentColor" stroke-width="11.109868"><g id="infi-affiliate-icon" stroke-width="0"></g><g id="infi-affiliate-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-affiliate-icon"> <g> <g> <g> <path d="M134.386,327.995H32.917C14.862,327.995,0,344.582,0,365.01v101.793c0,20.341,14.862,36.994,32.917,36.994h101.469 c18.055,0,32.874-16.631,32.874-36.994V365.01C167.26,344.582,152.462,327.995,134.386,327.995z"></path> <circle cx="83.587" cy="254.417" r="63.246"></circle> <path d="M472.12,327.995H370.672c-18.033,0-32.874,16.631-32.874,37.059v101.793c0,20.341,14.841,37.015,32.874,37.015H472.12 c18.119,0,32.874-16.631,32.874-37.015V365.053C505.015,344.582,490.239,327.995,472.12,327.995z"></path> <path d="M421.342,317.662c35.031,0,63.289-28.301,63.289-63.246s-28.258-63.246-63.289-63.246 c-34.902,0-63.202,28.301-63.202,63.246C358.161,289.361,386.441,317.662,421.342,317.662z"></path> <polygon points="266.723,385.049 200.328,385.049 200.328,426.249 266.723,426.249 266.723,454.593 315.667,405.628 266.723,356.727 "></polygon> <path d="M312.323,144.772c-5.652-5.652-12.943-10.419-21.894-14.388c-4.638-2.028-14.172-4.875-28.689-8.585V39.485 c9.34,1.898,16.696,5.889,22.024,11.907c5.35,5.975,8.844,14.69,10.613,25.993l29.574-4.487 c-2.567-18.335-10.095-32.68-22.585-43.163c-9.728-8.262-22.908-13.158-39.561-14.776V1.132h-17.041v13.827 c-19.069,1.941-33.348,7.097-43.012,15.66C187.256,43.217,180.03,59.74,180.03,80.146c0,11.476,2.459,21.743,7.399,30.803 c4.983,9.017,12.015,16.049,21.226,21.183c12.295,6.903,24.353,11.885,36.109,14.884v90.166 c-11.26-1.208-20.881-6.881-28.926-17.084c-5.565-7.248-9.513-18.572-11.735-34.017l-28.991,5.544 c1.1,14.949,4.875,27.546,11.433,37.921c6.493,10.332,14.258,17.839,23.232,22.455c8.973,4.659,20.6,7.916,34.988,9.707v28.732 v0.022h16.998v-29.185c20.104-0.971,36.498-8.089,49.117-21.398c12.705-13.266,19.025-29.897,19.025-49.807 c0-9.038-1.488-17.451-4.53-25.216C322.289,157.111,317.996,150.424,312.323,144.772z M244.764,117.356 c-13.05-3.343-22.304-8.305-27.783-14.862c-5.436-6.622-8.24-14.754-8.24-24.504c0-9.901,3.236-18.421,9.664-25.626 c6.45-7.183,15.207-11.691,26.359-13.374V117.356z M289.372,222.686c-7.248,8.262-16.502,13.115-27.611,14.496v-85.787 c15.423,3.969,25.712,9.146,30.889,15.445c5.134,6.32,7.636,14.668,7.636,25.087C300.265,204.157,296.641,214.36,289.372,222.686 z"></path> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </g> </g></svg>\n'},7202:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-announcement-icon" stroke-width="0"></g><g id="infi-announcement-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-announcement-icon"> <path d="M4 13.9999L5.57465 20.2985C5.61893 20.4756 5.64107 20.5642 5.66727 20.6415C5.92317 21.397 6.60352 21.9282 7.39852 21.9933C7.4799 21.9999 7.5712 21.9999 7.75379 21.9999C7.98244 21.9999 8.09677 21.9999 8.19308 21.9906C9.145 21.8982 9.89834 21.1449 9.99066 20.193C10 20.0967 10 19.9823 10 19.7537V5.49991M18.5 13.4999C20.433 13.4999 22 11.9329 22 9.99991C22 8.06691 20.433 6.49991 18.5 6.49991M10.25 5.49991H6.5C4.01472 5.49991 2 7.51463 2 9.99991C2 12.4852 4.01472 14.4999 6.5 14.4999H10.25C12.0164 14.4999 14.1772 15.4468 15.8443 16.3556C16.8168 16.8857 17.3031 17.1508 17.6216 17.1118C17.9169 17.0756 18.1402 16.943 18.3133 16.701C18.5 16.4401 18.5 15.9179 18.5 14.8736V5.1262C18.5 4.08191 18.5 3.55976 18.3133 3.2988C18.1402 3.05681 17.9169 2.92421 17.6216 2.88804C17.3031 2.84903 16.8168 3.11411 15.8443 3.64427C14.1772 4.55302 12.0164 5.49991 10.25 5.49991Z" stroke="currentColor" stroke-width="2.208" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>\n'},3126:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52" width="20" height="20" enable-background="new 0 0 52 52" xml:space="preserve"><g id="infi-back-icon" stroke-width="0"></g><g id="infi-back-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-back-icon"> <path d="M48.6,23H15.4c-0.9,0-1.3-1.1-0.7-1.7l9.6-9.6c0.6-0.6,0.6-1.5,0-2.1l-2.2-2.2c-0.6-0.6-1.5-0.6-2.1,0 L2.5,25c-0.6,0.6-0.6,1.5,0,2.1L20,44.6c0.6,0.6,1.5,0.6,2.1,0l2.1-2.1c0.6-0.6,0.6-1.5,0-2.1l-9.6-9.6C14,30.1,14.4,29,15.3,29 h33.2c0.8,0,1.5-0.6,1.5-1.4v-3C50,23.8,49.4,23,48.6,23z"></path> </g></svg>\n'},5520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg fill="currentColor" width="27px" height="27px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="0.552"><g id="infi-bot-icon" stroke-width="0"></g><g id="infi-bot-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-bot-icon"><path d="M21.928 11.607c-.202-.488-.635-.605-.928-.633V8c0-1.103-.897-2-2-2h-6V4.61c.305-.274.5-.668.5-1.11a1.5 1.5 0 0 0-3 0c0 .442.195.836.5 1.11V6H5c-1.103 0-2 .897-2 2v2.997l-.082.006A1 1 0 0 0 1.99 12v2a1 1 0 0 0 1 1H3v5c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5a1 1 0 0 0 1-1v-1.938a1.006 1.006 0 0 0-.072-.455zM5 20V8h14l.001 3.996L19 12v2l.001.005.001 5.995H5z"></path><ellipse cx="8.5" cy="12" rx="1.5" ry="2"></ellipse><ellipse cx="15.5" cy="12" rx="1.5" ry="2"></ellipse><path d="M8 16h8v2H8z"></path></g></svg>\n'},2383:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-bug-icon" stroke-width="0"></g><g id="infi-bug-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-bug-icon"> <path d="M19 15V11.9375C19 9.76288 17.2371 8 15.0625 8H8.9375C6.76288 8 5 9.76288 5 11.9375V15C5 18.866 8.13401 22 12 22C15.866 22 19 18.866 19 15Z" stroke="currentColor" stroke-width="2.3280000000000003"></path> <path d="M16.5 8.5V7.5C16.5 5.01472 14.4853 3 12 3C9.51472 3 7.5 5.01472 7.5 7.5V8.5" stroke="currentColor" stroke-width="2.3280000000000003"></path> <path d="M19 14H22" stroke="currentColor" stroke-width="2.3280000000000003" stroke-linecap="round"></path> <path d="M5 14H2" stroke="currentColor" stroke-width="2.3280000000000003" stroke-linecap="round"></path> <path d="M14.5 3.5L17 2" stroke="currentColor" stroke-width="2.3280000000000003" stroke-linecap="round"></path> <path d="M9.5 3.5L7 2" stroke="currentColor" stroke-width="2.3280000000000003" stroke-linecap="round"></path> <path d="M20.5 20.0002L18.5 19.2002" stroke="currentColor" stroke-width="2.3280000000000003" stroke-linecap="round"></path> <path d="M20.5 7.9998L18.5 8.7998" stroke="currentColor" stroke-width="2.3280000000000003" stroke-linecap="round"></path> <path d="M3.5 20.0002L5.5 19.2002" stroke="currentColor" stroke-width="2.3280000000000003" stroke-linecap="round"></path> <path d="M3.5 7.9998L5.5 8.7998" stroke="currentColor" stroke-width="2.3280000000000003" stroke-linecap="round"></path> <path d="M12 21.5V15" stroke="currentColor" stroke-width="2.3280000000000003" stroke-linecap="round"></path> </g></svg>\n'},5259:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg class="infi-chat-icon" width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-chat-icon" stroke-width="0"></g><g id="infi-chat-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-chat-icon"> <path d="M17 3.33782C15.5291 2.48697 13.8214 2 12 2C6.47715 2 2 6.47715 2 12C2 13.5997 2.37562 15.1116 3.04346 16.4525C3.22094 16.8088 3.28001 17.2161 3.17712 17.6006L2.58151 19.8267C2.32295 20.793 3.20701 21.677 4.17335 21.4185L6.39939 20.8229C6.78393 20.72 7.19121 20.7791 7.54753 20.9565C8.88837 21.6244 10.4003 22 12 22C17.5228 22 22 17.5228 22 12C22 10.1786 21.513 8.47087 20.6622 7" stroke="currentColor" stroke-width="2.4" stroke-linecap="round"></path> <path d="M8 12H8.009M11.991 12H12M15.991 12H16" stroke="currentColor" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>\n'},6058:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.52242 6.53608C9.7871 4.41979 12.1019 3 14.75 3C18.7541 3 22 6.24594 22 10.25C22 11.9007 21.4474 13.4239 20.5183 14.6425L21.348 15.97C21.5407 16.2783 21.5509 16.6668 21.3746 16.9848C21.1984 17.3027 20.8635 17.5 20.5 17.5H15.4559C14.1865 19.5963 11.883 21 9.25 21C9.18896 21 9.12807 20.9992 9.06735 20.9977C9.04504 20.9992 9.02258 21 9 21H3.5C3.13647 21 2.80158 20.8027 2.62536 20.4848C2.44913 20.1668 2.45933 19.7783 2.652 19.47L3.48171 18.1425C2.55263 16.9239 2 15.4007 2 13.75C2 9.99151 4.85982 6.90116 8.52242 6.53608ZM10.8938 6.68714C14.106 7.43177 16.5 10.3113 16.5 13.75C16.5 14.3527 16.4262 14.939 16.2871 15.5H18.6958L18.435 15.0828C18.1933 14.6961 18.2439 14.1949 18.5579 13.8643C19.4525 12.922 20 11.651 20 10.25C20 7.3505 17.6495 5 14.75 5C13.2265 5 11.8535 5.64888 10.8938 6.68714ZM8.89548 19C8.94178 18.9953 8.98875 18.9938 9.03611 18.9957C9.107 18.9986 9.17831 19 9.25 19C11.3195 19 13.1112 17.8027 13.9668 16.0586C14.3079 15.363 14.5 14.5804 14.5 13.75C14.5 10.8505 12.1495 8.5 9.25 8.5C9.21772 8.5 9.18553 8.50029 9.15341 8.50087C6.2987 8.55218 4 10.8828 4 13.75C4 15.151 4.54746 16.422 5.44215 17.3643C5.75613 17.6949 5.80666 18.1961 5.56498 18.5828L5.30425 19H8.89548Z" fill="currentColor"></path></svg>\n'},6125:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg viewBox="0 0 24 24" width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-check-icon" stroke-width="0"></g><g id="infi-check-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-check-icon"> <path d="M10.5 15.25C10.307 15.2353 10.1276 15.1455 9.99998 15L6.99998 12C6.93314 11.8601 6.91133 11.7029 6.93756 11.55C6.96379 11.3971 7.03676 11.2562 7.14643 11.1465C7.2561 11.0368 7.39707 10.9638 7.54993 10.9376C7.70279 10.9114 7.86003 10.9332 7.99998 11L10.47 13.47L19 5.00004C19.1399 4.9332 19.2972 4.91139 19.45 4.93762C19.6029 4.96385 19.7439 5.03682 19.8535 5.14649C19.9632 5.25616 20.0362 5.39713 20.0624 5.54999C20.0886 5.70286 20.0668 5.86009 20 6.00004L11 15C10.8724 15.1455 10.6929 15.2353 10.5 15.25Z" fill="currentColor"></path> <path d="M12 21C10.3915 20.9974 8.813 20.5638 7.42891 19.7443C6.04481 18.9247 4.90566 17.7492 4.12999 16.34C3.54037 15.29 3.17596 14.1287 3.05999 12.93C2.87697 11.1721 3.2156 9.39921 4.03363 7.83249C4.85167 6.26578 6.1129 4.9746 7.65999 4.12003C8.71001 3.53041 9.87134 3.166 11.07 3.05003C12.2641 2.92157 13.4719 3.03725 14.62 3.39003C14.7224 3.4105 14.8195 3.45215 14.9049 3.51232C14.9903 3.57248 15.0622 3.64983 15.116 3.73941C15.1698 3.82898 15.2043 3.92881 15.2173 4.03249C15.2302 4.13616 15.2214 4.2414 15.1913 4.34146C15.1612 4.44152 15.1105 4.53419 15.0425 4.61352C14.9745 4.69286 14.8907 4.75712 14.7965 4.80217C14.7022 4.84723 14.5995 4.87209 14.4951 4.87516C14.3907 4.87824 14.2867 4.85946 14.19 4.82003C13.2186 4.52795 12.1987 4.43275 11.19 4.54003C10.193 4.64212 9.22694 4.94485 8.34999 5.43003C7.50512 5.89613 6.75813 6.52088 6.14999 7.27003C5.52385 8.03319 5.05628 8.91361 4.77467 9.85974C4.49307 10.8059 4.40308 11.7987 4.50999 12.78C4.61208 13.777 4.91482 14.7431 5.39999 15.62C5.86609 16.4649 6.49084 17.2119 7.23999 17.82C8.00315 18.4462 8.88357 18.9137 9.8297 19.1953C10.7758 19.4769 11.7686 19.5669 12.75 19.46C13.747 19.3579 14.713 19.0552 15.59 18.57C16.4349 18.1039 17.1818 17.4792 17.79 16.73C18.4161 15.9669 18.8837 15.0864 19.1653 14.1403C19.4469 13.1942 19.5369 12.2014 19.43 11.22C19.4201 11.1169 19.4307 11.0129 19.461 10.9139C19.4914 10.8149 19.5409 10.7228 19.6069 10.643C19.6728 10.5631 19.7538 10.497 19.8453 10.4485C19.9368 10.3999 20.0369 10.3699 20.14 10.36C20.2431 10.3502 20.3471 10.3607 20.4461 10.3911C20.5451 10.4214 20.6372 10.471 20.717 10.5369C20.7969 10.6028 20.863 10.6839 20.9115 10.7753C20.9601 10.8668 20.9901 10.9669 21 11.07C21.1821 12.829 20.842 14.6026 20.0221 16.1695C19.2022 17.7363 17.9389 19.0269 16.39 19.88C15.3288 20.4938 14.1495 20.8755 12.93 21C12.62 21 12.3 21 12 21Z" fill="currentColor"></path> </g></svg>\n'},8873:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256"><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path></svg>\n'},2992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-sm"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path></svg>\n'},7581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="18px" height="18px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-download-icon" stroke-width="0"></g><g id="infi-download-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-download-icon"> <path d="M3 15C3 17.8284 3 19.2426 3.87868 20.1213C4.75736 21 6.17157 21 9 21H15C17.8284 21 19.2426 21 20.1213 20.1213C21 19.2426 21 17.8284 21 15" stroke="currentColor" stroke-width="1.92" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 3V16M12 16L16 11.625M12 16L8 11.625" stroke="currentColor" stroke-width="1.92" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>\n'},8047:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-drag-icon" stroke-width="0"></g><g id="infi-drag-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-drag-icon"> <g id="Interface / Drag_Vertical"> <g id="Vector"> <path d="M14 18C14 18.5523 14.4477 19 15 19C15.5523 19 16 18.5523 16 18C16 17.4477 15.5523 17 15 17C14.4477 17 14 17.4477 14 18Z" stroke="currentColor" stroke-width="2.184" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M8 18C8 18.5523 8.44772 19 9 19C9.55228 19 10 18.5523 10 18C10 17.4477 9.55228 17 9 17C8.44772 17 8 17.4477 8 18Z" stroke="currentColor" stroke-width="2.184" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M14 12C14 12.5523 14.4477 13 15 13C15.5523 13 16 12.5523 16 12C16 11.4477 15.5523 11 15 11C14.4477 11 14 11.4477 14 12Z" stroke="currentColor" stroke-width="2.184" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M8 12C8 12.5523 8.44772 13 9 13C9.55228 13 10 12.5523 10 12C10 11.4477 9.55228 11 9 11C8.44772 11 8 11.4477 8 12Z" stroke="currentColor" stroke-width="2.184" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M14 6C14 6.55228 14.4477 7 15 7C15.5523 7 16 6.55228 16 6C16 5.44772 15.5523 5 15 5C14.4477 5 14 5.44772 14 6Z" stroke="currentColor" stroke-width="2.184" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M8 6C8 6.55228 8.44772 7 9 7C9.55228 7 10 6.55228 10 6C10 5.44772 9.55228 5 9 5C8.44772 5 8 5.44772 8 6Z" stroke="currentColor" stroke-width="2.184" stroke-linecap="round" stroke-linejoin="round"></path> </g> </g> </g></svg>\n'},1180:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="24px" height="24px" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg" fill="currentColor" stroke="currentColor" stroke-width="1.659"><g id="infi-dupliacte-icon" stroke-width="0"></g><g id="infi-dupliacte-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-dupliacte-icon"> <g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" transform="translate(2 2)"> <path d="m12.5 14.5v-8c0-1.1045695-.8954305-2-2-2h-8c-1.1045695 0-2 .8954305-2 2v8c0 1.1045695.8954305 2 2 2h8c1.1045695 0 2-.8954305 2-2z"></path> <path d="m12.5 12.5h2c1.1045695 0 2-.8954305 2-2v-7.99654173c0-1.1045695-.8954305-2-2-2-.0011518 0-.0023035 0-.0034553 0l-7.99999998.01382415c-1.10321873.00190597-1.99654472.89677664-1.99654472 1.99999701v1.98272057"></path> <path d="m6.5 7.5v6"></path> <path d="m6.5 7.5v6" transform="matrix(0 1 -1 0 17 4)"></path> </g> </g></svg>\n'},225:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='<svg viewBox="0 0 24 24" width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-edit-icon" stroke-width="0"></g><g id="infi-edit-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-edit-icon"> <g id="infi-edit-icon"> <path id="infi-edit-icon" d="M12 8.00012L4 16.0001V20.0001L8 20.0001L16 12.0001M12 8.00012L14.8686 5.13146L14.8704 5.12976C15.2652 4.73488 15.463 4.53709 15.691 4.46301C15.8919 4.39775 16.1082 4.39775 16.3091 4.46301C16.5369 4.53704 16.7345 4.7346 17.1288 5.12892L18.8686 6.86872C19.2646 7.26474 19.4627 7.46284 19.5369 7.69117C19.6022 7.89201 19.6021 8.10835 19.5369 8.3092C19.4628 8.53736 19.265 8.73516 18.8695 9.13061L18.8686 9.13146L16 12.0001M12 8.00012L16 12.0001" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g> </g></svg>'},955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='<svg viewBox="0 0 24 24" fill="none" width="24" height="24" xmlns="http://www.w3.org/2000/svg"><g id="infi-error-icon" stroke-width="0"></g><g id="infi-error-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-error-icon"> <path d="M12 16H12.01M12 8V12M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>'},4424:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg viewBox="0 0 24 24" width="22" height="22" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-export-icon" stroke-width="0"></g><g id="infi-export-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-export-icon"> <path d="M13 11L21.2 2.80005" stroke="currentColor" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M22 6.8V2H17.2" stroke="currentColor" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M11 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22H15C20 22 22 20 22 15V13" stroke="currentColor" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>\n'},5784:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-eye-icon" stroke-width="0"></g><g id="infi-eye-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-eye-icon"> <path d="M15.0007 12C15.0007 13.6569 13.6576 15 12.0007 15C10.3439 15 9.00073 13.6569 9.00073 12C9.00073 10.3431 10.3439 9 12.0007 9C13.6576 9 15.0007 10.3431 15.0007 12Z" stroke="currentColor" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12.0012 5C7.52354 5 3.73326 7.94288 2.45898 12C3.73324 16.0571 7.52354 19 12.0012 19C16.4788 19 20.2691 16.0571 21.5434 12C20.2691 7.94291 16.4788 5 12.0012 5Z" stroke="currentColor" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>\n'},881:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg class="infi-folder-icon" width="22px" height="22px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-folder-icon" stroke-width="0"></g><g id="infi-folder-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-folder-icon"> <path d="M3 8.2C3 7.07989 3 6.51984 3.21799 6.09202C3.40973 5.71569 3.71569 5.40973 4.09202 5.21799C4.51984 5 5.0799 5 6.2 5H9.67452C10.1637 5 10.4083 5 10.6385 5.05526C10.8425 5.10425 11.0376 5.18506 11.2166 5.29472C11.4184 5.4184 11.5914 5.59135 11.9373 5.93726L12.0627 6.06274C12.4086 6.40865 12.5816 6.5816 12.7834 6.70528C12.9624 6.81494 13.1575 6.89575 13.3615 6.94474C13.5917 7 13.8363 7 14.3255 7H17.8C18.9201 7 19.4802 7 19.908 7.21799C20.2843 7.40973 20.5903 7.71569 20.782 8.09202C21 8.51984 21 9.0799 21 10.2V15.8C21 16.9201 21 17.4802 20.782 17.908C20.5903 18.2843 20.2843 18.5903 19.908 18.782C19.4802 19 18.9201 19 17.8 19H6.2C5.07989 19 4.51984 19 4.09202 18.782C3.71569 18.5903 3.40973 18.2843 3.21799 17.908C3 17.4802 3 16.9201 3 15.8V8.2Z" stroke="currentColor" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>\n'},1843:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-gallery-icon" stroke-width="0"></g><g id="infi-gallery-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-gallery-icon"> <circle cx="16" cy="8" r="2" stroke="currentColor" stroke-width="2.088"></circle> <path d="M2 12.5001L3.75159 10.9675C4.66286 10.1702 6.03628 10.2159 6.89249 11.0721L11.1822 15.3618C11.8694 16.0491 12.9512 16.1428 13.7464 15.5839L14.0446 15.3744C15.1888 14.5702 16.7369 14.6634 17.7765 15.599L21 18.5001" stroke="currentColor" stroke-width="2.088" stroke-linecap="round"></path> <path d="M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C21.5093 4.43821 21.8356 5.80655 21.9449 8" stroke="currentColor" stroke-width="2.088" stroke-linecap="round"></path> </g></svg>\n'},8831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor"><g id="infi-hotkey-icon" stroke-width="0"></g><g id="infi-hotkey-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-hotkey-icon"> <title>hotkey_line</title> <g stroke-width="0.00024000000000000003" fill="none" fill-rule="evenodd"> <g id="Development" transform="translate(-816.000000, 0.000000)" fill-rule="nonzero"> <g id="hotkey_line" transform="translate(816.000000, 0.000000)"> <path d="M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z" id="MingCute" fill-rule="nonzero"> </path> <path d="M18,3 C19.597725,3 20.903664,4.24892392 20.9949075,5.82372764 L21,6 L21,18 C21,19.597725 19.7511226,20.903664 18.1762773,20.9949075 L18,21 L6,21 C4.40232321,21 3.09633941,19.7511226 3.00509271,18.1762773 L3,18 L3,6 C3,4.40232321 4.24892392,3.09633941 5.82372764,3.00509271 L6,3 L18,3 Z M15.2934,16.7076 C14.9018,16.895 14.4631,17 14,17 L5,17 L5,18 C5,18.5523 5.44772,19 6,19 L17.5858,19 L15.2934,16.7076 Z M18,5 L17,5 L17,14 C17,14.3859167 16.9270833,14.7548889 16.7943287,15.0937801 L16.7076,15.2934 L19,17.5858 L19,6 C19,5.48716857 18.613973,5.06449347 18.1166239,5.0067278 L18,5 Z M15,5 L6,5 C5.48716857,5 5.06449347,5.38604429 5.0067278,5.88337975 L5,6 L5,15 L14,15 C14.51285,15 14.9355092,14.613973 14.9932725,14.1166239 L15,14 L15,5 Z M9,7 C9.51283143,7 9.93550653,7.38604429 9.9932722,7.88337975 L10,8 L10,8.63148 L11.4453,7.66795 C11.9048,7.3616 12.5257,7.48577 12.8321,7.9453 C13.1165214,8.37200643 13.0297464,8.93782745 12.6479974,9.26176291 L12.5547,9.33205 L11.1778,10.25 L12.5547,11.1679 C13.0142,11.4743 13.1384,12.0952 12.8321,12.5547 C12.5475857,12.9813786 11.9918954,13.1189464 11.5460613,12.8911811 L11.4453,12.8321 L10,11.8685 L10,12 C10,12.5523 9.55228,13 9,13 C8.48716857,13 8.06449347,12.613973 8.0067278,12.1166239 L8,12 L8,8 C8,7.44772 8.44772,7 9,7 Z" id="hotkey-path" fill="currentColor"> </path> </g> </g> </g> </g></svg>\n'},9545:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-info-icon" stroke-width="0"></g><g id="infi-info-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-info-icon"> <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2.3280000000000003"></circle> <path d="M12 17V11" stroke="currentColor" stroke-width="2.3280000000000003" stroke-linecap="round"></path> <circle cx="1" cy="1" r="1" transform="matrix(1 0 0 -1 11 9)" fill="currentColor"></circle> </g></svg>\n'},1622:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.888" stroke-linecap="round" stroke-linejoin="round"><g id="infi-library-icon" stroke-width="0"></g><g id="infi-library-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-library-icon"> <path d="M16 6l4 14"></path> <path d="M12 6v14"></path> <path d="M8 8v12"></path> <path d="M4 4v16"></path> </g></svg>\n'},8870:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='<svg viewBox="0 0 24 24" width="20" height="20" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\n  <g id="infi-manageFolder-icon" stroke-width="0"></g>\n  <g id="infi-manageFolder-icon" stroke-linecap="round" stroke-linejoin="round"></g>\n  <g id="infi-manageFolder-icon">\n    <path fill="currentColor" d="M23.556 17.11h-.338c-.244 0-.444-.2-.444-.443 0-.124.053-.236.133-.316l.236-.235c.173-.173.173-.458 0-.63l-.627-.628c-.173-.173-.458-.173-.63 0l-.228.227c-.08.09-.196.142-.324.142-.244 0-.444-.2-.444-.444v-.338c0-.244-.2-.444-.444-.444h-.89c-.243 0-.443.2-.443.444v.338c0 .244-.2.444-.444.444-.13 0-.245-.053-.325-.142l-.227-.227c-.173-.173-.458-.173-.63 0l-.628.627c-.173.173-.173.458 0 .63.084.085.178.165.258.254.08.093.11.173.11.298 0 .244-.2.444-.443.444h-.338c-.244 0-.444.2-.444.444v.89c0 .243.2.443.444.443h.338c.244 0 .444.2.444.444 0 .125-.032.205-.112.3-.08.088-.173.168-.258.252-.173.173-.173.458 0 .63l.627.628c.173.173.458.173.63 0l.228-.227c.08-.09.196-.142.324-.142.243 0 .443.2.443.445v.338c0 .244.2.444.444.444h.89c.243 0 .443-.2.443-.444v-.338c0-.244.2-.444.444-.444.13 0 .244.054.324.143l.227.227c.173.173.458.173.63 0l.628-.627c.173-.173.173-.458 0-.63l-.236-.237c-.08-.08-.133-.19-.133-.316 0-.244.2-.444.444-.444h.338c.244 0 .444-.2.444-.444v-.89c0-.24-.2-.44-.444-.44zM20 19.334c-.738 0-1.333-.596-1.333-1.333 0-.738.596-1.333 1.333-1.333s1.333.596 1.333 1.333c0 .738-.595 1.333-1.333 1.333z"></path>\n    <path fill="currentColor" d="M22 4h-9c0-1.1-.89-1.99-1.99-2H2C.9 2 0 2.9 0 4v16c0 1.1.9 2 2 2h11c.55 0 1-.45 1-1s-.45-1-1-1H2.5c-.28 0-.5-.22-.5-.5v-15c0-.28.22-.5.5-.5h8c.28 0 .5.22.5.5V8c0 1.1.9 2 2 2h8.5c.28 0 .5.22.5.5v.5c0 .55.45 1 1 1s1-.45 1-1V5.96C23.98 4.88 23.09 4 22 4zm-.5 4h-8c-.28 0-.5-.22-.5-.5v-1c0-.28.22-.5.5-.5h8c.28 0 .5.22.5.5v1c0 .28-.22.5-.5.5z"></path>\n  </g>\n</svg>\n'},8373:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-folders-icon" stroke-width="0"></g><g id="infi-folders-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-folders-icon"> <path d="M19 10V6C19 5.44772 18.5523 5 18 5H10.0351C9.73195 5 9.44513 4.86245 9.25533 4.62602L8.25023 3.37398C8.06042 3.13755 7.77361 3 7.47042 3H3C2.44772 3 2 3.44772 2 4L2 15C2 15.5523 2.44772 16 3 16H5" stroke="currentColor" stroke-width="2.112"></path> <path d="M5 20V9C5 8.44772 5.44772 8 6 8H10.4704C10.7736 8 11.0604 8.13755 11.2502 8.37398L12.2553 9.62602C12.4451 9.86245 12.7319 10 13.0351 10H21C21.5523 10 22 10.4477 22 11V20C22 20.5523 21.5523 21 21 21H6C5.44772 21 5 20.5523 5 20Z" stroke="currentColor" stroke-width="2.112"></path> </g></svg>\n'},8026:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n    <svg viewBox="0 0 24 24" width="20px" height="20px" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-pin-icon" stroke-width="0"></g><g id="infi-pin-icon" stroke-linecap="round" stroke-linejoin="round" stroke="#191414" stroke-width="0.43200000000000005"> <path d="M15.9894 4.9502L16.52 4.42014V4.42014L15.9894 4.9502ZM19.0716 8.03562L18.541 8.56568L19.0716 8.03562ZM8.73837 19.429L8.20777 19.9591L8.73837 19.429ZM4.62169 15.3081L5.15229 14.7781L4.62169 15.3081ZM17.5669 14.9943L17.3032 14.2922L17.5669 14.9943ZM15.6498 15.7146L15.9136 16.4167H15.9136L15.6498 15.7146ZM8.3322 8.38177L7.62798 8.12375L8.3322 8.38177ZM9.02665 6.48636L9.73087 6.74438V6.74438L9.02665 6.48636ZM5.84504 10.6735L6.04438 11.3965L5.84504 10.6735ZM7.30167 10.1351L6.86346 9.52646L6.86346 9.52646L7.30167 10.1351ZM7.67582 9.79038L8.24665 10.2768H8.24665L7.67582 9.79038ZM14.251 16.3805L14.742 16.9475L14.742 16.9475L14.251 16.3805ZM13.3806 18.2012L12.6574 18.0022V18.0022L13.3806 18.2012ZM13.9169 16.7466L13.3075 16.3094L13.3075 16.3094L13.9169 16.7466ZM2.71846 12.7552L1.96848 12.76L1.96848 12.76L2.71846 12.7552ZM2.93045 11.9521L2.28053 11.5778H2.28053L2.93045 11.9521ZM11.3052 21.3431L11.3064 20.5931H11.3064L11.3052 21.3431ZM12.0933 21.1347L11.7215 20.4833L11.7215 20.4833L12.0933 21.1347ZM11.6973 2.03606L11.8588 2.76845L11.6973 2.03606ZM1.4694 21.4699C1.17666 21.763 1.1769 22.2379 1.46994 22.5306C1.76298 22.8233 2.23786 22.8231 2.5306 22.5301L1.4694 21.4699ZM7.18383 17.8721C7.47657 17.5791 7.47633 17.1042 7.18329 16.8114C6.89024 16.5187 6.41537 16.5189 6.12263 16.812L7.18383 17.8721ZM15.4588 5.48026L18.541 8.56568L19.6022 7.50556L16.52 4.42014L15.4588 5.48026ZM9.26897 18.8989L5.15229 14.7781L4.09109 15.8382L8.20777 19.9591L9.26897 18.8989ZM17.3032 14.2922L15.386 15.0125L15.9136 16.4167L17.8307 15.6964L17.3032 14.2922ZM9.03642 8.63979L9.73087 6.74438L8.32243 6.22834L7.62798 8.12375L9.03642 8.63979ZM6.04438 11.3965C6.75583 11.2003 7.29719 11.0625 7.73987 10.7438L6.86346 9.52646C6.69053 9.65097 6.46601 9.72428 5.6457 9.95044L6.04438 11.3965ZM7.62798 8.12375C7.33502 8.92332 7.24338 9.14153 7.10499 9.30391L8.24665 10.2768C8.60041 9.86175 8.7823 9.33337 9.03642 8.63979L7.62798 8.12375ZM7.73987 10.7438C7.92696 10.6091 8.09712 10.4523 8.24665 10.2768L7.10499 9.30391C7.0337 9.38757 6.9526 9.46229 6.86346 9.52646L7.73987 10.7438ZM15.386 15.0125C14.697 15.2714 14.1716 15.4571 13.76 15.8135L14.742 16.9475C14.9028 16.8082 15.1192 16.7152 15.9136 16.4167L15.386 15.0125ZM14.1037 18.4001C14.329 17.5813 14.4021 17.3569 14.5263 17.1838L13.3075 16.3094C12.9902 16.7517 12.8529 17.2919 12.6574 18.0022L14.1037 18.4001ZM13.76 15.8135C13.5903 15.9605 13.4384 16.1269 13.3075 16.3094L14.5263 17.1838C14.5887 17.0968 14.6611 17.0175 14.742 16.9475L13.76 15.8135ZM5.15229 14.7781C4.50615 14.1313 4.06799 13.691 3.78366 13.3338C3.49835 12.9753 3.46889 12.8201 3.46845 12.7505L1.96848 12.76C1.97215 13.3422 2.26127 13.8297 2.61002 14.2679C2.95976 14.7073 3.47115 15.2176 4.09109 15.8382L5.15229 14.7781ZM5.6457 9.95044C4.80048 10.1835 4.10396 10.3743 3.58296 10.5835C3.06341 10.792 2.57116 11.0732 2.28053 11.5778L3.58038 12.3264C3.615 12.2663 3.71693 12.146 4.1418 11.9755C4.56523 11.8055 5.16337 11.6394 6.04438 11.3965L5.6457 9.95044ZM3.46845 12.7505C3.46751 12.6016 3.50616 12.4553 3.58038 12.3264L2.28053 11.5778C2.07354 11.9372 1.96586 12.3452 1.96848 12.76L3.46845 12.7505ZM8.20777 19.9591C8.83164 20.5836 9.34464 21.0987 9.78647 21.4506C10.227 21.8015 10.7179 22.0922 11.3041 22.0931L11.3064 20.5931C11.2369 20.593 11.0814 20.5644 10.721 20.2773C10.3618 19.9912 9.91923 19.5499 9.26897 18.8989L8.20777 19.9591ZM12.6574 18.0022C12.4133 18.8897 12.2462 19.4924 12.0751 19.9188C11.9033 20.3467 11.7821 20.4487 11.7215 20.4833L12.465 21.7861C12.974 21.4956 13.2573 21.0004 13.4671 20.4775C13.6776 19.9532 13.8694 19.2516 14.1037 18.4001L12.6574 18.0022ZM11.3041 22.0931C11.7112 22.0937 12.1114 21.9879 12.465 21.7861L11.7215 20.4833C11.595 20.5555 11.4519 20.5933 11.3064 20.5931L11.3041 22.0931ZM18.541 8.56568C19.6045 9.63022 20.3403 10.3695 20.7917 10.9788C21.2353 11.5774 21.2863 11.8959 21.2321 12.1464L22.6982 12.4634C22.8881 11.5854 22.5382 10.8162 21.9969 10.0857C21.4635 9.36592 20.6305 8.53486 19.6022 7.50556L18.541 8.56568ZM17.8307 15.6964C19.1921 15.1849 20.294 14.773 21.0771 14.3384C21.8718 13.8973 22.5083 13.3416 22.6982 12.4634L21.2321 12.1464C21.178 12.3968 21.0001 12.6655 20.3491 13.0268C19.6865 13.3946 18.7112 13.7632 17.3032 14.2922L17.8307 15.6964ZM16.52 4.42014C15.4841 3.3832 14.6481 2.54353 13.9246 2.00638C13.1908 1.46165 12.4175 1.10912 11.5357 1.30367L11.8588 2.76845C12.1086 2.71335 12.4277 2.7633 13.0304 3.21075C13.6433 3.66579 14.3876 4.40801 15.4588 5.48026L16.52 4.42014ZM9.73087 6.74438C10.2525 5.32075 10.6161 4.33403 10.9812 3.66315C11.3402 3.00338 11.609 2.82357 11.8588 2.76845L11.5357 1.30367C10.654 1.49819 10.1005 2.14332 9.66362 2.94618C9.23278 3.73793 8.82688 4.85154 8.32243 6.22834L9.73087 6.74438ZM2.5306 22.5301L7.18383 17.8721L6.12263 16.812L1.4694 21.4699L2.5306 22.5301Z" fill="currentColor"></path> </g><g id="infi-pin-icon"> <path d="M15.9894 4.9502L16.52 4.42014V4.42014L15.9894 4.9502ZM19.0716 8.03562L18.541 8.56568L19.0716 8.03562ZM8.73837 19.429L8.20777 19.9591L8.73837 19.429ZM4.62169 15.3081L5.15229 14.7781L4.62169 15.3081ZM17.5669 14.9943L17.3032 14.2922L17.5669 14.9943ZM15.6498 15.7146L15.9136 16.4167H15.9136L15.6498 15.7146ZM8.3322 8.38177L7.62798 8.12375L8.3322 8.38177ZM9.02665 6.48636L9.73087 6.74438V6.74438L9.02665 6.48636ZM5.84504 10.6735L6.04438 11.3965L5.84504 10.6735ZM7.30167 10.1351L6.86346 9.52646L6.86346 9.52646L7.30167 10.1351ZM7.67582 9.79038L8.24665 10.2768H8.24665L7.67582 9.79038ZM14.251 16.3805L14.742 16.9475L14.742 16.9475L14.251 16.3805ZM13.3806 18.2012L12.6574 18.0022V18.0022L13.3806 18.2012ZM13.9169 16.7466L13.3075 16.3094L13.3075 16.3094L13.9169 16.7466ZM2.71846 12.7552L1.96848 12.76L1.96848 12.76L2.71846 12.7552ZM2.93045 11.9521L2.28053 11.5778H2.28053L2.93045 11.9521ZM11.3052 21.3431L11.3064 20.5931H11.3064L11.3052 21.3431ZM12.0933 21.1347L11.7215 20.4833L11.7215 20.4833L12.0933 21.1347ZM11.6973 2.03606L11.8588 2.76845L11.6973 2.03606ZM1.4694 21.4699C1.17666 21.763 1.1769 22.2379 1.46994 22.5306C1.76298 22.8233 2.23786 22.8231 2.5306 22.5301L1.4694 21.4699ZM7.18383 17.8721C7.47657 17.5791 7.47633 17.1042 7.18329 16.8114C6.89024 16.5187 6.41537 16.5189 6.12263 16.812L7.18383 17.8721ZM15.4588 5.48026L18.541 8.56568L19.6022 7.50556L16.52 4.42014L15.4588 5.48026ZM9.26897 18.8989L5.15229 14.7781L4.09109 15.8382L8.20777 19.9591L9.26897 18.8989ZM17.3032 14.2922L15.386 15.0125L15.9136 16.4167L17.8307 15.6964L17.3032 14.2922ZM9.03642 8.63979L9.73087 6.74438L8.32243 6.22834L7.62798 8.12375L9.03642 8.63979ZM6.04438 11.3965C6.75583 11.2003 7.29719 11.0625 7.73987 10.7438L6.86346 9.52646C6.69053 9.65097 6.46601 9.72428 5.6457 9.95044L6.04438 11.3965ZM7.62798 8.12375C7.33502 8.92332 7.24338 9.14153 7.10499 9.30391L8.24665 10.2768C8.60041 9.86175 8.7823 9.33337 9.03642 8.63979L7.62798 8.12375ZM7.73987 10.7438C7.92696 10.6091 8.09712 10.4523 8.24665 10.2768L7.10499 9.30391C7.0337 9.38757 6.9526 9.46229 6.86346 9.52646L7.73987 10.7438ZM15.386 15.0125C14.697 15.2714 14.1716 15.4571 13.76 15.8135L14.742 16.9475C14.9028 16.8082 15.1192 16.7152 15.9136 16.4167L15.386 15.0125ZM14.1037 18.4001C14.329 17.5813 14.4021 17.3569 14.5263 17.1838L13.3075 16.3094C12.9902 16.7517 12.8529 17.2919 12.6574 18.0022L14.1037 18.4001ZM13.76 15.8135C13.5903 15.9605 13.4384 16.1269 13.3075 16.3094L14.5263 17.1838C14.5887 17.0968 14.6611 17.0175 14.742 16.9475L13.76 15.8135ZM5.15229 14.7781C4.50615 14.1313 4.06799 13.691 3.78366 13.3338C3.49835 12.9753 3.46889 12.8201 3.46845 12.7505L1.96848 12.76C1.97215 13.3422 2.26127 13.8297 2.61002 14.2679C2.95976 14.7073 3.47115 15.2176 4.09109 15.8382L5.15229 14.7781ZM5.6457 9.95044C4.80048 10.1835 4.10396 10.3743 3.58296 10.5835C3.06341 10.792 2.57116 11.0732 2.28053 11.5778L3.58038 12.3264C3.615 12.2663 3.71693 12.146 4.1418 11.9755C4.56523 11.8055 5.16337 11.6394 6.04438 11.3965L5.6457 9.95044ZM3.46845 12.7505C3.46751 12.6016 3.50616 12.4553 3.58038 12.3264L2.28053 11.5778C2.07354 11.9372 1.96586 12.3452 1.96848 12.76L3.46845 12.7505ZM8.20777 19.9591C8.83164 20.5836 9.34464 21.0987 9.78647 21.4506C10.227 21.8015 10.7179 22.0922 11.3041 22.0931L11.3064 20.5931C11.2369 20.593 11.0814 20.5644 10.721 20.2773C10.3618 19.9912 9.91923 19.5499 9.26897 18.8989L8.20777 19.9591ZM12.6574 18.0022C12.4133 18.8897 12.2462 19.4924 12.0751 19.9188C11.9033 20.3467 11.7821 20.4487 11.7215 20.4833L12.465 21.7861C12.974 21.4956 13.2573 21.0004 13.4671 20.4775C13.6776 19.9532 13.8694 19.2516 14.1037 18.4001L12.6574 18.0022ZM11.3041 22.0931C11.7112 22.0937 12.1114 21.9879 12.465 21.7861L11.7215 20.4833C11.595 20.5555 11.4519 20.5933 11.3064 20.5931L11.3041 22.0931ZM18.541 8.56568C19.6045 9.63022 20.3403 10.3695 20.7917 10.9788C21.2353 11.5774 21.2863 11.8959 21.2321 12.1464L22.6982 12.4634C22.8881 11.5854 22.5382 10.8162 21.9969 10.0857C21.4635 9.36592 20.6305 8.53486 19.6022 7.50556L18.541 8.56568ZM17.8307 15.6964C19.1921 15.1849 20.294 14.773 21.0771 14.3384C21.8718 13.8973 22.5083 13.3416 22.6982 12.4634L21.2321 12.1464C21.178 12.3968 21.0001 12.6655 20.3491 13.0268C19.6865 13.3946 18.7112 13.7632 17.3032 14.2922L17.8307 15.6964ZM16.52 4.42014C15.4841 3.3832 14.6481 2.54353 13.9246 2.00638C13.1908 1.46165 12.4175 1.10912 11.5357 1.30367L11.8588 2.76845C12.1086 2.71335 12.4277 2.7633 13.0304 3.21075C13.6433 3.66579 14.3876 4.40801 15.4588 5.48026L16.52 4.42014ZM9.73087 6.74438C10.2525 5.32075 10.6161 4.33403 10.9812 3.66315C11.3402 3.00338 11.609 2.82357 11.8588 2.76845L11.5357 1.30367C10.654 1.49819 10.1005 2.14332 9.66362 2.94618C9.23278 3.73793 8.82688 4.85154 8.32243 6.22834L9.73087 6.74438ZM2.5306 22.5301L7.18383 17.8721L6.12263 16.812L1.4694 21.4699L2.5306 22.5301Z" fill="currentColor"></path> </g></svg>\n'},8875:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n<svg viewBox="0 0 24 24" width="22" height="22" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-prompt-icon" stroke-width="0"></g><g id="infi-prompt-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-prompt-icon"> <path fill-rule="evenodd" clip-rule="evenodd" d="M2 6C2 4.34315 3.34315 3 5 3H19C20.6569 3 22 4.34315 22 6V18C22 19.6569 20.6569 21 19 21H5C3.34315 21 2 19.6569 2 18V6ZM5 5C4.44772 5 4 5.44772 4 6V7H20V6C20 5.44772 19.5523 5 19 5H5ZM4 18V9H20V18C20 18.5523 19.5523 19 19 19H5C4.44772 19 4 18.5523 4 18ZM7.70711 11.2929C7.31658 10.9024 6.68342 10.9024 6.29289 11.2929C5.90237 11.6834 5.90237 12.3166 6.29289 12.7071L7.58579 14L6.29289 15.2929C5.90237 15.6834 5.90237 16.3166 6.29289 16.7071C6.68342 17.0976 7.31658 17.0976 7.70711 16.7071L9.70711 14.7071C10.0976 14.3166 10.0976 13.6834 9.70711 13.2929L7.70711 11.2929Z" fill="currentColor"></path> </g></svg>\n'},5329:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg fill="currentColor" height="24px" width="24px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-268 289.4 262.6 222.6" xml:space="preserve"><g id="infi-reddit-icon" stroke-width="0"></g><g id="infi-reddit-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-reddit-icon"> <g> <path d="M-5.6,392.5c-4.4-23.6-30.2-34.8-50.3-21.8c-1.4,0.9-2.3,0.8-3.6,0c-15.1-8.8-31.4-14.2-48.5-17.1 c-5.8-1-11.6-1.6-17.6-2.3c4.8-13.6,9.5-27.1,14.3-40.7c11.1,2.6,22,5.4,32.9,7.7c2.9,0.6,4,1.8,4.7,4.8 c2.9,13.6,16,22.4,30.2,20.7c13-1.5,23.4-13.3,23.5-26.6c0.1-12.3-7.8-23.1-19.5-26.6c-11.8-3.5-24.1,1.1-30.8,11.5 c-1,1.5-1.8,1.7-3.5,1.3c-9.1-2.3-18.2-4.4-27.4-6.6c-6.7-1.6-13.4-3.2-20.2-4.8c-0.4,1-0.7,1.8-1,2.6 c-6.4,18.2-12.8,36.4-19.2,54.6c-0.5,1.5-1.2,2.2-2.9,2.2c-3.2,0.1-6.3,0.3-9.5,0.6c-21,2.1-41.1,7.7-59.5,18.3 c-1.6,0.9-2.7,1-4.3-0.1c-15.4-9.9-36.1-5.1-45.3,10.7c-2.3,4-3.3,8.7-4.9,13.1c0,2.6,0,5.1,0,7.7c0.8,2.8,1.5,5.8,2.5,8.5 c1.9,5.1,5.2,9.2,9.3,12.7c0.7,0.6,1.4,1.7,1.3,2.4c-1.6,15.7,2.9,29.5,12.2,42c10.5,14.3,24.6,24,40.6,31.2 c23.9,10.7,49.1,14.6,75.2,13.1c22.7-1.3,44.3-6.6,64.4-17.6c14.7-8.1,27.2-18.5,35.8-33.2c6.3-10.8,9-22.4,7.9-34.9 c-0.1-0.7,0.1-1.8,0.6-2.2c6.9-5.5,11.1-12.6,12.5-21.4c0-0.2,0.2-0.5,0.3-0.7c0-2.7,0-5.5,0-8.2C-5.3,393.3-5.5,392.9-5.6,392.5z M-47.2,305.3c6.4,0,11.5,5.1,11.5,11.6c0,6.4-5.1,11.6-11.5,11.7c-6.4,0-11.8-5.3-11.7-11.7C-58.9,310.4-53.6,305.2-47.2,305.3z M-249.2,406.9c-4-6-3.5-14.2,1.1-19.7c4.6-5.5,12.2-7.7,18.4-5.1C-237.8,389.1-244.5,397.2-249.2,406.9z M-44.6,460.3 c-9.3,11.8-21.6,19.5-35.2,25.3c-18.2,7.7-37.3,10.9-59.6,10.9c-21.2-0.2-44-4.7-65.1-16.2c-9.9-5.4-18.7-12.3-25.4-21.6 c-12.9-17.8-12.4-38.5,1.3-55.6c9.4-11.7,21.6-19.5,35.3-25.2c22-9.1,44.9-12.1,68.5-10.4c19.9,1.4,38.9,6.2,56.4,16 c9.7,5.4,18.4,12.2,25,21.3C-30.5,422.5-30.9,442.9-44.6,460.3z M-23.5,406.9c-2.9-4.4-5.6-9-8.9-13.1c-3.2-4.1-7-7.8-10.7-11.8 c6.3-2.6,14.1-0.3,18.7,5.6C-19.9,393.2-19.6,401.4-23.5,406.9z"></path> <path d="M-102.5,458c-3.5,2.4-7.1,4.8-11,6.4c-11.8,4.6-24.1,5.1-36.6,2.8c-7-1.3-13.7-3.6-19.2-8.5c-3.8-3.4-8.6-3.5-11.6-0.1 c-3.1,3.4-2.9,8.3,1,11.6c3.3,2.7,6.8,5.2,10.6,7.1c10.2,5.2,21.2,6.8,32.6,7.4c6.7-0.9,13.4-1.5,20-2.9 c9.2-1.9,17.7-5.6,24.8-12.1c3.3-3.1,3.5-7.8,0.6-11C-94.3,455.5-98.9,455.5-102.5,458z"></path> <path d="M-96.7,396.7c-12.2-0.3-22,9.1-22.2,21.1c-0.2,11.5,9.3,21.3,20.7,21.5c12.1,0.2,21.7-9,22-21 C-76,406.8-85.3,397-96.7,396.7z"></path> <path d="M-151.8,418.4c0.1-11.7-9.3-21.5-20.8-21.6c-12-0.2-21.6,9.1-21.8,21.1c-0.2,11.6,9.1,21.3,20.6,21.5 C-161.8,439.6-151.9,430.2-151.8,418.4z"></path> </g> </g></svg>\n'},6031:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="22px" height="22px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor" stroke="currentColor" stroke-width="0.288"><g id="infi-release-notes-icon" stroke-width="0"></g><g id="infi-release-notes-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-release-notes-icon"><path d="m9.47368421 4.15789474v2.10526315h-7.36842105v12.86315791h12.63157894v-7.6h2.1052632v7.368421c0 1.1578948-.9473685 2.1052632-2.1052632 2.1052632h-12.63157894c-1.15789474 0-2.10526316-.9473684-2.10526316-2.1052632v-12.63157891c0-1.15789473.94736842-2.10526315 2.10526316-2.10526315zm0 10.52631576v2.1052632h-5.26315789v-2.1052632zm3.15789469-3.1578947v2.1052631h-8.42105258v-2.1052631zm0-3.15789475v2.10526315h-8.42105258v-2.10526315zm3.1578948-5.26315789.9868421 2.17105263 2.1710526.9868421-2.1710526.98684211-.9868421 2.17105263-.9868421-2.17105263-2.1710527-.98684211 2.1710527-.9868421zm-3.1578948-2.10526316.6578948 1.44736842 1.4473684.65789474-1.4473684.65789473-.6578948 1.44736843-.6578947-1.44736843-1.4473684-.65789473 1.4473684-.65789474z" fill="currentColor" transform="translate(3 1)"></path></g></svg>\n'},8997:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5555 4C10.099 4 9.70052 4.30906 9.58693 4.75114L9.29382 5.8919H14.715L14.4219 4.75114C14.3083 4.30906 13.9098 4 13.4533 4H10.5555ZM16.7799 5.8919L16.3589 4.25342C16.0182 2.92719 14.8226 2 13.4533 2H10.5555C9.18616 2 7.99062 2.92719 7.64985 4.25342L7.22886 5.8919H4C3.44772 5.8919 3 6.33961 3 6.8919C3 7.44418 3.44772 7.8919 4 7.8919H4.10069L5.31544 19.3172C5.47763 20.8427 6.76455 22 8.29863 22H15.7014C17.2354 22 18.5224 20.8427 18.6846 19.3172L19.8993 7.8919H20C20.5523 7.8919 21 7.44418 21 6.8919C21 6.33961 20.5523 5.8919 20 5.8919H16.7799ZM17.888 7.8919H6.11196L7.30423 19.1057C7.3583 19.6142 7.78727 20 8.29863 20H15.7014C16.2127 20 16.6417 19.6142 16.6958 19.1057L17.888 7.8919ZM10 10C10.5523 10 11 10.4477 11 11V16C11 16.5523 10.5523 17 10 17C9.44772 17 9 16.5523 9 16V11C9 10.4477 9.44772 10 10 10ZM14 10C14.5523 10 15 10.4477 15 11V16C15 16.5523 14.5523 17 14 17C13.4477 17 13 16.5523 13 16V11C13 10.4477 13.4477 10 14 10Z" fill="currentColor"></path></svg>\n'},2424:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="16px" height="16px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="0.3399999999999999"><g id="infi-save-icon" stroke-width="0"></g><g id="infi-save-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-save-icon"> <path fill-rule="evenodd" clip-rule="evenodd" d="M18.1716 1C18.702 1 19.2107 1.21071 19.5858 1.58579L22.4142 4.41421C22.7893 4.78929 23 5.29799 23 5.82843V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H18.1716ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21L5 21L5 15C5 13.3431 6.34315 12 8 12L16 12C17.6569 12 19 13.3431 19 15V21H20C20.5523 21 21 20.5523 21 20V6.82843C21 6.29799 20.7893 5.78929 20.4142 5.41421L18.5858 3.58579C18.2107 3.21071 17.702 3 17.1716 3H17V5C17 6.65685 15.6569 8 14 8H10C8.34315 8 7 6.65685 7 5V3H4ZM17 21V15C17 14.4477 16.5523 14 16 14L8 14C7.44772 14 7 14.4477 7 15L7 21L17 21ZM9 3H15V5C15 5.55228 14.5523 6 14 6H10C9.44772 6 9 5.55228 9 5V3Z" fill="currentColor"></path> </g></svg>\n'},2009:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-search-icon" stroke-width="0"></g><g id="infi-search-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-search-icon"> <path d="M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z" stroke="currentColor" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>\n'},3696:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg viewBox="0 0 24 24" width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-settings-icon" stroke-width="0"></g><g id="infi-settings-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-settings-icon"> <path d="M14 5.28988H13C13 5.7323 13.2907 6.12213 13.7148 6.24833L14 5.28988ZM15.3302 5.84137L14.8538 6.72058C15.2429 6.93144 15.7243 6.86143 16.0373 6.54847L15.3302 5.84137ZM16.2426 4.92891L15.5355 4.2218V4.2218L16.2426 4.92891ZM17.6569 4.92891L16.9498 5.63601L16.9498 5.63602L17.6569 4.92891ZM19.0711 6.34312L19.7782 5.63602V5.63602L19.0711 6.34312ZM19.0711 7.75734L18.364 7.05023L19.0711 7.75734ZM18.1586 8.66978L17.4515 7.96268C17.1386 8.27563 17.0686 8.75709 17.2794 9.14621L18.1586 8.66978ZM18.7101 10L17.7517 10.2853C17.8779 10.7093 18.2677 11 18.7101 11V10ZM18.7101 14V13C18.2677 13 17.8779 13.2907 17.7517 13.7148L18.7101 14ZM18.1586 15.3302L17.2794 14.8538C17.0686 15.2429 17.1386 15.7244 17.4515 16.0373L18.1586 15.3302ZM19.0711 16.2427L19.7782 15.5356V15.5356L19.0711 16.2427ZM19.0711 17.6569L18.364 16.9498L18.364 16.9498L19.0711 17.6569ZM17.6569 19.0711L18.364 19.7782V19.7782L17.6569 19.0711ZM15.3302 18.1586L16.0373 17.4515C15.7243 17.1386 15.2429 17.0686 14.8538 17.2794L15.3302 18.1586ZM14 18.7101L13.7148 17.7517C13.2907 17.8779 13 18.2677 13 18.7101H14ZM10 18.7101H11C11 18.2677 10.7093 17.8779 10.2853 17.7517L10 18.7101ZM8.6698 18.1586L9.14623 17.2794C8.7571 17.0685 8.27565 17.1385 7.96269 17.4515L8.6698 18.1586ZM7.75736 19.071L7.05026 18.3639L7.05026 18.3639L7.75736 19.071ZM6.34315 19.071L5.63604 19.7782H5.63604L6.34315 19.071ZM4.92894 17.6568L4.22183 18.3639H4.22183L4.92894 17.6568ZM4.92894 16.2426L4.22183 15.5355H4.22183L4.92894 16.2426ZM5.84138 15.3302L6.54849 16.0373C6.86144 15.7243 6.93146 15.2429 6.7206 14.8537L5.84138 15.3302ZM5.28989 14L6.24835 13.7147C6.12215 13.2907 5.73231 13 5.28989 13V14ZM5.28989 10V11C5.73231 11 6.12215 10.7093 6.24835 10.2852L5.28989 10ZM5.84138 8.66982L6.7206 9.14625C6.93146 8.75712 6.86145 8.27567 6.54849 7.96272L5.84138 8.66982ZM4.92894 7.75738L4.22183 8.46449H4.22183L4.92894 7.75738ZM4.92894 6.34317L5.63605 7.05027H5.63605L4.92894 6.34317ZM6.34315 4.92895L7.05026 5.63606L7.05026 5.63606L6.34315 4.92895ZM7.75737 4.92895L8.46447 4.22185V4.22185L7.75737 4.92895ZM8.6698 5.84139L7.9627 6.54849C8.27565 6.86145 8.7571 6.93146 9.14623 6.7206L8.6698 5.84139ZM10 5.28988L10.2853 6.24833C10.7093 6.12213 11 5.7323 11 5.28988H10ZM11 2C9.89545 2 9.00002 2.89543 9.00002 4H11V4V2ZM13 2H11V4H13V2ZM15 4C15 2.89543 14.1046 2 13 2V4H15ZM15 5.28988V4H13V5.28988H15ZM15.8066 4.96215C15.3271 4.70233 14.8179 4.48994 14.2853 4.33143L13.7148 6.24833C14.1132 6.36691 14.4944 6.52587 14.8538 6.72058L15.8066 4.96215ZM15.5355 4.2218L14.6231 5.13426L16.0373 6.54847L16.9498 5.63602L15.5355 4.2218ZM18.364 4.2218C17.5829 3.44075 16.3166 3.44075 15.5355 4.2218L16.9498 5.63602V5.63601L18.364 4.2218ZM19.7782 5.63602L18.364 4.2218L16.9498 5.63602L18.364 7.05023L19.7782 5.63602ZM19.7782 8.46444C20.5592 7.68339 20.5592 6.41706 19.7782 5.63602L18.364 7.05023L18.364 7.05023L19.7782 8.46444ZM18.8657 9.37689L19.7782 8.46444L18.364 7.05023L17.4515 7.96268L18.8657 9.37689ZM19.6686 9.71475C19.5101 9.18211 19.2977 8.67285 19.0378 8.19335L17.2794 9.14621C17.4741 9.50555 17.6331 9.8868 17.7517 10.2853L19.6686 9.71475ZM18.7101 11H20V9H18.7101V11ZM20 11H22C22 9.89543 21.1046 9 20 9V11ZM20 11V13H22V11H20ZM20 13V15C21.1046 15 22 14.1046 22 13H20ZM20 13H18.7101V15H20V13ZM19.0378 15.8066C19.2977 15.3271 19.5101 14.8179 19.6686 14.2852L17.7517 13.7148C17.6331 14.1132 17.4741 14.4944 17.2794 14.8538L19.0378 15.8066ZM19.7782 15.5356L18.8657 14.6231L17.4515 16.0373L18.364 16.9498L19.7782 15.5356ZM19.7782 18.364C20.5592 17.5829 20.5592 16.3166 19.7782 15.5356L18.364 16.9498H18.364L19.7782 18.364ZM18.364 19.7782L19.7782 18.364L18.364 16.9498L16.9498 18.364L18.364 19.7782ZM15.5355 19.7782C16.3166 20.5592 17.5829 20.5592 18.364 19.7782L16.9498 18.364L15.5355 19.7782ZM14.6231 18.8657L15.5355 19.7782L16.9498 18.364L16.0373 17.4515L14.6231 18.8657ZM14.2853 19.6686C14.8179 19.5101 15.3271 19.2977 15.8066 19.0378L14.8538 17.2794C14.4944 17.4741 14.1132 17.6331 13.7148 17.7517L14.2853 19.6686ZM15 20V18.7101H13V20H15ZM13 22C14.1046 22 15 21.1046 15 20H13V22ZM11 22H13V20H11V22ZM9.00002 20C9.00002 21.1046 9.89545 22 11 22V20H9.00002ZM9.00002 18.7101V20H11V18.7101H9.00002ZM8.19337 19.0378C8.67287 19.2977 9.18213 19.5101 9.71477 19.6686L10.2853 17.7517C9.88681 17.6331 9.50557 17.4741 9.14623 17.2794L8.19337 19.0378ZM8.46447 19.7782L9.3769 18.8657L7.96269 17.4515L7.05026 18.3639L8.46447 19.7782ZM5.63604 19.7782C6.41709 20.5592 7.68342 20.5592 8.46447 19.7781L7.05026 18.3639L5.63604 19.7782ZM4.22183 18.3639L5.63604 19.7782L7.05026 18.3639L5.63604 16.9497L4.22183 18.3639ZM4.22183 15.5355C3.44078 16.3166 3.44078 17.5829 4.22183 18.3639L5.63604 16.9497V16.9497L4.22183 15.5355ZM5.13427 14.6231L4.22183 15.5355L5.63604 16.9497L6.54849 16.0373L5.13427 14.6231ZM4.33144 14.2852C4.48996 14.8179 4.70234 15.3271 4.96217 15.8066L6.7206 14.8537C6.52589 14.4944 6.36693 14.1132 6.24835 13.7147L4.33144 14.2852ZM5.28989 13H4V15H5.28989V13ZM4 13H4H2C2 14.1046 2.89543 15 4 15V13ZM4 13V11H2V13H4ZM4 11V9C2.89543 9 2 9.89543 2 11H4ZM4 11H5.28989V9H4V11ZM4.96217 8.1934C4.70235 8.67288 4.48996 9.18213 4.33144 9.71475L6.24835 10.2852C6.36693 9.88681 6.52589 9.50558 6.7206 9.14625L4.96217 8.1934ZM4.22183 8.46449L5.13428 9.37693L6.54849 7.96272L5.63605 7.05027L4.22183 8.46449ZM4.22183 5.63606C3.44078 6.41711 3.44079 7.68344 4.22183 8.46449L5.63605 7.05027L5.63605 7.05027L4.22183 5.63606ZM5.63605 4.22185L4.22183 5.63606L5.63605 7.05027L7.05026 5.63606L5.63605 4.22185ZM8.46447 4.22185C7.68343 3.4408 6.4171 3.4408 5.63605 4.22185L7.05026 5.63606V5.63606L8.46447 4.22185ZM9.37691 5.13428L8.46447 4.22185L7.05026 5.63606L7.9627 6.54849L9.37691 5.13428ZM9.71477 4.33143C9.18213 4.48995 8.67287 4.70234 8.19337 4.96218L9.14623 6.7206C9.50557 6.52588 9.88681 6.36692 10.2853 6.24833L9.71477 4.33143ZM9.00002 4V5.28988H11V4H9.00002Z" fill="currentColor"></path> <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></circle> </g></svg>\n'},5917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-star-icon" stroke-width="0"></g><g id="infi-star-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-star-icon"> <path d="M11.2691 4.41115C11.5006 3.89177 11.6164 3.63208 11.7776 3.55211C11.9176 3.48263 12.082 3.48263 12.222 3.55211C12.3832 3.63208 12.499 3.89177 12.7305 4.41115L14.5745 8.54808C14.643 8.70162 14.6772 8.77839 14.7302 8.83718C14.777 8.8892 14.8343 8.93081 14.8982 8.95929C14.9705 8.99149 15.0541 9.00031 15.2213 9.01795L19.7256 9.49336C20.2911 9.55304 20.5738 9.58288 20.6997 9.71147C20.809 9.82316 20.8598 9.97956 20.837 10.1342C20.8108 10.3122 20.5996 10.5025 20.1772 10.8832L16.8125 13.9154C16.6877 14.0279 16.6252 14.0842 16.5857 14.1527C16.5507 14.2134 16.5288 14.2807 16.5215 14.3503C16.5132 14.429 16.5306 14.5112 16.5655 14.6757L17.5053 19.1064C17.6233 19.6627 17.6823 19.9408 17.5989 20.1002C17.5264 20.2388 17.3934 20.3354 17.2393 20.3615C17.0619 20.3915 16.8156 20.2495 16.323 19.9654L12.3995 17.7024C12.2539 17.6184 12.1811 17.5765 12.1037 17.56C12.0352 17.5455 11.9644 17.5455 11.8959 17.56C11.8185 17.5765 11.7457 17.6184 11.6001 17.7024L7.67662 19.9654C7.18404 20.2495 6.93775 20.3915 6.76034 20.3615C6.60623 20.3354 6.47319 20.2388 6.40075 20.1002C6.31736 19.9408 6.37635 19.6627 6.49434 19.1064L7.4341 14.6757C7.46898 14.5112 7.48642 14.429 7.47814 14.3503C7.47081 14.2807 7.44894 14.2134 7.41394 14.1527C7.37439 14.0842 7.31195 14.0279 7.18708 13.9154L3.82246 10.8832C3.40005 10.5025 3.18884 10.3122 3.16258 10.1342C3.13978 9.97956 3.19059 9.82316 3.29993 9.71147C3.42581 9.58288 3.70856 9.55304 4.27406 9.49336L8.77835 9.01795C8.94553 9.00031 9.02911 8.99149 9.10139 8.95929C9.16534 8.93081 9.2226 8.8892 9.26946 8.83718C9.32241 8.77839 9.35663 8.70162 9.42508 8.54808L11.2691 4.41115Z" stroke="currentColor" stroke-width="1.9200000000000004" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>\n'},9649:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-md"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 12C3 10.8954 3.89543 10 5 10C6.10457 10 7 10.8954 7 12C7 13.1046 6.10457 14 5 14C3.89543 14 3 13.1046 3 12ZM10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12ZM17 12C17 10.8954 17.8954 10 19 10C20.1046 10 21 10.8954 21 12C21 13.1046 20.1046 14 19 14C17.8954 14 17 13.1046 17 12Z" fill="currentColor"></path></svg>\n'},3079:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg viewBox="0 0 24 24" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="infi-unpin-icon" stroke-width="0"></g><g id="infi-unpin-icon" stroke-linecap="round" stroke-linejoin="round" stroke="#030303" stroke-width="0.43200000000000005"> <path d="M19.1835 7.80516L16.2188 4.83755C14.1921 2.8089 13.1788 1.79457 12.0904 2.03468C11.0021 2.2748 10.5086 3.62155 9.5217 6.31506L8.85373 8.1381C8.59063 8.85617 8.45908 9.2152 8.22239 9.49292C8.11619 9.61754 7.99536 9.72887 7.86251 9.82451C7.56644 10.0377 7.19811 10.1392 6.46145 10.3423C4.80107 10.8 3.97088 11.0289 3.65804 11.5721C3.5228 11.8069 3.45242 12.0735 3.45413 12.3446C3.45809 12.9715 4.06698 13.581 5.28476 14.8L6.69935 16.2163L2.22345 20.6964C1.92552 20.9946 1.92552 21.4782 2.22345 21.7764C2.52138 22.0746 3.00443 22.0746 3.30236 21.7764L7.77841 17.2961L9.24441 18.7635C10.4699 19.9902 11.0827 20.6036 11.7134 20.6045C11.9792 20.6049 12.2404 20.5358 12.4713 20.4041C13.0192 20.0914 13.2493 19.2551 13.7095 17.5825C13.9119 16.8472 14.013 16.4795 14.2254 16.1835C14.3184 16.054 14.4262 15.9358 14.5468 15.8314C14.8221 15.593 15.1788 15.459 15.8922 15.191L17.7362 14.4981C20.4 13.4973 21.7319 12.9969 21.9667 11.9115C22.2014 10.826 21.1954 9.81905 19.1835 7.80516Z" fill="currentColor"></path> </g><g id="infi-unpin-icon"> <path d="M19.1835 7.80516L16.2188 4.83755C14.1921 2.8089 13.1788 1.79457 12.0904 2.03468C11.0021 2.2748 10.5086 3.62155 9.5217 6.31506L8.85373 8.1381C8.59063 8.85617 8.45908 9.2152 8.22239 9.49292C8.11619 9.61754 7.99536 9.72887 7.86251 9.82451C7.56644 10.0377 7.19811 10.1392 6.46145 10.3423C4.80107 10.8 3.97088 11.0289 3.65804 11.5721C3.5228 11.8069 3.45242 12.0735 3.45413 12.3446C3.45809 12.9715 4.06698 13.581 5.28476 14.8L6.69935 16.2163L2.22345 20.6964C1.92552 20.9946 1.92552 21.4782 2.22345 21.7764C2.52138 22.0746 3.00443 22.0746 3.30236 21.7764L7.77841 17.2961L9.24441 18.7635C10.4699 19.9902 11.0827 20.6036 11.7134 20.6045C11.9792 20.6049 12.2404 20.5358 12.4713 20.4041C13.0192 20.0914 13.2493 19.2551 13.7095 17.5825C13.9119 16.8472 14.013 16.4795 14.2254 16.1835C14.3184 16.054 14.4262 15.9358 14.5468 15.8314C14.8221 15.593 15.1788 15.459 15.8922 15.191L17.7362 14.4981C20.4 13.4973 21.7319 12.9969 21.9667 11.9115C22.2014 10.826 21.1954 9.81905 19.1835 7.80516Z" fill="currentColor"></path> </g></svg>\n'},9449:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n  <svg fill="currentColor" height="20px" width="20px" version="1.1" id="XMLID_122_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g id="infi-upgrade-icon" stroke-width="0"></g><g id="infi-upgrade-icon" stroke-linecap="round" stroke-linejoin="round"></g><g id="infi-upgrade-icon"> <g id="upgrade"> <g> <path d="M12,24C5.4,24,0,18.6,0,12S5.4,0,12,0s12,5.4,12,12S18.6,24,12,24z M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10 S17.5,2,12,2z M13,18h-2V9.4l-3.3,3.3l-1.4-1.4L12,5.6l5.7,5.7l-1.4,1.4L13,9.4V18z"></path> </g> </g> </g></svg>\n'},6655:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPTsCollapseInnerHTML=void 0;t.GPTsCollapseInnerHTML=e=>'\n  <div tabindex="0" class="infi-gptsCollapse-accordion">\n    <button \n      id="infi-gptsCollapse-accordion-header"\n      class="infi-gptsCollapse-accordion-header-container flex w-full items-center gap-2.5 rounded-lg p-2 text-token-text-primary"\n      aria-expanded="true"\n      aria-controls="infi-gptsCollapse-accordion-content"\n      aria-label="Toggle Accordion"\n    >\n      <span class="text-sm">GPTs</span>\n\n      <div class="infi-gptsCollapse-accordion-chevron">\n        <svg width="20px" height="20px" viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <g id="infi-chevron-icon">\n          <path d="M6 15L12 9L18 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n          </g>\n        </svg>\n      </div>\n    </button>\n  </div>\n'},413:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addChatHTML=void 0;t.addChatHTML=e=>`\n    <form id="infi-chatgpt-form" method="POST">\n      <label for="search-input" class="sr-only">${e("SEARCH_CHATS")}</label>\n      <input type="text" id="search-input" placeholder="${e("SEARCH_CHATS")}..." autocomplete="off">\n      <div id="search-results" class="search-results" aria-live="polite"></div>\n    \n      <div class="infi-chatgpt-manageTabs-buttonsContainer">\n        <button id="infi-chatgpt-addChats-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" aria-label="${e("CLOSE")}">\n          ${e("CLOSE")}\n        </button>\n        \n        <button id="infi-chatgpt-addChat-submitButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-submitButton" aria-label="${e("ADD")}" type="submit" disabled>\n          ${e("ADD")}\n        </button>\n      </div>\n    </form>\n  `},9939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addFolderHTML=void 0;const i=n(2948);t.addFolderHTML=({t:e,isEdit:t=!1,name:n=""})=>{const r=e(t?"UPDATE":"ADD"),o=e(t?"EDIT_FOLDER_NAME":"ADD_FOLDER");return`\n    <form id="infi-chatgpt-form" method="POST">\n            <label for="folder-name-input" class="sr-only">${e("FOLDER_NAME")}</label>\n            <input type="text" id="folder-name-input" placeholder="${e("FOLDER_NAME")}" value="${n}" maxlength="${i.CONSTANTS.MANAGE_FOLDERS.ADD_FOLDER.MAX_NAME_LENGTH}" required aria-describedby="create-folder-name-error" aria-invalid="false" >\n      <span id="create-folder-name-error" class="infi-chatgpt-error-field-message">${e("ADD_FOLDER_NAME_INPUT_ERROR")}</span>\n    \n      <div class="infi-chatgpt-manageTabs-buttonsContainer">\n        <button id="infi-chatgpt-manageFolders-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" aria-label="${e("CLOSE")}">\n          ${e("CLOSE")}\n        </button>\n        \n        <button class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-submitButton" aria-label="${o}" type="submit">\n          ${r}\n        </button>\n      </div>\n    </form>\n  `}},8530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addGPTHTML=void 0;t.addGPTHTML=e=>`\n    <form id="infi-chatgpt-form" method="POST">\n      <label for="search-input" class="sr-only">${e("SEARCH_GPTS")}</label>\n      <input type="text" id="search-input" placeholder="${e("SEARCH_GPTS")}..." autocomplete="off">\n      <div id="search-results" class="search-results" aria-live="polite"></div>\n    \n      <div class="infi-chatgpt-manageTabs-buttonsContainer">\n        <button id="infi-chatgpt-addGPTs-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" aria-label="${e("CLOSE")}">\n          ${e("CLOSE")}\n        </button>\n        \n        <button id="infi-chatgpt-addGPT-submitButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-submitButton" aria-label="${e("ADD")}" type="submit" disabled>\n          ${e("ADD")}\n        </button>\n      </div>\n    </form>\n  `},6369:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPromptHTML=void 0;const i=n(2948);t.addPromptHTML=({t:e,isEdit:t=!1,name:n="",content:r=""})=>{const o=e(t?"UPDATE":"ADD"),a=e(t?"EDIT_PROMPT":"ADD_PROMPT");return`\n<form id="infi-chatgpt-form" method="POST">\n  <label for="prompt-name-input" class="sr-only">${e("PROMPT_NAME")}</label>\n  <input type="text" id="prompt-name-input" placeholder="${e("PROMPT_NAME")}" value="${n}" maxlength="${i.CONSTANTS.MANAGE_PROMPTS.EDIT_PROMPT.MAX_NAME_LENGTH}" required aria-describedby="create-prompt-name-error" aria-invalid="false">\n  <span id="create-prompt-name-error" class="infi-chatgpt-error-field-message">${e("PROMPT_NAME_INPUT_ERROR")}</span>\n\n  <label for="prompt-content-input" class="sr-only">${e("PROMPT_CONTENT")}</label>\n  <textarea id="prompt-content-input" placeholder="${e("PROMPT_CONTENT")}" rows="10" maxlength="${i.CONSTANTS.MANAGE_PROMPTS.EDIT_PROMPT.MAX_CONTENT_LENGTH}" required aria-describedby="create-prompt-content-error" aria-invalid="false">${r}</textarea>\n\n  <span id="infi-prompt-content-counter" class="infi-counter">${r.length} / ${i.CONSTANTS.MANAGE_PROMPTS.EDIT_PROMPT.MAX_CONTENT_LENGTH}</span>\n\n  <span id="create-prompt-content-error" class="infi-chatgpt-error-field-message">${e("PROMPT_CONTENT_INPUT_ERROR")}</span>\n\n  <div class="infi-chatgpt-manageTabs-buttonsContainer">\n    <button id="infi-chatgpt-addPrompt-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" aria-label="${e("CLOSE")}">\n    ${e("CLOSE")}</button>\n    \n    <button class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-submitButton" aria-label="${a}" type="submit">\n    ${o}</button>\n  </div>\n</form>\n`}},7042:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chainValuesModalHTML=void 0;const i=n(2948);t.chainValuesModalHTML=(e,t={})=>{const{MAX_PROMPT_NAME_LENGTH:n,MAX_LABEL_LENGTH:r}=i.CONSTANTS.CHAIN_VALUES;let o="";for(const e in t){const{content:i,values:a}=t[e];if(!a.length)continue;const s=`<span class="infi-chatgpt__chainDynamicValues-promptName">${i.length>n?`${i.slice(0,n)}...`:i}</span>`;let c="";for(const e of a){const t=e.slice(2,-2);c+=`\n        <div class="infi-chatgpt__chainDynamicValues-listItem">\n          <span id="${e}">{{${t.length>r?`${t.slice(0,r)}...`:t}}}</span>\n          <textarea class="chainDynamicValues-input" rows="1" autocomplete="off"></textarea>\n        </div>\n      `}o+=`\n      <div id="infi-chatgpt__chainDynamicValues-prompt-${e}" class="infi-chatgpt__chainDynamicValues-prompt">${s}${c}</div>\n    `}return`\n    <form id="infi-chatgpt-form" method="POST">\n      <p class="infi-chatgpt__promptLibraryConfirmSaveText">${e("EDIT_PROMPT_DYNAMIC_VALUES_TEXT")}</p>\n\n      <div class="infi-chatgpt__chainDynamicValues-list">${o}</div>\n\n      <div class="infi-chatgpt-manageTabs-buttonsContainer">\n        <button id="infi-chatgpt__chainDynamicValues-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" type="button" aria-label="${e("CANCEL")}">${e("CANCEL")}</button>\n        \n        <button id="infi-chatgpt__chainDynamicValues-confirmButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-submitButton" type="submit" aria-label="${e("INSERT_PROMPT")}">${e("INSERT")}</button>\n      </div>\n    </form>\n  `}},9379:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chatButton=void 0;t.chatButton=({t:e,label:t,className:n="",icon:i,style:r=""})=>`\n      <div class="infi-chatgpt-chatButton ${n}" style="${r}" role="menuitem" tabindex="-1">\n        <div class="infi-chatgpt-chatButton-iconWrapper">\n          ${i}\n        </div>  \n        <span>${e(t)}</span>\n      </div>\n    `},7260:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chatMenuInnerHTML=void 0;t.chatMenuInnerHTML=({t:e,id:t,items:n})=>`\n  <div id="infi-chatMenu-${t}" class="infi-chatMenu z-50 rounded-2xl popover bg-token-main-surface-primary shadow-lg will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade border border-token-border-light py-2 overflow-hidden" role="menu" tabindex="-1">\n    ${n.map(((t,n)=>`<div key="${n}" id="${t.id}" class="infi-chatgpt-chatButton" role="menuitem" tabindex="-1">\n        ${t.icon}\n        <span>${e(t.label)}</span>\n      </div>`)).join(" ")}\n  </div>\n`},5326:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.folderMenuInnerHTML=void 0;t.folderMenuInnerHTML=({t:e,id:t,items:n})=>`\n  <div id="infi-folderMenu-${t}" class="infi-folderMenu z-50 rounded-2xl popover bg-token-main-surface-primary shadow-lg will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade border border-token-border-light py-2 overflow-hidden" role="menu" tabindex="-1">\n    ${n.map(((t,n)=>`<div key="${n}" id="${t.id}" class="infi-chatgpt-chatButton" role="menuitem" tabindex="-1">\n        ${t.icon}\n        <span>${e(t.label)}</span>\n      </div>`)).join(" ")}\n  </div>\n`},3720:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iconButton=void 0;t.iconButton=({t:e,label:t,id:n="",className:i="",icon:r,style:o=""})=>`\n    <button id="${n}" class="infi-chatgpt-iconButton ${i} infi-chatgpt-listItem-view" style="${o}" aria-label="${e(t)}">\n      ${r}\n      <span class="sr-only">${e(t)}</span>\n    </button>\n  `},9217:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paidUserBadgeInnerHTML=void 0;t.paidUserBadgeInnerHTML=e=>`\n  <a tabindex="-1" class="infi-paid-user-badge flex h-10 w-full items-center gap-0.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary" href="https://www.ai-toolbox.co/pricing" target="_blank">\n    ${e("TOOLBOX_PLAN")} - ${e("LOADING")}\n  </a>\n`},430:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pinnedChatItemInnerHTML=void 0;const r=n(7260),o=i(n(9649));t.pinnedChatItemInnerHTML=({t:e,id:t,label:n,active:i,items:a})=>`\n  <li>\n    <a class="relative flex group w-full items-center gap-2.5 rounded-lg p-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary ${i?"bg-token-sidebar-surface-secondary":""}" href="/c/${t}">\n      <div class="relative grow overflow-hidden whitespace-nowrap">\n        <span class="grow overflow-hidden text-ellipsis whitespace-nowrap text-sm text-token-text-primary">${n}</span>\n\n        <div class="absolute bottom-0 top-0 to-transparent ltr:right-0 ltr:bg-gradient-to-l rtl:left-0 rtl:bg-gradient-to-r from-token-sidebar-surface-primary from-token-sidebar-surface-primary can-hover:group-hover:from-token-sidebar-surface-secondary w-8 from-0% can-hover:group-hover:w-10 can-hover:group-hover:from-60% ${i?"from-token-sidebar-surface-secondary w-8 from-60%":""}"></div>\n      </div>\n\n      <div class="absolute z-[1] bottom-0 top-0 items-center gap-1.5 pr-2 hidden can-hover:group-hover:flex" style="right: 8px">\n        <button \n          id="menuChatItem-${t}-button" \n          class="flex items-center justify-center text-token-text-secondary transition hover:text-token-text-primary radix-state-open:text-token-text-secondary" \n          aria-haspopup="menu"\n          aria-expanded="false"\n        >\n          ${o.default}\n        </button>\n      </div>\n\n      ${(0,r.chatMenuInnerHTML)({t:e,id:t,items:a})}\n    </a>\n  </li>\n`},5964:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pinnedFolderItemInnerHTML=void 0;const r=n(5326),o=i(n(9649));t.pinnedFolderItemInnerHTML=({t:e,id:t,label:n,items:i})=>`\n  <li>\n    <div class="relative flex group w-full items-center gap-2.5 rounded-lg p-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary" role="button" aria-label="${n}">\n      <div class="relative grow overflow-hidden whitespace-nowrap">\n        <span class="grow overflow-hidden text-ellipsis whitespace-nowrap text-sm text-token-text-primary">${n}</span>\n\n        <div class="absolute bottom-0 top-0 to-transparent ltr:right-0 ltr:bg-gradient-to-l rtl:left-0 rtl:bg-gradient-to-r from-token-sidebar-surface-primary from-token-sidebar-surface-primary can-hover:group-hover:from-token-sidebar-surface-secondary w-8 from-0% can-hover:group-hover:w-10 can-hover:group-hover:from-60%"></div>\n      </div>\n\n      <div class="absolute z-[1] bottom-0 top-0 items-center gap-1.5 pr-2 hidden can-hover:group-hover:flex" style="right: 8px">\n        <button \n          id="menuFolderItem-${t}-button" \n          class="flex items-center justify-center text-token-text-secondary transition hover:text-token-text-primary radix-state-open:text-token-text-secondary" \n          aria-haspopup="menu"\n          aria-expanded="false"\n        >\n          ${o.default}\n        </button>\n      </div>\n\n      ${(0,r.folderMenuInnerHTML)({t:e,id:t,items:i})}\n    </div>\n  </li>\n`},773:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.confirmRemoveChainsHTML=void 0;t.confirmRemoveChainsHTML=e=>`\n  <p class="infi-chatgpt-confirmDeleteText">${e("CONFIRM_DELETE_CHAINS_TEXT")}</p>\n\n  <div class="infi-chatgpt-manageTabs-buttonsContainer">\n    <button id="infi-chatgpt-confirmRemoveChains-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" aria-label="${e("CLOSE")}">\n    ${e("CLOSE")}</button>\n    \n    <button id="infi-chatgpt-confirmRemoveChains-deleteButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-removeButton" aria-label="${e("CONFIRM_REMOVAL")}">\n    ${e("CONFIRM")}</button>\n  </div>\n`},8776:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.confirmChatDeletionHTML=void 0;t.confirmChatDeletionHTML=(e,t)=>`\n  <p class="infi-chatgpt-confirmDeleteText">${e("CONFIRM_DELETE_TEXT",{amount:t.toLocaleString("he-IL")})}</p>\n\n  <div class="infi-chatgpt-manageTabs-buttonsContainer">\n    <button id="infi-chatgpt-confirmDeleteText-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" aria-label="${e("CANCEL")}">\n    ${e("CANCEL")}</button>\n    \n    <button id="infi-chatgpt-confirmDeleteText-deleteButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-removeButton" aria-label="${e("CONFIRM_REMOVAL")}">\n    ${e("DELETE")}</button>\n  </div>\n`},1930:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.confirmRemoveFoldersHTML=void 0;t.confirmRemoveFoldersHTML=e=>`\n  <p class="infi-chatgpt-confirmDeleteText">${e("CONFIRM_DELETE_FOLDERS_TEXT")}</p>\n\n  <div class="infi-chatgpt-manageTabs-buttonsContainer">\n    <button id="infi-chatgpt-confirmRemoveFolders-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" aria-label="${e("CLOSE")}">\n    ${e("CLOSE")}</button>\n    \n    <button id="infi-chatgpt-confirmRemoveFolders-deleteButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-removeButton" aria-label="${e("CONFIRM_REMOVAL")}">\n    ${e("CONFIRM")}</button>\n  </div>\n`},3304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.confirmRemovePromptsHTML=void 0;t.confirmRemovePromptsHTML=e=>`\n  <p class="infi-chatgpt-confirmDeleteText">${e("CONFIRM_DELETE_PROMPTS_TEXT")}</p>\n\n  <div class="infi-chatgpt-manageTabs-buttonsContainer">\n    <button id="infi-chatgpt-confirmRemovePrompts-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" aria-label="${e("CLOSE")}">\n    ${e("CLOSE")}</button>\n    \n    <button id="infi-chatgpt-confirmRemovePrompts-deleteButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-removeButton" aria-label="${e("CONFIRM_REMOVAL")}">\n    ${e("CONFIRM")}</button>\n  </div>\n`},9922:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exportChatHTML=void 0;t.exportChatHTML=e=>`\n    <form id="infi-chatgpt-form" method="POST">\n      <fieldset class="infi-radioItemsContainer">\n        <div class="infi-radioInputContainer">\n          <input type="radio" id="format-text" name="export-format" value="txt" checked aria-describedby="export-format-text-desc">\n          <label for="format-text">${e("TEXT_FORMAT")}</label>\n          <span id="export-format-text-desc" class="sr-only">${e("TEXT_FORMAT_DESC")}</span>\n        </div>\n\n        <div class="infi-radioInputContainer">\n          <input type="radio" id="format-json" name="export-format" value="json" aria-describedby="export-format-json-desc">\n          <label for="format-json">${e("JSON_FORMAT")}</label>\n          <span id="export-format-json-desc" class="sr-only">${e("JSON_FORMAT_DESC")}</span>\n        </div>\n      </fieldset>\n      \n      <div class="infi-chatgpt-manageTabs-buttonsContainer">\n        <button id="infi-chatgpt-exportChat-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" aria-label="${e("CLOSE")}" type="button">\n          ${e("CLOSE")}\n        </button>\n        \n        <button class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-submitButton" aria-label="${e("EXPORT_CHAT")}" type="submit">\n          ${e("EXPORT")}\n        </button>\n      </div>\n    </form>\n  `},1014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.featuresCollapseInnerHTML=void 0;t.featuresCollapseInnerHTML=e=>`\n  <div tabindex="0" class="infi-featuresCollapse-accordion">\n    <button \n      id="infi-featuresCollapse-accordion-header"\n      class="infi-featuresCollapse-accordion-header-container flex w-full items-center gap-2.5 rounded-lg p-2 text-token-text-primary"\n      aria-expanded="true"\n      aria-controls="infi-featuresCollapse-accordion-content"\n      aria-label="Toggle Accordion"\n    >\n      <span class="text-sm">${e("CHATGPT_TOOLBOX")}</span>\n\n      <div class="infi-featuresCollapse-accordion-chevron">\n        <svg width="20px" height="20px" viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <g id="infi-chevron-icon">\n          <path d="M6 15L12 9L18 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n          </g>\n        </svg>\n      </div>\n    </button>\n\n    <div\n      id="infi-featuresCollapse-accordion-content"\n      class="infi-featuresCollapse-accordion-content"\n      role="region"\n      aria-labelledby="infi-featuresCollapse-accordion-header"\n      style="display: block;"\n    >\n    </div>\n  </div>\n`},7563:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.affiliateHTML=void 0;t.affiliateHTML=(e,t)=>`\n  <div\n    id="panel-affiliate"\n    role="tabpanel"\n    aria-labelledby="tab-affiliate"\n    tabindex="0"\n    hidden\n  > \n    <section\n      id="section-affiliate"\n      aria-labelledby="heading-affiliate"\n      role="region"\n    >\n      <h2 id="heading-affiliate">${e("AFFILIATE_PROGRAM")}</h2>\n\n      <div class="infoAndUpdates-introText">\n        <p>${e("AFFILIATE_MAIN_TEXT_1",{rate:t.comission_rate})}</p>\n        <p>${e("AFFILIATE_MAIN_TEXT_2")}</p>\n      </div>\n\n      <ul role="list" aria-labelledby="heading-affiliate">\n        <li role="listitem">\n          <strong>${e("AFFILIATE_ITEM_1_TITLE")}</strong>\n          ${e("AFFILIATE_ITEM_1_TEXT")}\n        </li>\n        <li role="listitem">\n          <strong>${e("AFFILIATE_ITEM_2_TITLE")}</strong>\n          ${e("AFFILIATE_ITEM_2_TEXT")}\n        </li>\n      </ul>\n\n      <div class="affiliate-signupContainer">\n        <h3>${e("AFFILIATE_TEXT_2")}</h3>\n\n        <a \n          class="affiliate-signup"\n          href="https://chatgpt-toolbox.lemonsqueezy.com/affiliates" \n          role="link" \n          target="_blank"\n        >\n          ${e("AFFILIATE_TEXT_3")}\n        </a>\n      </div>\n\n      <h3 id="heading-affiliate-how-it-works">${e("AFFILIATE_TEXT_4")}</h3>\n\n      <ol role="list" aria-labelledby="heading-affiliate-how-it-works">\n        <li role="listitem">\n          <strong>${e("AFFILIATE_ITEM_3_TITLE")}</strong>\n          ${e("AFFILIATE_ITEM_3_TEXT")}\n        </li>\n        <li role="listitem">\n          <strong>${e("AFFILIATE_ITEM_4_TITLE")}</strong>\n          ${e("AFFILIATE_ITEM_4_TEXT")}\n        </li>\n        <li role="listitem">\n          <strong>${e("AFFILIATE_ITEM_5_TITLE")}</strong>\n          ${e("AFFILIATE_ITEM_5_TEXT")}\n        </li>\n      </ol>\n    </section>\n  </div>\n`},5628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.announcementsHTML=void 0;t.announcementsHTML=(e,t,n)=>`\n  <div\n    id="panel-announcements"\n    role="tabpanel"\n    aria-labelledby="tab-announcements"\n    tabindex="${n?"-1":"0"}"\n    hidden="${n?"true":"false"}"\n  >\n    <section\n      id="section-announcements"\n      role="region"\n      aria-labelledby="heading-announcements"\n    >\n      <h2 id="heading-announcements">${e("ANNOUNCEMENTS")}</h2>\n\n      <div class="infoAndUpdates-introText">\n        <p>${e("ANNOUNCEMENTS_TEXT_1")}</p>\n        <p>${e("ANNOUNCEMENTS_TEXT_2")}</p>\n      </div>\n\n      <ul\n        role="list"\n        aria-labelledby="heading-announcements"\n      >\n        ${t.map(((e,t)=>`\n          <li role="listitem">\n            <article\n              aria-labelledby="announcement-${t+1}-title"\n            >\n              <h3 id="announcement-${t+1}-title">\n                ${e.title}\n              </h3>\n              <p>\n                ${e.text}\n              </p>\n            </article>\n          </li>\n        `)).join("")}\n      </ul>\n    </section>\n  </div>\n`},501:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.footerHTML=void 0;const r=i(n(5917)),o=i(n(5329));t.footerHTML=(e,t,n)=>`\n  <footer id="infoAndUpdates__footer">\n    <div> \n      <a\n        class="infoAndUpdates__footer-reddit"\n        href="https://chromewebstore.google.com/detail/chatgpt-toolbox/jlalnhjkfiogoeonamcnngdndjbneina?utm_source=extension&utm_medium=button"\n        rel="noopener noreferrer"\n        aria-label="${e("LEAVE_A_REVIEW_ARIA_LABEL")}"\n        target="_blank"\n      >\n        ${r.default} ${e("LEAVE_A_REVIEW")}\n      </a>\n      <a\n        class="infoAndUpdates__footer-reddit"\n        href="https://www.reddit.com/r/chatgpttoolbox"\n        rel="noopener noreferrer"\n        aria-label="${e("JOIN_OUR_REDDIT_ARIA_LABEL")}"\n        target="_blank"\n      >\n        ${o.default} ${e("JOIN_OUR_REDDIT",{num:t.reddit})}\n      </a>\n    </div>\n\n    ${n?"":`\n          <a\n            class="affiliate-signup"\n            href="https://ai-toolbox.co/pricing?utm_source=extension&utm_medium=button"\n            aria-label="${e("UPGRADE_PLAN_ARIA_LABEL")}"\n            target="_blank"\n          >\n            ${e("UPGRADE_PLAN")}\n          </a>\n        `}\n  </footer>\n`},627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hotkeysHTML=void 0;t.hotkeysHTML=e=>`\n  <div\n    id="panel-hotkeys"\n    role="tabpanel"\n    aria-labelledby="tab-hotkeys"\n    tabindex="0"\n    hidden\n  > \n    <section\n      id="section-hotkeys"\n      aria-labelledby="heading-hotkeys"\n      role="region"\n    >\n      <h2 id="heading-hotkeys">${e("HOTKEYS")}</h2>\n\n      <div class="infoAndUpdates-introText">\n        <p>${e("HOTKEYS_TEXT")}</p>\n      </div>\n\n      <ul role="list" aria-labelledby="heading-hotkeys">\n        <li role="listitem">\n          <code>//</code> - ${e("HOTKEYS_ITEM_1")}\n        </li>\n        <li role="listitem">\n          <code>..</code> - ${e("HOTKEYS_ITEM_2")}\n        </li>\n      </ul>\n    </section>\n  </div>\n`},8235:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.infoAndUpdatesHTML=void 0;const r=n(501),o=n(3980),a=n(627),s=n(7563),c=n(4780),d=n(8),l=n(5628),u=i(n(2383)),h=i(n(8831)),f=i(n(9449)),p=i(n(6818)),m=i(n(7202)),y=i(n(6031));t.infoAndUpdatesHTML=(e,t,n,i)=>`\n  <div role="tablist" aria-label="Info & Updates Sections">\n    <button\n      role="tab"\n      id="tab-announcements"\n      aria-controls="panel-announcements"\n      aria-selected="${n?"false":"true"}"\n      tabindex="${n?"-1":"0"}"\n    >\n      ${m.default} ${e("ANNOUNCEMENTS")}\n    </button>\n\n    <button\n      role="tab"\n      id="tab-release-notes"\n      aria-controls="panel-release-notes"\n      aria-selected="${n?"true":"false"}"\n      tabindex="${n?"0":"-1"}"\n    >\n      ${y.default} ${e("RELEASE_NOTES")}\n    </button>\n\n    <button\n      role="tab"\n      id="tab-affiliate"\n      aria-controls="panel-affiliate"\n      aria-selected="false"\n      tabindex="-1"\n    >\n      ${p.default} ${e("AFFILIATE")}\n    </button>\n\n    ${i?"":`\n          <button\n            role="tab"\n            id="tab-upgrade"\n            aria-controls="panel-upgrade"\n            aria-selected="false"\n            tabindex="-1"\n          >\n            ${f.default} ${e("UPGRADE")}\n          </button>\n        `}\n\n    <button\n      role="tab"\n      id="tab-known-bugs"\n      aria-controls="panel-known-bugs"\n      aria-selected="false"\n      tabindex="-1"\n    >\n      ${u.default} ${e("KNOWN_BUGS")}\n    </button>\n\n    <button\n      role="tab"\n      id="tab-hotkeys"\n      aria-controls="panel-hotkeys"\n      aria-selected="false"\n      tabindex="-1"\n    >\n      ${h.default} ${e("HOTKEYS")}\n    </button>\n  </div>\n\n  ${(0,l.announcementsHTML)(e,t.announcements,n)}\n\n  ${(0,d.releaseNotesHTML)(e,t.release_notes,n)}\n\n  ${(0,s.affiliateHTML)(e,t.affiliate)}\n  \n  ${i?"":(0,o.upgradeHTML)(e)}\n  \n  ${(0,c.knownBugsHTML)(e,t.known_bugs)}\n\n  ${(0,a.hotkeysHTML)(e)}\n\n  ${(0,r.footerHTML)(e,t.community,i)}\n`},4780:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.knownBugsHTML=void 0;t.knownBugsHTML=(e,t)=>`\n  <div\n    id="panel-known-bugs"\n    role="tabpanel"\n    aria-labelledby="tab-known-bugs"\n    tabindex="0"\n    hidden\n  > \n    <section\n      id="section-known-bugs"\n      aria-labelledby="heading-known-bugs"\n      role="region"\n    >\n      <h2 id="heading-known-bugs">${e("KNOWN_BUGS")}</h2>\n\n      <div class="infoAndUpdates-introText">\n        <p>${e(t.length>0?"KNOWN_BUGS_TEXT":"KNOWN_BUGS_EMPTY")}</p>\n      </div>\n\n      ${t.length>0?`<ul role="list" aria-labelledby="heading-known-bugs">\n          ${t.map(((e,t)=>`\n                <li role="listitem">\n                  <article aria-labelledby="bug-${t+1}-title">\n                    <h3 id="bug-${t+1}-title">${e.title}</h3>\n                    \n                    <p>${e.text}</p>\n                  </article>\n                </li>\n              `)).join("")}\n        </ul>`:""}\n    </section>\n  </div>\n`},8:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.releaseNotesHTML=void 0;t.releaseNotesHTML=(e,t,n)=>`\n  <div\n    id="panel-release-notes"\n    role="tabpanel"\n    aria-labelledby="tab-release-notes"\n    tabindex="${n?"0":"-1"}"\n    hidden="${n?"false":"true"}"\n  > \n    <section\n      id="section-release-notes"\n      aria-labelledby="heading-release-notes"\n      role="region"\n    >\n      <h2 id="heading-release-notes">${e("RELEASE_NOTES")}</h2>\n\n      <ul role="list" aria-labelledby="heading-release-notes">\n        ${t.map(((e,t)=>`\n              <li role="listitem">\n                <article aria-labelledby="note-${t+1}-title">\n                  <h3 id="note-${t+1}-title">${e.version} &mdash; ${e.date}</h3>\n                  \n                  <ul\n                    role="list"\n                    aria-label="Changes in ${e.version}"\n                  >\n                    ${e.items.map((e=>`\n                        <li role="listitem">\n                          <strong>${e.title}</strong>\n                          <p>${e.text}</p>\n                        </li>\n                      `)).join("")}\n                  </ul>\n                </article>\n              </li>\n            `)).join("")}\n      </ul>\n    </section>\n  </div>\n`},3980:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.upgradeHTML=void 0;const r=i(n(6125)),o=i(n(8873));t.upgradeHTML=e=>`\n  <div\n    id="panel-upgrade"\n    role="tabpanel"\n    aria-labelledby="tab-upgrade"\n    tabindex="0"\n    hidden\n  > \n    <section\n      id="section-upgrade"\n      aria-labelledby="heading-upgrade"\n      role="region"\n    >\n      <h2 id="heading-upgrade">${e("UPGRADE_TITLE")}</h2>\n\n      <div class="infoAndUpdates-introText">\n        <p>${e("UPGRADE_TEXT")}</p>\n      </div>\n\n      <table class="upgrade-table-comparison" aria-labelledby="heading-upgrade">\n        <caption>${e("UPGRADE_COMPARISON_CAPTION")}</caption>\n        <thead>\n          <tr>\n            <th scope="col">${e("UPGRADE_COMPARISON_FEATURE")}</th>\n            <th scope="col">${e("UPGRADE_COMPARISON_FREE")}</th>\n            <th scope="col">${e("UPGRADE_COMPARISON_PREMIUM")}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <th scope="rowgroup" colspan="3">${e("UPGRADE_COMPARISON_PROMPT_LIBRARY")}</th>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_LIBRARY_ACCESS")}</th>\n            <td>${e("UPGRADE_COMPARISON_LIMITED_TO_5_PROMPTS")}</td>\n            <td>${r.default}</td>\n          </tr>\n\n          <tr>\n            <th scope="rowgroup" colspan="3">${e("UPGRADE_COMPARISON_MEDIA_GALLERY")}</th>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_MEDIA_GALLERY_ACCESS")}</th>\n            <td>${r.default}</td>\n            <td>${r.default}</td>\n          </tr>\n\n          <tr>\n            <th scope="rowgroup" colspan="3">${e("UPGRADE_COMPARISON_AUDIO_DOWNLOAD")}</th>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_ADVANCED_VOICE_MODE")}</th>\n            <td>${r.default}</td>\n            <td>${r.default}</td>\n          </tr>\n            <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_CHAT_MESSAGES")}</th>\n            <td>${e("UPGRADE_COMPARISON_1_VOICE_OPTION")}</td>\n            <td>${e("UPGRADE_COMPARISON_9_VOICE_OPTIONS")}</td>\n          </tr>\n\n          <tr>\n            <th scope="rowgroup" colspan="3">${e("UPGRADE_COMPARISON_CONVERSATIONS")}</th>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_TXT_JSON_EXPORT")}</th>\n            <td>${o.default}</td>\n            <td>${r.default}</td>\n          </tr>\n\n          <tr>\n            <th scope="rowgroup" colspan="3">${e("UPGRADE_COMPARISON_GPTS")}</th>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_GPTS_FOLDERS")}</th>\n            <td>${r.default}</td>\n            <td>${r.default}</td>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_COLLAPSE_GPTS")}</th>\n            <td>${r.default}</td>\n            <td>${r.default}</td>\n          </tr>\n\n          <tr>\n            <th scope="rowgroup" colspan="3">${e("UPGRADE_COMPARISON_BULK_ACTIONS")}</th>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_BULK_EXPORT_CHATS")}</th>\n            <td>${o.default}</td>\n            <td>${r.default}</td>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_BULK_DELETE_CHATS")}</th>\n            <td>${o.default}</td>\n            <td>${r.default}</td>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_BULK_ARCHIVE_CHATS")}</th>\n            <td>${o.default}</td>\n            <td>${r.default}</td>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_BULK_UNARCHIVE_CHATS")}</th>\n            <td>${o.default}</td>\n            <td>${r.default}</td>\n          </tr>\n          \n          <tr>\n            <th scope="rowgroup" colspan="3">${e("UPGRADE_COMPARISON_CREATION")}</th>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_FOLDERS_AND_SUBFOLDERS_CREATION")}</th>\n            <td>${e("UPGRADE_COMPARISON_UP_TO_2_TOTAL_FOLDERS")}</td>\n            <td>${e("UPGRADE_COMPARISON_UNLIMITED_FOLDERS")}</td>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_PROMPTS_CREATION")}</th>\n            <td>${e("UPGRADE_COMPARISON_UP_TO_2_PROMPTS")}</td>\n            <td>${e("UPGRADE_COMPARISON_UNLIMITED_PROMPTS")}</td>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_PROMPT_CHAINS_CREATION")}</th>\n            <td>${e("UPGRADE_COMPARISON_UP_TO_2_CHAINS")}</td>\n            <td>${e("UPGRADE_COMPARISON_UNLIMITED_CHAINS")}</td>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_PINNED_CHATS_CREATION")}</th>\n            <td>${e("UPGRADE_COMPARISON_UP_TO_2_PINNED_CHATS")}</td>\n            <td>${e("UPGRADE_COMPARISON_UNLIMITED_PINNED_CHATS")}</td>\n          </tr>\n\n          <tr>\n            <th scope="rowgroup" colspan="3">${e("UPGRADE_COMPARISON_SEARCH")}</th>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_ADVANCED_CHAT_HISTORY_SEARCH")}</th>\n            <td>${e("UPGRADE_COMPARISON_UP_TO_5_RESULTS")}</td>\n            <td>${e("UPGRADE_COMPARISON_UNLIMITED_RESULTS")}</td>\n          </tr>\n\n          <tr>\n            <th scope="rowgroup" colspan="3">${e("UPGRADE_COMPARISON_CAPABILITIES")}</th>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_SYNC_BETWEEN_DEVICES")}</th>\n            <td>${r.default}</td>\n            <td>${r.default}</td>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_SYNC_BETWEEN_BROWSERS_CHROME_FIREFOX_EDGE")}</th>\n            <td>${r.default}</td>\n            <td>${r.default}</td>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_WORD_CHARACTER_COUNTER")}</th>\n            <td>${r.default}</td>\n            <td>${r.default}</td>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_MULTI_LANGUAGE")}</th>\n            <td>${r.default}</td>\n            <td>${r.default}</td>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_TEXT_DIRECTION_RTL_LTR")}</th>\n            <td>${r.default}</td>\n            <td>${r.default}</td>\n          </tr>\n\n          <tr>\n            <th scope="rowgroup" colspan="3">${e("UPGRADE_COMPARISON_SUPPORT")}</th>\n          </tr>\n          <tr>\n            <th scope="row">${e("UPGRADE_COMPARISON_RESPONSE_TIME")}</th>\n            <td>${e("UPGRADE_COMPARISON_CAN_TAKE_UP_TO_48_HOURS")}</td>\n            <td>${e("UPGRADE_COMPARISON_WITHIN_24_HOURS")}</td>\n          </tr>\n        </tbody>\n      </table>\n\n      <a class="affiliate-signup center" href="https://ai-toolbox.co/pricing?utm_source=extension&utm_medium=button" role="button" target="_blank">${e("UPGRADE_NOW")}\n      </a>\n    </section>\n  </div>\n`},6936:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.infoAndUpdatesTabInnerHTML=void 0;const r=i(n(9545));t.infoAndUpdatesTabInnerHTML=e=>`\n  <div tabindex="0">\n    <button class="flex h-10 w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary">\n      <div class="flex h-6 w-6 items-center justify-center text-token-text-secondary">\n        ${r.default}\n      </div>\n      <div>\n        <span class="text-sm">${e("INFO_AND_UPDATES")}</span>\n      </div>\n    </button>\n  </div>\n`},8453:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loaderHTML=void 0;t.loaderHTML=e=>`\n  <div id="infi-chatgpt-spinnerContainer">\n    <div id="infi-chatgpt-spinner" aria-live="polite" role="status">\n      <span class="sr-only">${e("LOADING")}</span>\n    </div>\n  </div>\n`},5726:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.manageChatsHTML=void 0;const r=i(n(3696));t.manageChatsHTML=e=>`\n  <div class="modal-header-actions">\n    <button id="infi-chatgpt-settings-button" class="modal-header-actions-button">\n      ${r.default} ${e("SETTINGS")}\n    </button>\n  </div>\n\n  <div class="infi-chatgpt-manageTabsContainer">\n    <div class="infi-chatgpt-manageTabs-sidebar" role="navigation">\n      <button id="infi-chatgpt-manageTabs-sidebarButton-activeChats" \n        class="infi-chatgpt-manageTabs-sidebarButton infi-chatgpt-manageTabs-sidebarButtonSelected">\n        ${e("ACTIVE_CHATS")}</button>\n\n      <button id="infi-chatgpt-manageTabs-sidebarButton-archivedChats" class="infi-chatgpt-manageTabs-sidebarButton">\n      ${e("ARCHIVED_CHATS")}</button>\n    </div>\n\n    <div class="infi-chatgpt-manageTabs-content">\n      <label for="search-input" class="sr-only">${e("SEARCH_CHATS")}</label>\n      <input type="text" id="search-input" placeholder="${e("SEARCH_CHATS")}..." autocomplete="off">\n      <div id="search-results" class="search-results" aria-live="polite"></div>\n      <div class="infi-chatgpt-manageTabs-buttonsContainer">\n        <button class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-submitButton infi-chatgpt-manageTabs-exportButton" aria-label="${e("EXPORT_ITEM")}" type="button" disabled>\n        ${e("EXPORT")}</button>\n\n        <button class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-removeButton" aria-label="${e("REMOVE_ITEM")}" disabled>\n        ${e("DELETE")}</button>\n\n        <button class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" aria-label="${e("ARCHIVE_ITEM")}" disabled>\n        ${e("ARCHIVE")}</button>\n      </div>\n    </div>\n  </div>\n`},7543:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.manageChatsTabInnerHTML=void 0;const r=i(n(6058));t.manageChatsTabInnerHTML=e=>`\n  <div tabindex="0">\n    <button class="flex h-10 w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary">\n      <div class="flex h-6 w-6 items-center justify-center text-token-text-secondary">\n        ${r.default}\n      </div>\n      <div>\n        <span class="text-sm">${e("MANAGE_CHATS")}</span>\n      </div>\n    </button>\n  </div>\n`},333:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.manageFolderHTML=void 0;const r=i(n(1750)),o=i(n(8026)),a=i(n(3079)),s=i(n(3696));t.manageFolderHTML=(e,t)=>`\n  <div class="modal-header-actions">\n    <button id="infi-chatgpt-settings-button" class="modal-header-actions-button">\n    ${s.default} ${e("SETTINGS")}\n    </button>\n\n    <button id="infi-chatgpt-pinFolder-button" class="modal-header-actions-button" aria-label="${e(t.pinned?"UNPIN":"PIN")}">\n      ${t.pinned?a.default:o.default} ${e(t.pinned?"UNPIN_FOLDER":"PIN_FOLDER")}\n    </button>\n\n    <button id="infi-chatgpt-addFolder-button" class="modal-header-actions-button">\n      ${r.default} ${e("ADD_FOLDER")}\n    </button>\n\n    <button id="infi-chatgpt-addChat-button" class="modal-header-actions-button">\n      ${r.default} ${e("ADD_CHATS")}\n    </button>\n\n    <button id="infi-chatgpt-addGPT-button" class="modal-header-actions-button">\n      ${r.default} ${e("ADD_GPTS")}\n    </button>\n  </div>\n\n  <div class="infi-chatgpt-manageTabsContainer">\n    <div class="infi-chatgpt-manageTabs-content">\n      <label for="search-input" class="sr-only">${e("SEARCH_ITEMS")}</label>\n      <input type="text" id="search-input" placeholder="${e("SEARCH_ITEMS")}..." autocomplete="off">\n      <div id="search-results" class="search-results" aria-live="polite"></div>\n      <div class="infi-chatgpt-manageTabs-buttonsContainer">\n        <button id="infi-chatgpt-manage-folder-remove-button" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-removeButton infi-chatgpt-manageTabs-actionButton" aria-label="${e("REMOVE_ITEMS")}" disabled>${e("REMOVE")}</button>\n      </div>\n    </div>\n  </div>\n`},5124:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.manageFoldersHTML=void 0;const r=i(n(1750)),o=i(n(3696));t.manageFoldersHTML=e=>`\n  <div class="modal-header-actions">\n    <button id="infi-chatgpt-settings-button" class="modal-header-actions-button">\n      ${o.default} ${e("SETTINGS")}\n    </button>\n\n    <button id="infi-chatgpt-addFolder-button" class="modal-header-actions-button">\n      ${r.default} ${e("ADD_FOLDER")}\n    </button>\n  </div>\n\n  <div class="infi-chatgpt-manageTabsContainer">\n    <div class="infi-chatgpt-manageTabs-content">\n      <label for="search-input" class="sr-only">${e("SEARCH_FOLDERS")}</label>\n      <input type="text" id="search-input" placeholder="${e("SEARCH_FOLDERS")}..." autocomplete="off">\n\n      <div id="search-results" class="search-results" aria-live="polite"></div>\n\n      <div class="infi-chatgpt-manageTabs-buttonsContainer">\n        <button class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-removeButton infi-chatgpt-manageTabs-removeFoldersButton" aria-label="${e("REMOVE_FOLDERS")}" disabled>${e("REMOVE")}</button>\n      </div>\n    </div>\n  </div>\n`},9781:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.manageFoldersTabInnerHTML=void 0;const r=i(n(8373));t.manageFoldersTabInnerHTML=e=>`\n  <div tabindex="0">\n    <button class="flex h-10 w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary">\n      <div class="flex h-6 w-6 items-center justify-center text-token-text-secondary">\n        ${r.default}\n      </div>\n      <div>\n        <span class="text-sm">${e("MANAGE_FOLDERS")}</span>\n      </div>\n    </button>\n  </div>\n`},7214:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.managePromptsHTML=void 0;const r=i(n(1750)),o=i(n(1622)),a=i(n(3696));t.managePromptsHTML=e=>`\n  <div class="infi-chatgpt-managePrompts-toggleView" role="group" aria-label="${e("VIEW_MODE")}">\n    <button\n      id="infi-chatgpt-view-prompts"\n      class="infi-chatgpt-toggleButton"\n      aria-pressed="true"\n    >\n      ${e("PROMPTS")}\n    </button>\n    <button\n      id="infi-chatgpt-view-chains"\n      class="infi-chatgpt-toggleButton"\n      aria-pressed="false"\n    >\n      ${e("CHAINS")}\n    </button>\n  </div>\n\n  <div class="modal-header-actions">\n    <button id="infi-chatgpt-settings-button" class="modal-header-actions-button">\n      ${a.default} ${e("SETTINGS")}\n    </button>\n\n    <button id="infi-chatgpt-addPrompt-button" class="modal-header-actions-button">\n      ${r.default} ${e("ADD_PROMPT")}\n    </button>\n\n    <button id="infi-chatgpt-promptLibrary-button" class="modal-header-actions-button">\n      ${o.default} ${e("PROMPT_LIBRARY")}\n    </button>\n  </div>\n\n  <div class="infi-chatgpt-manageTabsContainer">\n    <div class="infi-chatgpt-manageTabs-content">\n      <label for="search-input" class="sr-only">${e("SEARCH_ITEMS")}</label>\n      <input type="text" id="search-input" placeholder="${e("SEARCH_ITEMS")}..." autocomplete="off">\n\n      <div id="search-results" class="search-results" aria-live="polite"></div>\n\n      <div class="infi-chatgpt-manageTabs-buttonsContainer">\n        <button class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-removeButton infi-chatgpt-manageTabs-removePromptsButton" aria-label="${e("REMOVE_PROMPTS")}" disabled>${e("DELETE")}</button>\n      </div>\n    </div>\n  </div>\n`},5783:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.managePromptsTabInnerHTML=void 0;const r=i(n(8875));t.managePromptsTabInnerHTML=e=>`\n  <div tabindex="0">\n    <button class="flex h-10 w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary">\n      <div class="flex h-6 w-6 items-center justify-center text-token-text-secondary">\n        ${r.default}\n      </div>\n      <div>\n        <span class="text-sm">${e("MANAGE_PROMPTS")}</span>\n      </div>\n    </button>\n  </div>\n`},4365:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.mediaGalleryHTML=void 0;const r=n(3720),o=i(n(2992)),a=i(n(7581)),s=i(n(3696));t.mediaGalleryHTML=({t:e,activeButton:t})=>`\n  <div id="infi-chatgpt__mediaGalleryModal" class="infi-mediaGalleryModal__conatiner">\n    <section class="infi-mediaGalleryModal__left">\n      <div class="infi-mediaGalleryModal__actions">\n        <button id="infi-chatgpt-settings-button" class="modal-header-actions-button">\n          ${s.default} ${e("SETTINGS")}\n        </button>\n\n        <button id="infi-mediaGalleryModal__downloadAllButton" class="modal-header-actions-button">\n          ${a.default} ${e("DOWNLOAD_ALL")}\n        </button>\n      </div>\n\n      <div class="infi-chatgpt-manageTabsContainer">\n        <div class="infi-chatgpt-manageTabs-content">\n          <label for="search-input" class="sr-only">${e("SEARCH_MEDIA")}</label>\n          <input type="text" id="infi-mediaGallery-search" placeholder="${e("SEARCH_MEDIA")}..." autocomplete="off">\n\n          <div class="infi-mediaGalleryModal__mediaContainer" aria-live="polite"></div>\n        </div>\n      </div>\n    </section>\n\n    <section class="infi-mediaGalleryModal__right">\n      <div clas="infi-mediaGalleryModal__imageContianer">\n        <img class="infi-mediaGalleryModal__right-image" src="" alt="" />\n\n        <small class="infi-mediaGalleryModal__right-date"></small>\n      </div>\n\n      <h2 class="infi-mediaGalleryModal__right-prompt">${e("PROMPT")}</h2>\n\n      <p class="infi-mediaGalleryModal__right-promptText"></p>\n\n      <button class="infi-mediaGalleryModal__right-copyButton" aria-label="${e("COPY_PROMPT")}">${o.default} ${e("COPY_PROMPT")}</button>\n\n      <div class="infi-mediaGalleryModal__right-ids">\n        <span>${e("GEN_ID")}:</span>\n        <span><strong class="infi-mediaGalleryModal__genId"></strong></span>\n        ${(0,r.iconButton)({t:e,className:"infi-mediaGalleryModal__genIdCopyButton",label:"COPY",icon:o.default})}\n      </div>\n\n      <div class="infi-mediaGalleryModal__right-ids">\n        <span>${e("SEED")}:</span>\n        <span><strong class="infi-mediaGalleryModal__seed"></strong></span>\n        ${(0,r.iconButton)({t:e,className:"infi-mediaGalleryModal__seedCopyButton",label:"COPY",icon:o.default})}\n      </div>\n\n      <a class="infi-mediaGalleryModal__right-conversation" href="#">${e("GO_TO_CONVERSATION")}</a>\n    </section>\n  </div>\n`},8804:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaGalleryEmptyHTML=void 0;t.mediaGalleryEmptyHTML=e=>`\n  <div class="infi-chatgpt__mediaGalleryEmpty">\n    <p>${e("MEDIA_GALLERY_EMPTY")}</p>\n  </div>\n`},6538:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.mediaGalleryItemHTML=void 0;const r=n(3720),o=i(n(7581));t.mediaGalleryItemHTML=({t:e,item:t,selectedItem:n})=>`\n  <div id="infi-${t.id}" class="infi-mediaGalleryItem ${n?"selected":""}" role="button" tabindex="0" aria-label="${e("MEDIA_ITEM")}">\n    <div class="infi-mediaGalleryItem-backdrop">\n      ${(0,r.iconButton)({t:e,className:"infi-mediaGalleryItem__download",label:"DOWNLOAD",icon:o.default})}\n    </div>\n\n    <div id="infi-mediaGalleryItem__loaderContainer">\n      <div id="infi-mediaGalleryItem__loader" aria-live="polite" role="status">\n        <span class="sr-only">${e("LOADING")}</span>\n      </div>\n    </div>\n    \n    <img class="infi-mediaGalleryItem__image" src="${t.downloadURL}" alt="${t.prompt.slice(0,50)}..." />\n  </div>\n`},1574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaGalleryPremiumOnlyHTML=void 0;const i=n(2948),r=n(1680);t.mediaGalleryPremiumOnlyHTML=e=>`\n  <div id="infi-chatgpt__mediaGalleryPremiumOnlyModal">\n    <img class="infi-chatgpt__mediaGalleryPremiumOnlyModal-image" src="${i.CONSTANTS.MEDIA_GALLERY.PREVIEW_IMAGE}" alt="${e("MEDIA_GALLERY_PREVIEW")}" />\n\n    <div class="infi-chatgpt__mediaGalleryPremiumOnlyModal-text">\n      ${(0,r.premiumModalInnerHTML)(e)}\n    </div>\n  </div>\n`},9330:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.mediaGalleryTabInnerHTML=void 0;const r=i(n(1843));t.mediaGalleryTabInnerHTML=e=>`\n  <div tabindex="0">\n    <button class="flex h-10 w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary">\n      <div class="flex h-6 w-6 items-center justify-center text-token-text-secondary">\n        ${r.default}\n      </div>\n      <div>\n        <span class="text-sm">${e("MEDIA_GALLERY")}</span>\n      </div>\n    </button>\n  </div>\n`},561:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.moveChatHTML=void 0;const r=n(2948),o=i(n(8373));t.moveChatHTML=(e,t,n,i)=>`\n    <form id="infi-chatgpt-form" method="POST" data-chat-id="${t}">\n      <div class="modal-header-actions">\n        <button id="infi-chatgpt-manageFolders-button" class="modal-header-actions-button" type="button">\n          ${o.default} ${e("MANAGE_FOLDERS")}\n        </button>\n      </div>\n    \n      <label for="search-input" class="sr-only">${e("SEARCH_FOLDERS")}</label>\n      <input type="text" id="search-input" placeholder="${e("SEARCH_FOLDERS")}..." autocomplete="off">\n\n       <ul class="infi-chatgpt-moveChatList" aria-live="polite" role="listbox" aria-label="${e("SELECTABLE_ITEMS")}">\n        ${n.map((t=>`<li id="infi-chatgpt-moveChatItem-${t._id}" class="infi-chatgpt-moveChatItem text-sm" tabindex="0" role="option" aria-selected="false">${t.name.length>r.CONSTANTS.LIST.MAX_LABEL_LENGTH?`${t.name.slice(0,r.CONSTANTS.LIST.MAX_LABEL_LENGTH)}...`:t.name} <span>(${i[t._id]||0} ${e("CHATS")}, ${t.totalSubfolders||0} ${e("SUBFOLDERS")}, ${(t.gpts||[]).length||0} ${e("GPTS")})</span>\n                <span class="infi-chatgpt-manageTabs-itemDate">\n                  ${new Date(t.updatedAt||"").toLocaleDateString()}\n                </span>\n              </li>`)).join("")}\n      </ul>\n      \n      <div class="infi-chatgpt-manageTabs-buttonsContainer">\n        <button id="infi-chatgpt-moveChat-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" aria-label="${e("CLOSE")}" type="button">\n          ${e("CLOSE")}\n        </button>\n        \n        <button class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-submitButton" aria-label="${e("MOVE_CHAT")}" type="submit" disabled>\n          ${e("MOVE")}\n        </button>\n      </div>\n    </form>\n  `},2138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pinnedChatsTabInnerHTML=void 0;t.pinnedChatsTabInnerHTML=e=>`\n  <div tabindex="0" class="infi-pinnedChats-accordion">\n    <button \n      id="infi-pinnedChats-accordion-header"\n      class="infi-pinnedChats-accordion-header-container flex w-full items-center gap-2.5 rounded-lg p-2 text-token-text-primary"\n      aria-expanded="true"\n      aria-controls="infi-pinnedChats-accordion-content"\n      aria-label="Toggle Accordion"\n    >\n      <span class="text-sm">${e("PINNED_CHATS")}</span>\n\n      <div class="infi-pinnedChats-accordion-chevron">\n        <svg width="20px" height="20px" viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <g id="infi-chevron-icon">\n          <path d="M6 15L12 9L18 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n          </g>\n        </svg>\n      </div>\n    </button>\n\n    <div\n      id="infi-pinnedChats-accordion-content"\n      class="infi-pinnedChats-accordion-content"\n      role="region"\n      aria-labelledby="infi-pinnedChats-accordion-header"\n      style="display: block;"\n    >\n      <ul id="infi-pinnedChats-accordion-chat-list"></ul>\n    </div>\n  </div>\n`},7356:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pinnedFoldersTabInnerHTML=void 0;t.pinnedFoldersTabInnerHTML=e=>`\n  <div tabindex="0" class="infi-pinnedFolders-accordion">\n    <button \n      id="infi-pinnedFolders-accordion-header"\n      class="infi-pinnedFolders-accordion-header-container flex w-full items-center gap-2.5 rounded-lg p-2 text-token-text-primary"\n      aria-expanded="true"\n      aria-controls="infi-pinnedFolders-accordion-content"\n      aria-label="Toggle Accordion"\n    >\n      <span class="text-sm">${e("PINNED_FOLDERS")}</span>\n\n      <div class="infi-pinnedFolders-accordion-chevron">\n        <svg width="20px" height="20px" viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <g id="infi-chevron-icon">\n          <path d="M6 15L12 9L18 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n          </g>\n        </svg>\n      </div>\n    </button>\n\n    <div\n      id="infi-pinnedFolders-accordion-content"\n      class="infi-pinnedFolders-accordion-content"\n      role="region"\n      aria-labelledby="infi-pinnedFolders-accordion-header"\n      style="display: block;"\n    >\n      <ul id="infi-pinnedFolders-accordion-folder-list"></ul>\n    </div>\n  </div>\n`},1909:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.premiumLimitModalInnerHTML=void 0;t.premiumLimitModalInnerHTML=e=>`\n  <p>${e("PREMIUM_LIMIT_MODAL_TEXT1")}</p>\n\n  <p>${e("PREMIUM_LIMIT_MODAL_TEXT2")}</p>\n\n  <p>${e("PREMIUM_LIMIT_MODAL_TEXT3",{pricingLink:"a",pricingLinkAttributes:'class="infi-chatgpt-pricingLink" href="https://www.ai-toolbox.co/pricing" target="_blank" aria-label="Pricing Page"'})}</p>\n\n  <p>${e("PREMIUM_LIMIT_MODAL_TEXT4")}</p>\n`},1680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.premiumModalInnerHTML=void 0;t.premiumModalInnerHTML=e=>`\n  <p>${e("PREMIUM_MODAL_TEXT1")}</p>\n\n  <p>${e("PREMIUM_MODAL_TEXT2",{pricingLink:"a",pricingLinkAttributes:'class="infi-chatgpt-pricingLink" href="https://www.ai-toolbox.co/pricing" target="_blank" aria-label="Pricing Page"'})}</p>\n\n  <p>${e("PREMIUM_MODAL_TEXT3")}</p>\n`},4662:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.addChainHTML=void 0;const r=n(2948),o=n(4729),a=i(n(1750));t.addChainHTML=({t:e,isEdit:t=!1,chain:n={name:"",prompts:[""]}})=>{var i;const s=e(t?"UPDATE":"ADD"),c=e(t?"EDIT_CHAIN":"ADD_CHAIN"),d=((null===(i=null==n?void 0:n.prompts)||void 0===i?void 0:i.length)||0)>0;return`\n    <form id="infi-chatgpt-form" method="POST">\n      <label for="chain-name-input" class="sr-only">${e("CHAIN_NAME")}</label>\n      <input type="text" id="chain-name-input" placeholder="${e("CHAIN_NAME")}" value="${null==n?void 0:n.name}" maxlength="${r.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_NAME_LENGTH}" required aria-describedby="create-chain-name-error" aria-invalid="false">\n      <span id="create-chain-name-error" class="infi-chatgpt-error-field-message">${e("CHAIN_NAME_INPUT_ERROR")}</span>\n\n      <div class="infi-chain-prompt-items">\n        ${null==n?void 0:n.prompts.map(((e,t)=>(0,o.addChainItemHTML)({prompt:e,index:t,showRemoveButton:d}))).join(" ")}\n      </div>\n\n      <div class="infi-chatgpt-addChain-addPrompt-buttonContainer">\n        <button\n          type="button"\n          id="infi-chatgpt-addChain-addPrompt-button"\n          class="modal-header-actions-button"\n          aria-label="${e("ADD_PROMPT")}"\n        >\n          ${a.default} ${e("ADD_PROMPT")}\n        </button>\n      </div>\n\n      <div class="infi-chatgpt-manageTabs-buttonsContainer">\n        <button\n          id="infi-chatgpt-addChain-cancelButton"\n          class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton"\n          aria-label="${e("CLOSE")}"\n          type="button"\n        >\n          ${e("CLOSE")}\n        </button>\n        \n        <button\n          class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-submitButton"\n          aria-label="${c}"\n          type="submit"\n        >\n          ${s}\n        </button>\n      </div>\n    </form>\n`}},4729:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.addChainItemHTML=void 0;const r=n(6907),o=n(2948),a=i(n(8047)),s=i(n(8997)),c=i(n(1180));t.addChainItemHTML=({prompt:e,index:t,showRemoveButton:n})=>`\n    <div class="infi-chain-prompt-item">\n      <button\n        id="infi-chain-prompt-item-drag-${t}"\n        class="infi-chain-prompt-dragHandle"\n        aria-label="${(0,r.t)("DRAG_TO_REORDER")}"\n        title="${(0,r.t)("DRAG_TO_REORDER")}"\n        tabindex="0"\n        type="button"\n      >\n        ${a.default}\n      </button>\n    \n      <div class="infi-chain-prompt-item-content">\n        <label for="chain-content-input-${t}" class="sr-only">${(0,r.t)("PROMPT_CONTENT")}</label>\n\n        <textarea\n          id="chain-content-input-${t}"\n          placeholder="${(0,r.t)("PROMPT_CONTENT")}"\n          rows="8"\n          maxlength="${o.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_CONTENT_LENGTH}"\n          required\n          aria-describedby="create-prompt-content-error-${t}"\n          aria-invalid="false"\n        >${e}</textarea>\n\n        <span id="infi-prompt-content-counter-${t}" class="infi-counter">\n          ${e.length} / ${o.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_CONTENT_LENGTH}\n        </span>\n\n        <span id="create-prompt-content-error-${t}" class="infi-chatgpt-error-field-message">\n          ${(0,r.t)("PROMPT_CONTENT_INPUT_ERROR")}\n        </span>\n      </div>\n\n      <div class="infi-chain-item-actions" role="group" aria-label="${(0,r.t)("PROMPT_ACTIONS")}">\n        <button\n          id="infi-chatgpt-addChain-duplicate-button"\n          class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton"\n          aria-label="${(0,r.t)("DUPLICATE_PROMPT")}"\n          data-index="${t}"\n          type="button"\n        >\n          ${c.default} ${(0,r.t)("DUPLICATE")}\n        </button>\n\n        ${n?`\n            <button\n              id="infi-chatgpt-addChain-remove-button"\n              class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-removeButton"\n              aria-label="${(0,r.t)("REMOVE_PROMPT")}"\n              data-index="${t}"\n              type="button"\n            >\n              ${s.default} ${(0,r.t)("REMOVE")}\n            </button>\n          `:""}\n      </div>\n    </div>\n  `},2103:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.promptLibraryHTML=void 0;const o=n(2997),a=n(9454),s=n(2948),c=r(n(9276)),d=r(n(2992)),l=r(n(2424)),u=r(n(3696)),h=s.CONSTANTS.PROMPT_LIBRARY.DEFAULT_CATEGORY;t.promptLibraryHTML=e=>i(void 0,void 0,void 0,(function*(){const t="dark"===(0,a.getTheme)()?"https://media.happyhourhub.co/ChatGPT-Toolbox-Media/chevron-light.svg":"https://media.happyhourhub.co/ChatGPT-Toolbox-Media/chevron-dark.svg",n=e("SEARCH_PROMPTS_LIBRARY",{category:e("MARKETING")}),i=(yield(0,o.getStore)())[s.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER]?c.default:Object.fromEntries(Object.entries(c.default).slice(0,s.CONSTANTS.PROMPT_LIBRARY.FREE_CATEGORY_LIMIT)),r=Object.keys(i).map((t=>`\n    <option value="${t}" ${h===t?"selected":""}>\n      ${e(i[t])}\n    </option>\n  `)).join("");return`\n    <div id="infi-chatgpt__promptLibraryModal" class="infi-promptLibraryModal__conatiner">\n      <section class="infi-promptLibraryModal__left">\n        <div class="infi-promptLibraryModal__actions">\n          <button id="infi-chatgpt-settings-button" class="modal-header-actions-button">\n            ${u.default} ${e("SETTINGS")}\n          </button>\n        </div>\n\n        <div class="infi-chatgpt-manageTabsContainer">\n          <div class="infi-chatgpt-manageTabs-content">\n            <div class="infi-chatgpt__promptLibraryModal-searchContainer">\n              <label for="search-input" class="sr-only">${n}</label>\n              <input type="text" id="infi-promptLibrary-search" placeholder="${n}..." autocomplete="off">\n\n              <select id="prompCategory-select" name="prompCategory" aria-label="${e("SELECT_CATEGORY")}" style="background: url(${t})">\n                ${r}\n              </select>\n            </div>\n\n            <div class="infi-promptLibraryModal__promptLibraryContainer" aria-live="polite"></div>\n          </div>\n        </div>\n      </section>\n\n      <section class="infi-promptLibraryModal__right">\n        <h2 class="infi-promptLibraryModal__right-name"></h2>\n        \n        <div clas="infi-promptLibraryModal__promptContianer">\n        <span class="infi-promptLibraryModal__right-author"></span>\n        <small class="infi-promptLibraryModal__right-date"></small>\n        </div>\n        \n        <span class="infi-promptLibraryModal__right-category"></span>\n        \n        <h3 class="infi-promptLibraryModal__right-prompt">${e("PROMPT")}:</h3>\n\n        <p class="infi-promptLibraryModal__right-promptText"></p>\n\n        <button class="infi-promptLibraryModal__right-useButton" aria-label="${e("USE_PROMPT")}">${d.default} ${e("USE_PROMPT")}</button>\n\n        <button class="infi-promptLibraryModal__right-saveButton" aria-label="${e("SAVE_PROMPT")}">${l.default} ${e("SAVE_PROMPT")}</button>\n      </section>\n    </div>\n  `}))},4466:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promptLibraryConfirmSaveHTML=void 0;t.promptLibraryConfirmSaveHTML=e=>`\n  <p class="infi-chatgpt__promptLibraryConfirmSaveText">${e("SAVE_PROMPT_LIBRARY_TEXT")}</p>\n\n  <div class="infi-chatgpt-manageTabs-buttonsContainer">\n    <button id="infi-chatgpt__promptLibraryConfirmSave-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" aria-label="${e("CANCEL")}">\n    ${e("CANCEL")}</button>\n    \n    <button id="infi-chatgpt__promptLibraryConfirmSave-confirmButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-submitButton" aria-label="${e("SAVE_PROMPT_LIBRARY_TITLE")}">\n    ${e("SAVE")}</button>\n  </div>\n`},986:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promptLibraryEmptyHTML=void 0;t.promptLibraryEmptyHTML=e=>`\n  <div class="infi-chatgpt__promptLibraryEmpty">\n    <p>${e("PROMPT_LIBRARY_EMPTY")}</p>\n  </div>\n`},1437:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promptLibraryFreeHTML=void 0;t.promptLibraryFreeHTML=(e,t)=>`\n  <div class="infi-chatgpt-searchHistory-upgrade" role="alert">\n  ${t?`<p class="emoji">${e("SEARCH_HISTORY_UPGRADE_TEXT1",{strong:"strong"})}</p>\n  \n        <p>${e("SEARCH_HISTORY_UPGRADE_TEXT2",{strong:"strong",amount:t.toLocaleString("he-IL")})}</p>`:""}\n\n    <p>${e("SEARCH_HISTORY_UPGRADE_TEXT3")}</p>\n\n    <p>${e("SEARCH_HISTORY_UPGRADE_TEXT4",{pricingLink:"a",pricingAttributes:'href="https://www.ai-toolbox.co/pricing" target="_blank" aria-label="Learn more about our Premium Plan"'})}</p>\n    \n    <p>${e("SEARCH_HISTORY_UPGRADE_TEXT5")}</p>\n  </div>\n`},932:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.promptLibraryItemHTML=void 0;const r=n(2948),o=n(1805);t.promptLibraryItemHTML=e=>i(void 0,[e],void 0,(function*({t:e,item:t,selectedItem:n}){const i=yield(0,o.formatDate)(t.created_at);return`\n    <div id="infi-${t._id}" class="infi-promptLibraryItem ${n?"selected":""}" role="button" tabindex="0" aria-label="${e("PROMPT_LIBRARY_ITEM")}">\n      <div class="infi-promptLibraryItem-backdrop">\n      </div>\n\n      <div id="infi-promptLibraryItem__loaderContainer">\n        <div id="infi-promptLibraryItem__loader" aria-live="polite" role="status">\n          <span class="sr-only">${e("LOADING")}</span>\n        </div>\n      </div>\n\n      <div class="infi-promptLibraryItem__contentContainer">\n        <span class="infi-promptLibraryItem__name">${t.name}</span>\n\n        <div class="infi-promptLibraryItem__authorContainer">\n          ${t.author?`<span class="infi-promptLibraryItem__author">${t.author}</span> • `:""}\n          \n          <time class="infi-promptLibraryItem__date">${i}</time>\n        </div>\n\n        <span class="infi-promptLibraryItem__category">${t.category}</span>\n        \n        <p class="infi-promptLibraryItem__content">${t.content.length>r.CONSTANTS.PROMPT_LIBRARY.PROMPT_TEXT_MAX_LENGTH?`${t.content.slice(0,r.CONSTANTS.PROMPT_LIBRARY.PROMPT_TEXT_MAX_LENGTH).trim()}...`:t.content}</p>\n      </div>\n    </div>\n`}))},4264:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promptValuesModalHTML=void 0;const i=n(2948);t.promptValuesModalHTML=(e,t=[])=>{const n=t.map((e=>{const t=e.length>i.CONSTANTS.PROMPT_VALUES.MAX_LABEL_LENGTH?`{{${e.slice(2,-2).slice(0,i.CONSTANTS.PROMPT_VALUES.MAX_LABEL_LENGTH)}...}}`:e;return`\n        <div class="infi-chatgpt__promptDynamicValues-listItem">\n          <span id="${e}">${t}</span>\n          <textarea class="promptDynamicValues-input" rows="1" autocomplete="off"></textarea>\n        </div>\n      `})).join("");return`\n    <form id="infi-chatgpt-form" method="POST">\n      <p class="infi-chatgpt__promptLibraryConfirmSaveText">${e("EDIT_PROMPT_DYNAMIC_VALUES_TEXT")}</p>\n\n      <div class="infi-chatgpt__promptDynamicValues-list">${n}</div>\n\n      <div class="infi-chatgpt-manageTabs-buttonsContainer">\n        <button id="infi-chatgpt__promptDynamicValues-cancelButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-archiveButton" type="button" aria-label="${e("CANCEL")}">\n        ${e("CANCEL")}</button>\n        \n        <button id="infi-chatgpt__promptDynamicValues-confirmButton" class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-submitButton" type="submit" aria-label="${e("INSERT_PROMPT")}">\n        ${e("INSERT")}</button>\n      </div>\n    </form>\n  `}},1952:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.searchHistoryHTML=void 0;const r=i(n(3696));t.searchHistoryHTML=e=>`\n  <div class="modal-header-actions">\n    <button id="infi-chatgpt-settings-button" class="modal-header-actions-button">\n      ${r.default} ${e("SETTINGS")}\n    </button>\n\n    <div class="infi-switch-wrapper">\n      <label id="infi-switch-label" class="infi-switch-label" for="infi-toggle-switch">${e("EXACT_MATCH")}</label>\n\n      <div class="infi-slider-container">\n        <input type="checkbox" id="infi-toggle-switch" aria-checked="false" aria-labelledby="infi-switch-label" hidden />\n        <span class="infi-slider" tabindex="0" role="button"></span>\n      </div>\n    </div>\n  </div>\n\n  <label for="search-input" class="sr-only">${e("SEARCH_HISTORY")}</label>\n  <input type="text" id="search-input" placeholder=${e("SEARCH_HISTORY_PLACEHOLDER")} autocomplete="off">\n  <div id="search-results" class="search-results" aria-live="polite"></div>\n`},9569:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.searchHistoryTabInnerHTML=void 0;const r=i(n(2009));t.searchHistoryTabInnerHTML=e=>`\n  <div tabindex="0">\n    <button class="flex h-10 w-full items-center gap-2.5 rounded-lg px-2 text-token-text-primary hover:bg-token-sidebar-surface-secondary">\n      <div class="flex h-6 w-6 items-center justify-center text-token-text-secondary">\n        ${r.default}\n      </div>\n      <div class="flex-column">\n        <span class="text-sm">${e("SEARCH_HISTORY")}</span>\n        <span id="sync-progress" class="text-xs text-token-text-secondary"></span>\n      </div>\n    </button>\n  </div>\n`},9267:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getSettingsHTML=void 0;const r=n(9454);let o=n(2948).CONSTANTS.LANGUAGES.ENGLISH;const a={ar:"ARABIC",de:"GERMAN",en:"ENGLISH",es:"SPANISH",fr:"FRENCH",he:"HEBREW",hi:"HINDI",it:"ITALIAN",ja:"JAPANESE",zh:"CHINESE"},s={ar:"🇸🇦",de:"🇩🇪",en:"🇺🇸",es:"🇪🇸",fr:"🇫🇷",he:"🇮🇱",hi:"🇮🇳",it:"🇮🇹",ja:"🇯🇵",zh:"🇨🇳"};t.getSettingsHTML=e=>i(void 0,[e],void 0,(function*({t:e}){return new Promise(((t,n)=>{chrome.storage.local.get("lang",(i=>{try{const n="https://media.happyhourhub.co/ChatGPT-Toolbox-Media/chevron-dark.svg",c="https://media.happyhourhub.co/ChatGPT-Toolbox-Media/chevron-light.svg",d="dark"===(0,r.getTheme)()?c:n;i.lang&&(o=i.lang);const l=Object.keys(a).map((t=>`\n            <option value="${t}" ${o===t?"selected":""}>\n            ${s[t]} ${e(a[t])}\n            </option>\n          `)).join(""),u=`\n          <div class="infi-chatgpt-settings-language">\n            <label for="language-select">${e("SELECT_LANGUAGE")}</label>\n            <select id="language-select" name="language" aria-label="${e("SELECT_LANGUAGE")}" style="background: url(${d})">\n              ${l}\n            </select>\n          </div>\n        `;t(u)}catch(e){n("")}}))})).then((e=>e))}))},7072:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addGPTsToSidebar=function(e){const t=e.querySelector("#infi-gpts-collapse");if(t){(0,i.getGPTS)(e).reverse().forEach((e=>{(0,s.isAncestorOrSelf)(e,t)||t.contains(e)||t.insertAdjacentElement("afterend",e)})),(0,a.setGPTsTabVisibility)(),(0,o.hideWeirdDivider)();if(!document.getElementById("infi-gptsCollapse-accordion-header"))return;const n=localStorage.getItem(r.CONSTANTS.LOCAL_STORAGE.EXPAND_GPTS);if(n){const e="true"===n||null===n;document.querySelectorAll(".infi-gpts-item").forEach((t=>{t&&(t.style.display=e?"flex":"none")}))}}};const i=n(5644),r=n(2948),o=n(6074),a=n(5301),s=n(4720)},5644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGPTS=function(e){const t=[];return e.querySelectorAll('aside > a[href^="/g/"]').forEach((e=>{const n=e.closest(".infi-sidebar-tabs");if(n){const r=n.querySelector("#infi-gpts-collapse");r&&(r.contains(e)||(0,i.isAncestorOrSelf)(e,r)||e.classList.contains("infi-gpts-item")||(e.classList.add("infi-gpts-item"),t.push(e)))}})),t};const i=n(4720)},4472:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getGPTsList=function(e){return i(this,void 0,void 0,(function*(){if(!e)return{results:[]};const[t,{sharedGPTs:n}]=yield Promise.all([(0,o.fetchGPTsResults)(e),(0,r.getStore)()]),i=null==t?void 0:t.nextCursor;return{results:[...n.filter((t=>t.title.toLowerCase().includes(e))),...(null==t?void 0:t.results)||[]],nextCursor:i}}))};const r=n(2997),o=n(9589)},465:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleGPTsTabClick=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-gptsCollapse-accordion-header");if(!e)return;const t=localStorage.getItem(r.CONSTANTS.LOCAL_STORAGE.EXPAND_GPTS);if(t){const n="true"===t||null===t;e.setAttribute("aria-expanded",String(n))}(0,o.manageEventListeners)("click",(function(t){t.preventDefault();const n="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",String(!n)),localStorage.setItem(r.CONSTANTS.LOCAL_STORAGE.EXPAND_GPTS,String(!n));document.querySelectorAll(".infi-gpts-item").forEach((e=>{e&&(e.style.display=n?"none":"block")}))}),e)}))};const r=n(2948),o=n(7392)},6074:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideWeirdDivider=function(){var e;const t=document.querySelector(".infi-sidebar-tabs"),n=null===(e=null==t?void 0:t.querySelector('div > a[href="/gpts"]'))||void 0===e?void 0:e.parentElement;if(!n)return;const i=n.firstElementChild;i&&1===i.clientHeight&&(i.tabIndex=-1,i.style.display="none",i.style.height="0")}},5301:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.setGPTsTabVisibility=function(){return n(this,void 0,void 0,(function*(){const e=document.getElementById("infi-gpts-collapse");if(!e)return;const t=e.nextElementSibling;t&&(e.style.display=t.classList.contains("infi-gpts-item")?"flex":"none")}))}},8550:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleAddFolderLogic=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-chatgpt-form"),t=null==e?void 0:e.querySelector("#folder-name-input");if(!e||!t)return;const n=!!document.getElementById("infi-chatgpt-editFolderModal");t.focus();const o=t.value.length;t.setSelectionRange(o,o),t.addEventListener("keydown",(e=>i(this,void 0,void 0,(function*(){"Enter"===e.key&&(e.preventDefault(),yield(0,r.submitCreateFolderForm)(e,n))})))),e.addEventListener("submit",(e=>(0,r.submitCreateFolderForm)(e,n)))}))};const r=n(9425)},9425:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.submitCreateFolderForm=function(e,t){return i(this,void 0,void 0,(function*(){var n;e.preventDefault();try{yield(0,d.toggleLoader)(!0);const e=t?"infi-chatgpt-editFolderModal":"infi-chatgpt-addFolderModal",m=t?"UPDATE_FOLDER_SUCCESS":"ADD_FOLDER_SUCCESS",y=document.getElementById("infi-chatgpt-manageFolderModal"),v=null==y?void 0:y.querySelector(".infi-chatgpt-modal-title h2"),g=document.getElementById("search-input"),_=document.getElementById("folder-name-input");if(!_||!g)throw Error();const b=yield(0,p.getStore)(),{selectedFolder:E,folders:w,previousModal:A}=b,S=r(b,["selectedFolder","folders","previousModal"])[o.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER],T=null===(n=_.value)||void 0===n?void 0:n.trim();if(0===T.length||T.length>o.CONSTANTS.MANAGE_FOLDERS.ADD_FOLDER.MAX_NAME_LENGTH)throw(0,f.toggleInputError)(!0,_,"create-folder-name-error"),Error();(0,f.toggleInputError)(!1,_,"create-folder-name-error");const C=null==E?void 0:E._id;let M;if(t)M=yield(0,c.updateFolder)({folderId:C,folderName:T});else{const e=yield(0,c.createFolder)({folderName:T,parentFolderId:C});if(null==e?void 0:e.max)throw(0,l.showSnackbar)("MAX_FOLDERS",3e3,"error"),Error();if(null==e?void 0:e.max_free)throw(0,l.showSnackbar)("MAX_FREE_FOLDERS",3e3,"error"),Error();M=e}if(!S&&(null==M?void 0:M.max_free)){yield(0,p.setSelectedModalType)("PREMIUM_LIMIT"),yield(0,p.setPreviousModal)("ADD_FOLDER");const e=()=>i(this,void 0,void 0,(function*(){yield(0,p.setPreviousModal)(C?"MANAGE_FOLDER":"MANAGE_FOLDERS")})),t=yield(0,u.getModalProps)("PREMIUM_LIMIT",!1,e);return void(yield(0,h.handleOpenModal)(t))}if(!M)throw Error();M.parentFolder&&(yield(0,p.setSelectedFolder)(M.parentFolder)),yield(0,p.setFolders)(M.children),yield(0,s.resetForm)(),yield(0,h.handleCloseModalById)(e,t||"MANAGE_FOLDER"===A?"MANAGE_FOLDER":"MANAGE_FOLDERS"),t&&(yield(0,p.setPreviousModal)("MANAGE_FOLDERS")),v&&t&&(v.innerHTML=T),(0,l.showSnackbar)(m,3e3),yield(0,a.handleSearchInputEvent)(g)}catch(e){}finally{yield(0,d.toggleLoader)(!1)}}))};const o=n(2948),a=n(6365),s=n(4137),c=n(5982),d=n(1089),l=n(9748),u=n(177),h=n(4193),f=n(924),p=n(2997)},7980:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleChainValuesForm=function(e){const t=document.querySelector("div#infi-chainDynamicValuesModal form#infi-chatgpt-form");if(!t)return;const n={};e.forEach(((e,t)=>{const i=t+1,r=Array.from(document.querySelectorAll(`#infi-chatgpt__chainDynamicValues-prompt-${i} .chainDynamicValues-input`));r&&r.forEach((e=>{(0,s.manageEventListeners)("input",(function(e){var t,r;const o=e.target,a=o.parentNode,s=null===(t=null==a?void 0:a.querySelector("span"))||void 0===t?void 0:t.id;s&&(null!==(r=n[i])&&void 0!==r||(n[i]={}),n[i][s]=o.value.trim())}),e)}))}));(0,s.manageEventListeners)("submit",(t=>i(this,void 0,void 0,(function*(){t.preventDefault();const i={};e.forEach(((e,t)=>{const r=t+1,o=n[r];if(!o)return void(i[r]=e);const a=(0,c.replaceDynamicValues)(e,o);i[r]=a})),yield(0,o.setChainData)({textItems:i,nextItem:2}),(0,a.insertAndSendPrompt)(i[1]),yield(0,r.handleCloseModalById)("infi-chainDynamicValuesModal")}))),t)};const r=n(4193),o=n(2997),a=n(8998),s=n(7392),c=n(4793)},6385:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleOpenChainValuesModal=function(e){return i(this,void 0,void 0,(function*(){const t={};for(const n of e){const e=(0,c.getDynamicValues)(n);t[Object.keys(t).length+1]={content:n,values:e}}yield(0,o.setSelectedModalType)("CHAIN_DYNAMIC_VALUES");const n=yield(0,s.getModalProps)("CHAIN_DYNAMIC_VALUES",!1,void 0,{chainValues:t});yield(0,r.handleOpenModal)(n),(0,a.handleChainValuesForm)(e)}))};const r=n(4193),o=n(2997),a=n(7980),s=n(177),c=n(5401)},7621:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.addChainContentCounter=function(){return i(this,void 0,void 0,(function*(){document.querySelectorAll(".infi-chain-prompt-item").forEach(((e,t)=>{const n=e.querySelector(`#chain-content-input-${t}`),i=e.querySelector(`#infi-prompt-content-counter-${t}`),a=r.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_CONTENT_LENGTH;if(!n||!i)return;const s=()=>{i.textContent=`${n.value.length} / ${a}`};s(),(0,o.manageEventListeners)("input",s,n),(0,o.manageEventListeners)("paste",(()=>{setTimeout(s,0)}),n)}))}))};const r=n(2948),o=n(7392)},7698:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.addPromptContentCounter=function(){return i(this,void 0,void 0,(function*(){const e=()=>{const e=document.getElementById("prompt-content-input"),t=document.getElementById("infi-prompt-content-counter"),n=r.CONSTANTS.MANAGE_PROMPTS.EDIT_PROMPT.MAX_CONTENT_LENGTH;e&&t&&(t.textContent=`${e.value.length} / ${n}`)},t=document.getElementById("prompt-content-input");t&&(e(),t.addEventListener("input",e),t.addEventListener("paste",(()=>{setTimeout(e,0)})))}))};const r=n(2948)},8032:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.globalCounterUpdate=void 0,t.injectWordsCounter=function(){return i(this,void 0,void 0,(function*(){if(document.getElementById("infi-word-counter"))return;const e=document.createElement("div");function n(){const t=(0,r.t)("isLTR");e.classList.remove(t?"infi-chatgpt-counter-right":"infi-chatgpt-counter-left"),e.classList.add(t?"infi-chatgpt-counter-left":"infi-chatgpt-counter-right")}function i(t){const n=t.length,i=""===t.trim()?0:t.trim().split(/\s+/).length;e.textContent=`${n} ${(0,r.t)("CHARACTERS")} / ${i} ${(0,r.t)("WORDS")}`}e.id="infi-word-counter",n();let o="";t.globalCounterUpdate=()=>{n(),i(o)},function t(){var n;const r=document.getElementById("infi-word-counter");r&&r.remove();const a=null===(n=document.querySelector("#prompt-textarea"))||void 0===n?void 0:n.closest(".relative.flex.h-full.max-w-full.flex-1.flex-col");if(!a)return void setTimeout(t,1e3);const s=document.querySelector(".ProseMirror");if(!s)return void setTimeout(t,1e3);a.style.position="relative",a.appendChild(e),o=s.textContent||"",i(o),new MutationObserver((e=>{o=s.textContent||"",i(o)})).observe(s,{childList:!0,characterData:!0,subtree:!0})}()}))};const r=n(6907);t.globalCounterUpdate=null},4702:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.emptyDatabase=t.openDatabase=void 0,t.saveConversations=function(e){if(!m)return;const t=m.transaction([f],"readwrite").objectStore(f);e.forEach((e=>{const n=t.put(e);n.onsuccess=function(){},n.onerror=function(e){}}))},t.handleConversationPatchRequest=function(e,t,n=!1){if(!m)return;const d=m.transaction([f],"readwrite"),l=d.objectStore(f);e.forEach((e=>{const u=l.get(e);u.onsuccess=function(h){return i(this,void 0,void 0,(function*(){const h=u.result;if(h){if(!t||t===r.CONSTANTS.CONVERATION_STATUS.DELETE){const t=l.delete(e);return yield y(e),setTimeout((()=>i(this,void 0,void 0,(function*(){(0,a.fetchMessages)(e).then((t=>{n||t||(0,o.deleteInnerChats)([e]).then((()=>{(0,s.initializePinnedChats)()})).then((()=>{(0,c.setPinnedChatsTabVisibility)()}))}))}))),1900),t.onsuccess=function(){},void(t.onerror=function(e){})}t===r.CONSTANTS.CONVERATION_STATUS.ARCHIVE?(h.is_archived=!0,l.put(h)):t===r.CONSTANTS.CONVERATION_STATUS.UNARCHIVE&&(h.is_archived=!1,l.put(h)),d.oncomplete=function(){},d.onerror=function(e){}}}))},u.onerror=function(e){}}))},t.handleAllConversationsPatchRequest=function(e){return i(this,void 0,void 0,(function*(){if(!m)return;const t=m.transaction([f],"readwrite"),n=t.objectStore(f),o=n.openCursor();o.onsuccess=function(t){return i(this,void 0,void 0,(function*(){const t=o.result;if(t){const i=t.value;if(!i)return;const o=i.id;if(e&&e!==r.CONSTANTS.CONVERATION_STATUS.DELETE)e===r.CONSTANTS.CONVERATION_STATUS.ARCHIVE?(i.is_archived=!0,n.put(i)):e===r.CONSTANTS.CONVERATION_STATUS.UNARCHIVE&&(i.is_archived=!1,n.put(i));else{const e=n.delete(o);yield y(o),e.onsuccess=function(){},e.onerror=function(e){}}t.continue()}}))},o.onerror=function(e){},t.oncomplete=function(){},t.onerror=function(e){}}))},t.getConversation=function(e){return new Promise(((t,n)=>{const i=indexedDB.open(l,u);i.onsuccess=function(i){const r=i.target.result.transaction([f],"readonly").objectStore(f).get(e);r.onsuccess=function(e){const n=e.target.result;t(n||null)},r.onerror=function(e){var t,i;n((null===(t=e.target)||void 0===t?void 0:t.error)||(null===(i=e.target)||void 0===i?void 0:i.errorCode))}},i.onerror=function(e){var t,i;n((null===(t=e.target)||void 0===t?void 0:t.error)||(null===(i=e.target)||void 0===i?void 0:i.errorCode))}}))},t.searchInIndexedDB=function(e){return i(this,arguments,void 0,(function*({searchString:e,searchByTitleOnly:t=!1,getArchived:n=!1,getAll:i=!1,exactMatch:r=!1}){if(!m)return Promise.resolve([]);const o=yield(0,d.getAccountId)();return new Promise(((a,s)=>{var c;const d=m.transaction([f],"readonly").objectStore(f).index("updateTimeIndex"),l=[],u=(null===(c=null==e?void 0:e.trim())||void 0===c?void 0:c.toLowerCase())||"",h=new RegExp(`\\b${u}\\b`),p=d.openCursor(null,"prev");p.onsuccess=function(e){var s,c,d,f,p,m;const y=e.target.result;if(y){const e=y.value;if(i){if(e.is_archived===n){(null!==o?e.account_id===o:!e.account_id)&&l.push(e)}}else if(e.is_archived===n){const n=[];let i=!1;if((r?h.test(null===(d=null==e?void 0:e.title)||void 0===d?void 0:d.toLowerCase()):null===(c=null===(s=null==e?void 0:e.title)||void 0===s?void 0:s.toLowerCase())||void 0===c?void 0:c.includes(u))&&(i=!0),!t)for(const t of e.messages){(r?h.test(null===(m=null==t?void 0:t.content)||void 0===m?void 0:m.toLowerCase()):null===(p=null===(f=null==t?void 0:t.content)||void 0===f?void 0:f.toLowerCase())||void 0===p?void 0:p.includes(u))&&(n.push(t),i=!0)}if(i){e.messages=n;(null!==o?e.account_id===o:!e.account_id)&&l.push(e)}}y.continue()}else a(l)},p.onerror=function(e){s(new Error("Failed to search conversations"))}}))}))},t.getConversationsByIds=function(e){return i(this,arguments,void 0,(function*(e,t=""){if(!m)return[];const n=yield(0,d.getAccountId)();return new Promise(((i,r)=>{var o;const a=m.transaction([f],"readonly").objectStore(f).index("updateTimeIndex"),s=[],c=(null===(o=null==t?void 0:t.trim())||void 0===o?void 0:o.toLowerCase())||"",d=a.openCursor(null,"prev");d.onsuccess=function(t){var r,o,a,d;const l=t.target.result;if(l){const t=l.value;t.type="conversation",(null!==n&&e.includes(t.id)&&t.account_id===n&&(null===(o=null===(r=null==t?void 0:t.title)||void 0===r?void 0:r.toLowerCase())||void 0===o?void 0:o.includes(c))||null===n&&e.includes(t.id)&&(null===(d=null===(a=null==t?void 0:t.title)||void 0===a?void 0:a.toLowerCase())||void 0===d?void 0:d.includes(c))&&!t.account_id)&&s.push(t),l.continue()}else i(s)},d.onerror=function(e){r(new Error("Failed to get conversations by ids"))}}))}))},t.getConversationsExcludingIds=function(e){return i(this,arguments,void 0,(function*(e,t=""){const n=yield(0,d.getAccountId)();return new Promise(((i,r)=>{var o;const a=m.transaction([f],"readonly").objectStore(f).index("updateTimeIndex"),s=[],c=(null===(o=null==t?void 0:t.trim())||void 0===o?void 0:o.toLowerCase())||"",d=a.openCursor(null,"prev");d.onsuccess=function(t){var r,o,a,d;const l=t.target.result;if(l){const t=l.value;!e.includes(t.id)&&t.account_id===n&&(null===(o=null===(r=null==t?void 0:t.title)||void 0===r?void 0:r.toLowerCase())||void 0===o?void 0:o.includes(c))?s.push(t):null!==n||e.includes(t.id)||!(null===(d=null===(a=null==t?void 0:t.title)||void 0===a?void 0:a.toLowerCase())||void 0===d?void 0:d.includes(c))||t.account_id||s.push(t),l.continue()}else i(s)},d.onerror=function(e){r(new Error("Failed to get excluded conversations by ids"))}}))}))},t.saveImages=function(e){if(!m||!e||0===e.length)return;const t=m.transaction([h],"readwrite"),n=t.objectStore(h);e.forEach((e=>{n.put(e)}));const i=n.count();i.onsuccess=()=>{const e=i.result;if(e>p){const t=e-p,i=n.index("createTimeIndex");let r=0;const o=i.openCursor(void 0,"next");o.onsuccess=e=>{const n=e.target.result;if(!n||r>=t)return;const i=n.delete();i.onsuccess=()=>{r++,n.continue()},i.onerror=e=>{}},o.onerror=e=>{}}},i.onerror=e=>{},t.oncomplete=()=>{},t.onerror=e=>{}},t.getImagesByIds=function(e){return i(this,void 0,void 0,(function*(){if(!m||!e||0===e.length)return[];const t=yield(0,d.getAccountId)(),n=m.transaction([h],"readonly").objectStore(h).index("createTimeIndex").openCursor(null,"prev"),i=[];return yield new Promise(((r,o)=>{n.onsuccess=o=>{const a=n.result;if(a){const n=a.value;n.account_id===t&&e.includes(n.id)&&i.push(n),a.continue()}else r()},n.onerror=e=>{var t,n;return o((null===(t=e.target)||void 0===t?void 0:t.error)||(null===(n=e.target)||void 0===n?void 0:n.errorCode))}})),i}))},t.getImagesPaginated=function(e,t,n){return i(this,void 0,void 0,(function*(){if(!m||e<1||t<1)return[];const i=yield(0,d.getAccountId)(),r=(e-1)*t;return new Promise(((e,o)=>{const a=m.transaction([h],"readonly").objectStore(h).index("createTimeIndex");let s=0;const c=[],d=n?n.toLowerCase().split(/\s+/).filter(Boolean):null,l=a.openCursor(null,"prev");l.onsuccess=n=>{const o=l.result;if(!o||c.length>=t)return void e(c);const a=o.value;if(a.account_id!==i)return void o.continue();let u=!0;if(d&&d){const e=a.prompt.toLowerCase();u=d.some((t=>e.includes(t)))}u&&(s>=r&&c.push(a),s++),o.continue()},l.onerror=e=>{var t,n;o((null===(t=e.target)||void 0===t?void 0:t.error)||(null===(n=e.target)||void 0===n?void 0:n.errorCode))}}))}))},t.deleteImagesByConvoId=y;const r=n(2948),o=n(5982),a=n(5147),s=n(2042),c=n(2765),d=n(2997),l=r.CONSTANTS.DATABASE.DB_NAME,u=r.CONSTANTS.DATABASE.VERSION,h=r.CONSTANTS.DATABASE.IMAGE_STORE_NAME,f=r.CONSTANTS.DATABASE.CONVERSATION_STORE_NAME,p=r.CONSTANTS.DATABASE.MAX_IMAGE_RECORDS;let m;function y(e){return i(this,void 0,void 0,(function*(){if(!m)return;const t=m.transaction([h],"readwrite").objectStore(h),n=t.getAll(),i=(yield new Promise(((e,t)=>{n.onsuccess=()=>e(n.result),n.onerror=e=>{var n,i;return t((null===(n=e.target)||void 0===n?void 0:n.error)||(null===(i=e.target)||void 0===i?void 0:i.errorCode))}}))).filter((t=>t.convo_id===e)).map((e=>new Promise(((n,i)=>{const r=t.delete(e.id);r.onsuccess=()=>n(),r.onerror=e=>{var t,n;return i((null===(t=e.target)||void 0===t?void 0:t.error)||(null===(n=e.target)||void 0===n?void 0:n.errorCode))}}))));try{yield Promise.all(i)}catch(e){}}))}t.openDatabase=()=>{const e=indexedDB.open(l,u);e.onupgradeneeded=function(e){return i(this,void 0,void 0,(function*(){if(m=e.target.result,!m.objectStoreNames.contains(f)){const e=m.createObjectStore(f,{keyPath:"id"});e.createIndex("titleIndex","title",{unique:!1}),e.createIndex("archiveIndex","is_archived",{unique:!1}),e.createIndex("updateTimeIndex","update_time",{unique:!1}),e.createIndex("accountIDIndex","account_id",{unique:!1})}if(!m.objectStoreNames.contains(h)){m.createObjectStore(h,{keyPath:"id"}).createIndex("createTimeIndex","createTime",{unique:!1})}(0,d.setIsResetChatHistory)(!1).catch((e=>{}))}))},e.onsuccess=function(e){return i(this,void 0,void 0,(function*(){m=e.target.result;(yield(0,d.getIsResetChatHistory)())||((0,t.emptyDatabase)(),yield(0,d.setIsResetChatHistory)())}))},e.onerror=function(e){}};t.emptyDatabase=()=>{if(!m)return;const e=m.transaction([f,h],"readwrite"),t=t=>{const n=e.objectStore(t).clear();n.onsuccess=()=>{},n.onerror=e=>{}};t(f),t(h)}},1771:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.addExportChatButton=function e(t){return i(this,arguments,void 0,(function*({chatId:t,chatLink:n,isPaidUser:r,isPinned:c}){const l=Array.from(document.querySelectorAll('div[data-testid="share-chat-menu-item"]'));let f=null;for(const e of l){const t=e.closest("div[data-radix-popper-content-wrapper]");if(t&&"none"!==window.getComputedStyle(t).display){f=t;break}}const y=null==f?void 0:f.querySelector('div[role="menu"]'),v=null==y?void 0:y.querySelector('div[role="menuitem"]'),g=null==v?void 0:v.parentElement,_=null==y?void 0:y.getAttribute("data-state");if(!g||"open"!==_)return void setTimeout((()=>{e({chatId:t,chatLink:n,isPaidUser:r,isPinned:c})}),250);const b=(0,s.chatButton)({t:o.t,label:"EXPORT",icon:p.default,className:"infi-chat-exportButton"}),E=document.createElement("div");E.innerHTML=b;if(!!g.querySelector(".infi-chat-exportButton"))return;g.insertBefore(E,g.firstChild);(0,h.manageEventListeners)("click",(function(e){return i(this,void 0,void 0,(function*(){e.stopPropagation(),e.preventDefault(),f.style.display="none",null==n||n.focus(),yield(0,a.setSelectedModalType)("EXPORT_CHAT");const o=yield(0,d.getModalProps)("EXPORT_CHAT");yield(0,u.handleOpenModal)(o);const s=document.getElementById("infi-chatgpt-form");s&&s.addEventListener("submit",(e=>i(this,void 0,void 0,(function*(){return yield m(e,t,r)}))))}))}),E)}))},t.handleExportChatSubmit=m;const o=n(6907),a=n(2997),s=n(9379),c=n(1089),d=n(177),l=n(7589),u=n(4193),h=n(7392),f=n(3238),p=r(n(4424));function m(e,t,n){return i(this,void 0,void 0,(function*(){e.preventDefault();try{if(yield(0,c.toggleLoader)(!0),!n)return void(yield(0,f.showPremiumRequiredModal)());const i=e.target.querySelector('input[type="radio"]:checked');if(!(null==i?void 0:i.value))return;yield(0,l.handleExportConversation)(t,i.value),yield(0,u.handleCloseModalById)("infi-chatgpt-exportChatModal")}catch(e){}finally{yield(0,c.toggleLoader)(!1)}}))}},7589:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleExportConversation=function(e,t){return i(this,void 0,void 0,(function*(){var n;const i=c.CONSTANTS.API.FETCH_CONVERSATION.RETRIES,r=c.CONSTANTS.API.FETCH_CONVERSATION.INITIAL_DELAY,o=yield(0,a.fetchWithRetry)(e,i,r);if(!o||!o.mapping)return;const l=(0,s.extractMessages)(o.mapping),u=null!==(n=o.title)&&void 0!==n?n:(new Date).toDateString();"txt"===t?(0,d.downloadConversationAsText)(u,l):"json"===t&&(0,d.downloadConversationAsJSON)(u,l)}))},t.handleBulkExportConversations=function(e,t){return i(this,arguments,void 0,(function*(e,t,n="conversations"){var i;const r=c.CONSTANTS.API.FETCH_CONVERSATION.RETRIES,d=c.CONSTANTS.API.FETCH_CONVERSATION.INITIAL_DELAY,l=new o.default;for(const o of e)try{const e=yield(0,a.fetchWithRetry)(o,r,d);if(!e||!e.mapping)continue;const c=(0,s.extractMessages)(e.mapping),u=null!==(i=e.title)&&void 0!==i?i:`chat_${o}`;if("txt"===t){const e=c.map((e=>`${"user"===e.role?"[USER]":"[CHATGPT]"}:\n${e.content}\n`)).join("\n");l.file(`${n}/${u}.txt`,e)}else if("json"===t){const e=JSON.stringify({conversation:c},null,2);l.file(`${n}/${u}.json`,e)}}catch(e){}try{const e=yield l.generateAsync({type:"blob"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=`bulk_conversations_${(new Date).toDateString()}.zip`,n.click(),URL.revokeObjectURL(t)}catch(e){}}))};const o=r(n(1710)),a=n(6040),s=n(7579),c=n(2948),d=n(9454)},4786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFeaturesTabClick=function(){const e=document.getElementById("infi-featuresCollapse-accordion-header");if(!e)return;const t=localStorage.getItem(i.CONSTANTS.LOCAL_STORAGE.EXPAND_FEATURES_TAB);if(t){const n="true"===t||null===t;e.setAttribute("aria-expanded",String(n));const i=document.getElementById("infi-featuresCollapse-accordion-content");i&&(i.style.display=n?"block":"none")}(0,r.manageEventListeners)("click",(function(t){t.preventDefault();const n="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",String(!n)),localStorage.setItem(i.CONSTANTS.LOCAL_STORAGE.EXPAND_FEATURES_TAB,String(!n));const r=document.getElementById("infi-featuresCollapse-accordion-content");r&&(r.style.display=n?"none":"block")}),e)};const i=n(2948),r=n(7392)},2043:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getFolderList=function(e){return i(this,arguments,void 0,(function*({query:e}){const t=!!(e&&e.length>0),{folders:n}=yield(0,o.getStore)(),i=n.map((e=>({id:e._id,parent:e.parent,totalSubfolders:e.totalSubfolders,title:e.name,gpts_amount:(e.gpts||[]).length,pinned:e.pinned||!1,update_time:e.updatedAt,chatIds:e.chatIds})));return t?i.filter((t=>{var n;return null===(n=null==t?void 0:t.title)||void 0===n?void 0:n.toLowerCase().includes(e)})):i}))},t.initializeFolders=function(){return i(this,void 0,void 0,(function*(){const e=yield(0,r.getUserFolders)();Array.isArray(e)&&(yield(0,o.setFolders)(e))}))};const r=n(5982),o=n(2997)},8378:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleSearchHistoryLogic=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-toggle-switch"),t=document.querySelector(".infi-slider");function n(t){return i(this,void 0,void 0,(function*(){e.setAttribute("aria-checked",t.toString()),yield(0,r.handleSearchHistoryInputChange)()}))}e&&t&&(e.addEventListener("change",(e=>i(this,void 0,void 0,(function*(){const t=e.target.checked;yield n(t)})))),t.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){e.checked=!e.checked,yield n(e.checked)})))),t.addEventListener("keydown",(t=>i(this,void 0,void 0,(function*(){"Enter"===t.key&&(e.checked=!e.checked,yield n(e.checked))})))),yield(0,r.handleSearchInput)())}))};const r=n(7579)},4850:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.showHistorySearchModal=function(e){return i(this,void 0,void 0,(function*(){null==e||e.preventDefault(),yield(0,o.setSelectedModalType)("SEARCH_HISTORY");const t=yield(0,a.getModalProps)("SEARCH_HISTORY");yield(0,r.handleOpenModal)(t),yield(0,s.handleSearchHistoryLogic)()}))};const r=n(4193),o=n(2997),a=n(177),s=n(8378)},2928:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.openInfoAndUpdates=function e(t){return i(this,arguments,void 0,(function*(t,n=!1){if(!document.body.classList.contains("infi-light")&&!document.body.classList.contains("infi-dark"))return void setTimeout((()=>i(this,void 0,void 0,(function*(){yield e(t,n)}))),100);const l=yield(0,c.getInfoAndUpdates)();if(!(null==l?void 0:l.version))return;if(n){const e=localStorage.getItem(s.CONSTANTS.LOCAL_STORAGE.INFO_AND_UPDATES_VERSION);if(e&&e===l.version)return;localStorage.setItem(s.CONSTANTS.LOCAL_STORAGE.INFO_AND_UPDATES_VERSION,l.version)}const u=(yield(0,a.getStore)())[s.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER];yield(0,o.handleOpenModal)({title:"INFO_AND_UPDATES_MODAL_TITLE",id:"infi-chatgpt-infoAndUpdatesModal",html:(0,d.infoAndUpdatesHTML)(r.t,l,n,u),allowedIds:["infi-chatgpt-infoAndUpdatesModal"],modalWidth:900}),function(){const e=document.querySelector('[role="tablist"]');if(!e)return;const t=Array.from(e.querySelectorAll('[role="tab"]')),n=Array.from(document.querySelectorAll('[role="tabpanel"]'));function i(e){t.forEach((e=>{e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1")})),n.forEach((e=>e.hidden=!0)),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),e.focus();const i=e.getAttribute("aria-controls");if(i){const e=document.getElementById(i);e&&(e.hidden=!1)}}t.forEach((e=>{e.addEventListener("click",(()=>{i(e)})),e.addEventListener("keydown",(n=>{const r=t.indexOf(e);let o=null;switch(n.key){case"ArrowLeft":case"ArrowUp":o=(r-1+t.length)%t.length;break;case"ArrowRight":case"ArrowDown":o=(r+1)%t.length;break;case"Home":o=0;break;case"End":o=t.length-1;break;case"Enter":case" ":return i(e),void n.preventDefault();default:return}null!==o&&(t[o].focus(),n.preventDefault())}))}));i(t.find((e=>"true"===e.getAttribute("aria-selected")))||t[0])}()}))};const r=n(6907),o=n(4193),a=n(2997),s=n(2948),c=n(8134),d=n(8235)},1877:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createLoader=x,t.injectSideTabs=R,t.scrollToMessage=H,t.listenForBatchButtonActions=function(){return i(this,void 0,void 0,(function*(){setInterval((()=>{const e=document.querySelector('[data-testid="archive-all-chats-button"]'),t=document.querySelector('[data-testid="delete-all-chats-button"]');function n(){return i(this,void 0,void 0,(function*(){yield(0,k.setBatchAction)("delete")}))}function r(){return i(this,void 0,void 0,(function*(){yield(0,k.setBatchAction)("archive")}))}e&&t&&((0,A.manageEventListeners)("click",n,t),(0,A.manageEventListeners)("keydown",n,t),(0,A.manageEventListeners)("click",r,e),(0,A.manageEventListeners)("keydown",r,e))}),250)}))};const r=n(6907),o=n(6040),a=n(8453),s=n(2948),c=n(7072),d=n(6655),l=n(465),u=n(7543),h=n(2138),f=n(9454),p=n(7356),m=n(9569),y=n(9781),v=n(5783),g=n(1014),_=n(6936),b=n(2928),E=n(4278),w=n(9217),A=n(7392),S=n(8370),T=n(2170),C=n(9482),M=n(9330),L=n(4850),P=n(4786),I=n(7363),O=n(4983),k=n(2997);function x(){return i(this,void 0,void 0,(function*(){document.getElementById("infi-chatgpt-spinnerContainer")||document.body.insertAdjacentHTML("beforeend",(0,a.loaderHTML)(r.t))}))}function R(e=!0){(0,k.getStore)().then((({injectedTabs:e})=>{e||(0,k.setGTPsAccordionInterval)()})).then((()=>{const t=(0,f.getTheme)();document.body.className=`infi-${t}`,(0,f.observeThemeChanges)((e=>{document.body.className=`infi-${e}`}));const n=document.querySelectorAll('a[href="/gpts"][data-testid="explore-gpts-button"]'),i=Array.from(n),a=document.querySelectorAll('nav div[slot="content"] div[class^="_screenContent"]'),s=Array.from(a);if(0===s.length&&0===i.length)return void setTimeout(R,1e3);const N=s.length>0,H=N?s:i;if((0,k.setInjectedTabs)(!0),N){const e=H[0].closest("nav");e&&(e.style.overflow="initial");const t=document.querySelector('nav div[slot="leading"] div[bar-type="primary"][data-testid="bar-default"]');t&&(t.style.display="none")}H.forEach((t=>{var n,i,a;const s=N?t:null===(n=t.parentElement)||void 0===n?void 0:n.parentElement;if(!s)return;if(!N){s.classList.add("infi-sidebar-tabs"),null===(i=t.closest("aside"))||void 0===i||i.classList.replace("mt-5","mt-2");"true"===localStorage.getItem("UiState.isGptListCollapsed")&&(localStorage.setItem("UiState.isGptListCollapsed","false"),window.location.reload());const e=s.querySelector(":scope > button");e&&(e.disabled=!0,e.tabIndex=-1,e.style.display="none")}t.addEventListener("click",(0,f.debounce)((()=>{(0,k.setInjectedTabs)(!1),R(!1)}),2e3));const H=s.querySelector("#sync-progress"),$=s.querySelector("#infi-features-collapse"),B=s.querySelector("#paid-user-badge"),F=s.querySelector("#infi-info-and-updates-tab"),j=s.querySelector("#search-history-tab"),G=s.querySelector("#manage-chats-tab"),U=s.querySelector("#manage-folders-tab"),V=s.querySelector("#manage-prompts-tab"),W=s.querySelector("#media-gallery-tab"),z=s.querySelector("#infi-gpts-collapse"),q=s.querySelector("#pinned-folders-tab"),K=s.querySelector("#pinned-chats-tab");if(!!($&&B&&F&&j&&G&&U&&V&&W&&q&&K)){if(H){const e=H.getAttribute("data-text-key");e&&(H.innerHTML=(0,r.t)(e))}const e=$.querySelector(".text-sm");e&&(e.innerHTML=(0,r.t)("CHATGPT_TOOLBOX"));const t=F.querySelector(".text-sm");t&&(t.innerHTML=(0,r.t)("INFO_AND_UPDATES"));const n=j.querySelector(".text-sm");n&&(n.innerHTML=(0,r.t)("SEARCH_HISTORY"));const i=G.querySelector(".text-sm");i&&(i.innerHTML=(0,r.t)("MANAGE_CHATS"));const o=U.querySelector(".text-sm");o&&(o.innerHTML=(0,r.t)("MANAGE_FOLDERS"));const a=V.querySelector(".text-sm");a&&(a.innerHTML=(0,r.t)("MANAGE_PROMPTS"));const s=W.querySelector(".text-sm");s&&(s.innerHTML=(0,r.t)("MEDIA_GALLERY"));const c=q.querySelector(".text-sm");c&&(c.innerHTML=(0,r.t)("PINNED_FOLDERS"));const d=K.querySelector(".text-sm");d&&(d.innerHTML=(0,r.t)("PINNED_CHATS"))}else{const t=[];if(!$){const e=document.createElement("div");e.id="infi-features-collapse",e.innerHTML=(0,g.featuresCollapseInnerHTML)(r.t),N&&(e.classList.add("-ml-2"),e.style.marginBlockEnd="20px");const n=e.querySelector("#infi-featuresCollapse-accordion-content");if(n){if(!B){const e=document.createElement("div");e.id="paid-user-badge",e.innerHTML=(0,w.paidUserBadgeInnerHTML)(r.t),N&&(e.classList.add("-ml-2"),e.style.marginBlockStart="40px"),n.append(e)}if(!F){const e=document.createElement("div");e.id="infi-info-and-updates-tab",e.innerHTML=(0,_.infoAndUpdatesTabInnerHTML)(r.t),N&&e.classList.add("-ml-2"),n.append(e),(0,A.manageEventListeners)("click",b.openInfoAndUpdates,e)}if(!j){const e=document.createElement("div");e.id="search-history-tab",e.innerHTML=(0,m.searchHistoryTabInnerHTML)(r.t),N&&e.classList.add("-ml-2"),n.append(e),(0,A.manageEventListeners)("click",L.showHistorySearchModal,e)}if(!G){const e=document.createElement("div");e.id="manage-chats-tab",e.innerHTML=(0,u.manageChatsTabInnerHTML)(r.t),N&&e.classList.add("-ml-2"),n.append(e),(0,A.manageEventListeners)("click",E.showManageChatsModal,e)}if(!U){const e=document.createElement("div");e.id="manage-folders-tab",e.innerHTML=(0,y.manageFoldersTabInnerHTML)(r.t),N&&e.classList.add("-ml-2"),n.append(e),(0,A.manageEventListeners)("click",T.showManageFoldersModal,e)}if(!V){const e=document.createElement("div");e.id="manage-prompts-tab",e.innerHTML=(0,v.managePromptsTabInnerHTML)(r.t),N&&e.classList.add("-ml-2"),n.append(e),(0,A.manageEventListeners)("click",C.showManagePromptsModal,e)}if(!W){const e=document.createElement("div");e.id="media-gallery-tab",e.innerHTML=(0,M.mediaGalleryTabInnerHTML)(r.t),N&&e.classList.add("-ml-2"),n.append(e),(0,A.manageEventListeners)("click",S.showMediaGalleryModal,e)}}t.push(e)}if(!z&&!N){const e=document.createElement("div");e.id="infi-gpts-collapse",e.innerHTML=(0,d.GPTsCollapseInnerHTML)(r.t),t.push(e)}if(!q){const e=document.createElement("div");e.id="pinned-folders-tab",e.innerHTML=(0,p.pinnedFoldersTabInnerHTML)(r.t),N&&(e.classList.add("-ml-2"),e.style.marginBlockEnd="20px"),t.push(e)}if(!K){const e=document.createElement("div");e.id="pinned-chats-tab",e.innerHTML=(0,h.pinnedChatsTabInnerHTML)(r.t),N&&(e.classList.add("-ml-2"),e.style.marginBlockEnd="20px"),t.push(e)}if(N)s.prepend(...t);else{const e=document.querySelector('a[href="/gpts"][data-testid="explore-gpts-button"]');if(e){const n=document.createDocumentFragment();t.forEach((e=>n.appendChild(e))),null===(a=e.parentNode)||void 0===a||a.insertBefore(n,e.nextSibling)}}(0,P.handleFeaturesTabClick)(),(0,l.handleGPTsTabClick)(),(0,O.handlePinnedFoldersTabClick)(),(0,I.handlePinnedChatsTabClick)(),e&&x().then((()=>{(0,o.syncConversations)();document.querySelector(".sticky.bg-token-main-surface-primary")&&D()}))}(0,k.setGTPsAccordionInterval)(setInterval((()=>{(0,c.addGPTsToSidebar)(s)}),1e3))}))}))}function D(){if(window.innerWidth>=s.CONSTANTS.BREAKPOINT_WIDTH)return void function(){const e=document.querySelector(".sticky.bg-token-main-surface-primary");if(!e)return;const t=e.querySelector("button");if(!t)return;t.removeEventListener("click",N),(0,k.setSidebarClickListenerAdded)(!1)}();const e=document.querySelector(".bg-token-sidebar-surface-primary");if(!e)return;const t=getComputedStyle(e);if(0!==parseFloat(t.width))return;const n=document.querySelector(".sticky.bg-token-main-surface-primary");if(!n)return;const i=n.querySelector("button");i&&(0,k.getStore)().then((e=>{e.sidebarClickListenerAdded||(i.addEventListener("click",N),(0,k.setSidebarClickListenerAdded)(!0))}))}function N(){setTimeout((()=>{(0,k.setInjectedTabs)(!1),R(!1)}),100)}function H(){const e=new URL(window.location.href,window.location.origin).searchParams.get("mid");if(!e)return;let t=0;const n=()=>{const i=document.querySelector(`[data-message-id="${e}"]`),r=null==i?void 0:i.parentElement;if(i&&r){(()=>{if(!document.querySelector("#infi-message-highlight-animation")){const e=document.createElement("style");e.id="infi-message-highlight-animation",e.textContent="\n        @keyframes messageHighlight {\n          0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }\n          50% { transform: scale(1.02); box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.3); }\n          100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }\n        }\n      ",document.head.appendChild(e)}})();const e=i.getBoundingClientRect(),t=window.scrollY||document.documentElement.scrollTop,n=e.top+t,o=document.createElement("div");o.style.position="absolute",o.style.top=n-100+"px",r.appendChild(o),setTimeout((()=>{o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),setTimeout((()=>{i.style.animation="messageHighlight 1s ease-in-out",i.style.animationIterationCount="1",i.addEventListener("animationend",(()=>{i.style.animation=""}),{once:!0})}),1e3),setTimeout((()=>{o.remove()}),3e3)}),3e3)}else t++,t<20&&setTimeout(n,800)};n()}window.addEventListener("resize",(0,f.debounce)(D,300)),window.addEventListener("load",H)},6365:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getListResults=Z,t.handleModalButtonsState=te,t.setSelectedItemsText=ie,t.handleSearchInputEvent=re,t.handleManageChatsSearchInput=function(){return i(this,void 0,void 0,(function*(){const e=Array.from(document.querySelectorAll("#search-input")).at(-1);e&&((0,I.manageEventListeners)("input",(0,w.debounce)((()=>re(e)),s.CONSTANTS.DEBOUNCE_DELAY),e),yield Z({getAll:!0}),setTimeout((()=>{e.focus()}),0))}))};const o=n(6907),a=n(5982),s=n(2948),c=n(9589),d=n(2043),l=n(4472),u=n(1942),h=n(3720),f=n(7915),p=n(8794),m=n(1089),y=n(177),v=n(4193),g=n(7579),_=n(7736),b=n(8475),E=n(4702),w=n(9454),A=n(7345),S=n(9206),T=n(7621),C=n(6383),M=n(8742),L=n(7698),P=n(1229),I=n(7392),O=n(6994),k=n(2119),x=n(8103),R=n(155),D=n(2997),N=r(n(5520)),H=r(n(8026)),$=r(n(225)),B=r(n(5259)),F=r(n(3079)),j=r(n(6058)),G=r(n(881));let U,V=!1,W=0,z=[],q=null,K=[];function Z(e){return i(this,arguments,void 0,(function*({query:e,getAll:t=!1}){try{if(!e&&!t)return;const{selectedModalType:n,selectedItems:r}=yield(0,D.getStore)();"ADD_GPT"===n&&(yield(0,m.toggleLoader)(!0));const a=Array.from(document.querySelectorAll("#search-results")).at(-1);if(!a)return;let h=yield function(e){return i(this,arguments,void 0,(function*({query:e,getAll:t}){const n=yield(0,D.getStore)(),{selectedModalType:i,selectedManageTabsItem:r}=n;switch(i){case"MANAGE_CHATS":return yield(0,E.searchInIndexedDB)({searchString:e,searchByTitleOnly:!0,getArchived:r===s.CONSTANTS.MANAGE_TABS_ITEMS.ARCHIVED_CHATS,getAll:t});case"MANAGE_FOLDERS":return(0,d.getFolderList)({query:e});case"MANAGE_FOLDER":return(0,M.getManageFolderItems)({query:e});case"ADD_CHAT":return(0,x.getManageFolderAddChatItems)({query:e});case"ADD_GPT":return(0,l.getGPTsList)(e);case"MANAGE_PROMPTS":return(0,C.getManagePromptList)({query:e});default:return}}))}({query:e,getAll:t});if("ADD_GPT"===n){if(!h.results)throw Error();U=h.nextCursor,z=h.results}else z=h||[];if(!z.length){let t="";if("ADD_GPT"===n)t=e?"ADD_GPTS_LIST_NO_RESULTS_FOUND":"ADD_GPTS_EMPTY_LIST_TEXT";else t=e?"LIST_NO_RESULTS_FOUND":"EMPTY_LIST_TEXT";return void(a.innerHTML=`\n        <div class="infi-chatgpt-itemList-empty">\n          <p>${(0,o.t)(t)}</p>\n        </div>\n      `)}const O="ADD_GPT"===n?10:20;W=0,(0,g.removeSearchResultsScrollEventListener)(a),q=()=>i(this,void 0,void 0,(function*(){if(V)return;const{scrollTop:e,clientHeight:t,scrollHeight:n}=a;e+t>=n-80&&(yield N())})),a.innerHTML="",K=[];const N=()=>i(this,void 0,void 0,(function*(){var e;V=!0;const t=0===W,s=Array.from(document.querySelectorAll("#search-input")).at(-1);if(!s)return;const d=s.value.trim().toLowerCase(),l=yield function(){return i(this,void 0,void 0,(function*(){const{selectedModalType:e}=yield(0,D.getStore)();switch(e){case"MANAGE_CHATS":case"ADD_CHAT":return"SELECT_ALL_CHATS";case"ADD_GPT":return"SELECT_ALL_GPTS";case"MANAGE_FOLDER":return"SELECT_ALL_ITEMS";case"MANAGE_FOLDERS":return"SELECT_ALL_FOLDERS";case"MANAGE_PROMPTS":return"prompts"===(0,R.checkManagePromptsActiveTab)()?"SELECT_ALL_PROMPTS":"SELECT_ALL_CHAINS";default:return""}}))}(),h=yield ne(),g=yield function(){return i(this,void 0,void 0,(function*(){const{selectedModalType:e}=yield(0,D.getStore)();return"ADD_CHAT"===e?"infi-chatgpt-addChat-selectAll":"infi-chatgpt-manageTabs-selectAll"}))}();let C=[];if("ADD_GPT"!==n||t)C=z.slice(W,W+O);else if(U){yield(0,m.toggleLoader)(!0);const e=yield(0,c.fetchGPTsResults)(d||"",U);if(!(null==e?void 0:e.results))throw Error();U=e.nextCursor,C=e.results,yield(0,m.toggleLoader)(!1)}else U=void 0;if(0===C.length)return;K=K.concat(C),W+=O;const M=(s.value||"").trim().toLowerCase(),x={};for(const t of C){const n=t;if(void 0===n.totalSubfolders||!(null===(e=n.chatIds)||void 0===e?void 0:e.length))continue;const i=yield(0,E.getConversationsByIds)(n.chatIds);x[n.id]=i.length||0}const N=C.map(((e,n)=>i(this,void 0,void 0,(function*(){var a,s;const c=M?(0,w.highlightTitle)(e.title,M):e.title;if(c){const d=`infi-chatgpt-manageTabs-item-${e.id}`,u=e.update_time,f=yield function(e,t){return i(this,void 0,void 0,(function*(){const{selectedModalType:n}=yield(0,D.getStore)(),i=yield(0,D.shouldShowCheckbox)();let r=0===e&&t;switch(n){case"MANAGE_CHATS":case"MANAGE_FOLDER":case"MANAGE_FOLDERS":case"MANAGE_PROMPTS":r=r&&i}return r}))}(n,t),p=yield J(g,e,(0,o.t)(l),x,f,null!==(a=e.is_archived)&&void 0!==a&&a),m=yield J(d,e,c,x,!1,null!==(s=e.is_archived)&&void 0!==s&&s);return`\n          ${f?`<div class="infi-chatgpt-manageTabs-selectAll">\n                  ${p}\n  \n                  <span class="infi-chatgpt-manageTabs-selectedItems">\n                    ${(0,o.t)(h)}: ${r.length.toLocaleString()}\n                  </span>\n                  </div>`:""}\n  \n          <div class="infi-chatgpt-manageTabs-itemContainer">\n              ${m}\n  \n              ${u?`\n                      <span class="infi-chatgpt-manageTabs-itemDate">\n                        ${new Date(u).toLocaleDateString()}\n                      </span>\n                    `:""}\n          </div>\n        `}return""})))),H=(yield Promise.all(N)).join("");a.insertAdjacentHTML("beforeend",H),yield function(e){return i(this,void 0,void 0,(function*(){const t=yield(0,D.getStore)(),{selectedModalType:n}=t;switch(n){case"MANAGE_CHATS":case"ADD_CHAT":case"ADD_GPT":return void(yield Q(e));case"MANAGE_FOLDERS":case"MANAGE_FOLDER":return yield Q(e),yield X(),void(yield(0,P.managePinFolderClick)());case"MANAGE_PROMPTS":return yield Q(e),void(yield function(){return i(this,void 0,void 0,(function*(){"prompts"===(0,R.checkManagePromptsActiveTab)()?yield function(){return i(this,void 0,void 0,(function*(){Array.from((0,p.getItemsById)("infi-chatgpt-manageTabs-item")).forEach((e=>{var t;const n=null===(t=e.parentNode)||void 0===t?void 0:t.querySelector(".infi-chatgpt-listItem-view"),r=(0,u.getItemId)(e,"infi-chatgpt-manageTabs-item-");if(!r)return;const o=n;if(!o)return;const a=e=>i(this,void 0,void 0,(function*(){try{e.stopPropagation(),yield(0,m.toggleLoader)(!0),yield(0,D.setPromptId)(r),yield(0,D.setSelectedModalType)("ADD_PROMPT"),yield(0,D.setPreviousModal)("MANAGE_PROMPTS");const t=yield(0,y.getModalProps)("ADD_PROMPT",!0);yield(0,v.handleOpenModal)(t),yield(0,L.addPromptContentCounter)(),yield(0,S.createPromptSubmit)()}catch(e){}finally{yield(0,m.toggleLoader)(!1)}}));(0,I.manageEventListeners)("click",a,o)}))}))}():yield function(){return i(this,void 0,void 0,(function*(){Array.from((0,p.getItemsById)("infi-chatgpt-manageTabs-item")).forEach((e=>{var t;const n=null===(t=e.parentNode)||void 0===t?void 0:t.querySelector(".infi-chatgpt-listItem-view"),r=(0,u.getItemId)(e,"infi-chatgpt-manageTabs-item-");if(!r)return;const o=n;if(!o)return;const a=e=>i(this,void 0,void 0,(function*(){try{e.stopPropagation(),yield(0,m.toggleLoader)(!0),yield(0,D.setChainId)(r),yield(0,D.setSelectedModalType)("ADD_CHAIN"),yield(0,D.setPreviousModal)("MANAGE_PROMPTS");const t=yield(0,y.getModalProps)("ADD_CHAIN",!0);yield(0,v.handleOpenModal)(t),yield(0,T.addChainContentCounter)(),yield(0,f.addChainItem)(),yield(0,_.removeChainItem)(),yield(0,A.duplicateChainItem)(),(0,k.handleChainItemDragging)(),yield(0,b.createChainSubmit)()}catch(e){}finally{yield(0,m.toggleLoader)(!1)}}));(0,I.manageEventListeners)("click",a,o)}))}))}()}))}());default:return}}))}(K),setTimeout((()=>{V=!1}),300)}));yield N(),a.addEventListener("scroll",q)}catch(e){}finally{yield(0,m.toggleLoader)(!1)}}))}function J(e,t,n,r){return i(this,arguments,void 0,(function*(e,t,n,r,a=!1,c=!1){const d=yield(0,D.getStore)(),{selectedModalType:l,selectedManageTabsItem:u}=d;switch(l){case"MANAGE_CHATS":switch(u){case"ACTIVE_CHATS":case"ARCHIVED_CHATS":return yield function(e,t,n,r){return i(this,arguments,void 0,(function*(e,t,n,i,r=!1){const a=yield(0,D.getStore)(),{selectedItems:s}=a,c=s.includes(e).toString(),d=r&&!i?` - <strong>(${(0,o.t)("ARCHIVED")})</strong>`:"";return`\n    <div class="infi-chatgpt-manageChats-checkboxContainer">\n      <div id="${e}" class="infi-chatgpt-checkbox" role="checkbox" aria-labelledby="${n.title}" aria-checked="${c}" tabindex="0"></div>\n      <div id="label-${e}">${i?"":B.default} <span class="infi-chatgpt-manageTabs-bold-label">${t}</span> ${d}</div>\n    </div>\n  `}))}(e,n,t,a)}break;case"MANAGE_FOLDERS":return yield Y(e,n,t,r,a);case"MANAGE_FOLDER":if("folder"===t.type)return yield Y(e,n,t,r,a);if("conversation"===t.type)return yield function(e,t,n,r){return i(this,arguments,void 0,(function*(e,t,n,i,r=!1){const a=yield(0,D.getStore)(),{selectedItems:s}=a,c=s.includes(e).toString(),d=r&&!i?` - <strong>${(0,o.t)("ARCHIVED")}</strong>`:"";return`\n    <a class="infi-chatgpt-manageChats-checkboxContainer" href="https://chatgpt.com/c/${n.id}" aria-label="${(0,o.t)("VIEW_CHAT")}">\n      <div id="${e}" class="infi-chatgpt-checkbox" role="checkbox" aria-labelledby="${n.title}" aria-checked="${c}" tabindex="0"></div>\n      <div id="label-${e}">${i?"":B.default} <span class="infi-chatgpt-manageTabs-bold-label">${t}</span> ${d}</div>\n    </a>\n  `}))}(e,n,t,a,c);if("GPT"===t.type)return yield function(e,t,n,r){return i(this,void 0,void 0,(function*(){const i=yield(0,D.getStore)(),{selectedItems:a}=i,s=a.includes(e).toString();return`\n    <a class="infi-chatgpt-manageChats-checkboxContainer" href="https://chatgpt.com/g/${n.url}" aria-label="${(0,o.t)("VIEW_GPT")}">\n      <div id="${e}" class="infi-chatgpt-checkbox" role="checkbox" aria-labelledby="${n.title}" aria-checked="${s}" tabindex="0"></div>\n      <div id="label-${e}">${r?"":`<span class="infi-chatgpt-gptItem-botIcon">${N.default}</span>`} <span class="infi-chatgpt-manageTabs-bold-label">${t}</span></div>\n    </a>\n  `}))}(e,n,t,a);break;case"ADD_CHAT":return yield function(e,t,n,r){return i(this,arguments,void 0,(function*(e,t,n,i,r=!1){const a=yield(0,D.getStore)(),{selectedItems:s}=a,c=s.includes(e).toString(),d=r&&!i?` - <strong>(${(0,o.t)("ARCHIVED")})</strong>`:"";return`\n    <div class="infi-chatgpt-manageChats-checkboxContainer">\n      <div id="${e}" class="infi-chatgpt-checkbox" role="checkbox" aria-labelledby="${n.title}" aria-checked="${c}" tabindex="0"></div>\n      <div id="label-${e}">${i?"":B.default} <span class="infi-chatgpt-manageTabs-bold-label">${t}</span> ${d}</div>\n    </div>\n  `}))}(e,n,t,a,c);case"ADD_GPT":return yield function(e,t,n,r){return i(this,void 0,void 0,(function*(){const i=yield(0,D.getStore)(),{selectedItems:a}=i,c=a.includes(e).toString(),d=n.description.length>s.CONSTANTS.ADD_GPT.DESCRIPTION_LENGTH?n.description.slice(0,s.CONSTANTS.ADD_GPT.DESCRIPTION_LENGTH)+"...":n.description;return`\n    <div class="infi-chatgpt-manageChats-checkboxContainer">\n      <div id="${e}" class="infi-chatgpt-checkbox" role="checkbox" aria-labelledby="${n.title}" aria-checked="${c}" tabindex="0"></div>\n      <div id="label-${e}" class="infi-chatgpt-addGPT-content cursor-pointer group flex items-center gap-3 px-3 py-2">${r?"":`<div class="gizmo-shadow-stroke overflow-hidden rounded-full">\n          <img src="${n.avatar}" alt="${n.title}" width="32" height="32" />\n        </div>`} <div class="flex flex-col space-y-1 truncate">\n      <span class="shrink-0 truncate text-sm font-semibold">${t}</span>\n\n      ${r?"":`\n          <span class="max-w-md truncate text-xs text-token-text-tertiary">${d}</span>\n          \n          <div class="flex items-center gap-2">\n            <span class="truncate text-xs text-token-text-tertiary -mt-1">${(0,o.t)("ADD_GPT_AUTHOR",{author:n.author})}</span>\n\n            <div class="infi-chatgpt-addGPT-numOfUsers flex items-center gap-1 font-semibold text-token-text-tertiary" style="margin-top: -2px;">\n              ${j.default}\n              <span class="line-clamp-1 text-xs">${n.numOfUsers}</span>\n            </div>\n          </div>\n          `}\n    </div></div>\n    </div>\n  `}))}(e,n,t,a);case"MANAGE_PROMPTS":return yield function(e,t,n,r){return i(this,void 0,void 0,(function*(){return"prompts"===(0,R.checkManagePromptsActiveTab)()?function(e,t,n,r){return i(this,void 0,void 0,(function*(){const i=yield(0,D.getStore)(),{selectedItems:a}=i,s=a.includes(e).toString(),c=n.isFromPromptLibrary&&!r?`(${(0,o.t)("FROM_PROMPT_LIBRARY")})`:"";return`\n    <div class="infi-chatgpt-manageChats-checkboxContainer">\n      <div id="${e}" class="infi-chatgpt-checkbox" role="checkbox" aria-labelledby="${n.title}" aria-checked="${s}" tabindex="0"></div>\n      <div id="label-${e}"><span class="infi-chatgpt-manageTabs-bold-label">${t}</span> ${c}</div>\n\n      ${r?"":(0,h.iconButton)({t:o.t,className:"infi-chatgpt-managePrompts-editIcon",label:"EDIT_PROMPT",icon:$.default})}\n    </div>\n  `}))}(e,t,n,r):function(e,t,n,r){return i(this,void 0,void 0,(function*(){const i=yield(0,D.getStore)(),{selectedItems:a}=i,s=a.includes(e).toString();return`\n    <div class="infi-chatgpt-manageChats-checkboxContainer">\n      <div id="${e}" class="infi-chatgpt-checkbox" role="checkbox" aria-labelledby="${n.title}" aria-checked="${s}" tabindex="0"></div>\n      <div id="label-${e}"><span class="infi-chatgpt-manageTabs-bold-label">${t}</span></div>\n\n      ${r?"":(0,h.iconButton)({t:o.t,className:"infi-chatgpt-managePrompts-editIcon",label:"EDIT_CHAIN",icon:$.default})}\n    </div>\n  `}))}(e,t,n,r)}))}(e,n,t,a)}return""}))}function Y(e,t,n,r,a){return i(this,void 0,void 0,(function*(){const i=yield(0,D.getStore)(),{selectedItems:s,selectedModalType:c}=i,d=s.includes(e).toString(),l=a||"MANAGE_FOLDERS"!==c&&"MANAGE_FOLDER"!==c?"":`(${r[n.id]||0} ${(0,o.t)("CHATS")}, ${n.totalSubfolders||0} ${(0,o.t)("SUBFOLDERS")}, ${n.gpts_amount||0} ${(0,o.t)("GPTS")})`,u=(null==n?void 0:n.pinned)?F.default:H.default,f=(null==n?void 0:n.pinned)?"UNPIN":"PIN";return`\n      <div class="infi-chatgpt-manageChats-checkboxContainer" role="button" aria-label="${(0,o.t)("MANAGE_FOLDER")}" tabindex="0">\n        <div id="${e}" class="infi-chatgpt-checkbox" role="checkbox" aria-labelledby="${n.title}" aria-checked="${d}" tabindex="0"></div>\n        <div id="label-${e}">${a?"":G.default} <span class="infi-chatgpt-manageTabs-bold-label">${t}</span> ${l}</div>\n  ${a?"":(0,h.iconButton)({t:o.t,className:"infi-chatgpt-manageFolders-pinIcon",label:f,icon:u})}\n      </div>\n    `}))}function X(){return i(this,void 0,void 0,(function*(){const{folders:e,selectedModalType:t}=yield(0,D.getStore)();Array.from((0,p.getItemsById)("infi-chatgpt-manageTabs-item")).forEach((n=>{const r=n.parentNode,o=(0,u.getItemId)(n,"infi-chatgpt-manageTabs-item-"),s=e.find((e=>e._id===o));if(!r)return;const c=e=>i(this,void 0,void 0,(function*(){try{const n=e.target,r=n.closest(".infi-chatgpt-iconButton");if("checkbox"===n.role||r)return;e.stopPropagation(),yield(0,m.toggleLoader)(!0);const c=n.closest("a.infi-chatgpt-manageChats-checkboxContainer");if(o&&s){const e=yield(0,a.getSubFolders)(o);if(!e)throw Error();yield(0,D.setSelectedFolder)(e.parentFolder),yield(0,D.setFolders)(e.children),yield(0,v.handleCloseModalById)("infi-chatgpt-manageFoldersModal","MANAGE_FOLDER"),yield(0,v.handleCloseModalById)("infi-chatgpt-manageFolderModal","MANAGE_FOLDER"),"MANAGE_FOLDER"!==t&&(yield(0,D.setPreviousModal)("MANAGE_FOLDERS"));const n=()=>i(this,void 0,void 0,(function*(){yield(0,D.setSelectedFolder)(void 0)})),r=yield(0,y.getModalProps)("MANAGE_FOLDER",!1,n,{folder:e.parentFolder});yield(0,v.handleOpenModal)(r),setTimeout((()=>i(this,void 0,void 0,(function*(){yield(0,O.handleManageFolderLogic)()}))),150)}else c&&(window.location.href=c.href)}catch(e){}finally{yield(0,m.toggleLoader)(!1)}}));(0,I.manageEventListeners)("click",c,r),(0,I.manageEventListeners)("keydown",(e=>i(this,void 0,void 0,(function*(){const t=e;if("checkbox"!==e.target.role)return"Enter"===t.key||" "===t.key?(e.preventDefault(),void(yield c(e))):void 0}))),r)}))}))}function Q(e){return i(this,void 0,void 0,(function*(){if(!e)return;const t=Array.from(document.querySelectorAll("#search-results")).at(-1),n=null==t?void 0:t.children[0],r=null==n?void 0:n.querySelector('div[id^="infi-chatgpt-"][id$="-selectAll"][role="checkbox"]');if(!t||!n||!r)return;const{selectedModalType:o}=yield(0,D.getStore)(),a=!!["ADD_CHAT","MANAGE_CHATS","ADD_GPT"].find((e=>e===o)),s=t.querySelectorAll(".infi-chatgpt-manageTabs-itemContainer"),c=Array.from((0,p.getItemsById)("infi-chatgpt-manageTabs-item",t));if(c.length>0){const t=t=>i(this,void 0,void 0,(function*(){var n;t.stopPropagation(),t.preventDefault();const i=null===(n=t.target.closest(".infi-chatgpt-manageTabs-selectAll"))||void 0===n?void 0:n.querySelector('div[id^="infi-chatgpt-"][id$="-selectAll"][role="checkbox"]');if(!i)return;const r="true"===i.getAttribute("aria-checked")?"false":"true";i.setAttribute("aria-checked",r),yield(0,D.setSelectedItems)([]);const o="true"===r?e.map((e=>e.id)):[];"true"===r&&(yield(0,D.setSelectedItems)(o)),c.forEach((e=>{e.setAttribute("aria-checked",r)})),yield ie(),yield ee(i,o,e),yield te()})),r=e=>i(this,void 0,void 0,(function*(){const n=e;if("Enter"===n.key||" "===n.key)return e.preventDefault(),void(yield t(e))}));(0,I.manageEventListeners)("click",t,n),(0,I.manageEventListeners)("keydown",r,n)}s.forEach((t=>{const n=t=>i(this,void 0,void 0,(function*(){var n;t.stopPropagation();const i=t.target;if(i.closest("a")&&t.preventDefault(),"checkbox"!==i.role&&!a)return;const o=null===(n=i.closest(".infi-chatgpt-manageTabs-itemContainer"))||void 0===n?void 0:n.querySelector('div[id^="infi-chatgpt-manageTabs-item"][role="checkbox"]');if(!o)return;const s=o.id.split("-item-")[1];if(!s)return;const c=yield(0,D.getStore)(),{selectedItems:d}=c,l="true"===o.getAttribute("aria-checked")?"false":"true";o.setAttribute("aria-checked",l);let u=[];u="true"===l?[...d,s]:d.filter((e=>e!==s)),yield(0,D.setSelectedItems)(u),yield ee(r,u,e),yield ie(),yield te()}));(0,I.manageEventListeners)("click",n,t),(0,I.manageEventListeners)("keydown",(e=>i(this,void 0,void 0,(function*(){const t=e;if("Enter"===t.key||" "===t.key)return e.preventDefault(),void(yield n(e))}))),t)}));const d=yield(0,D.getStore)(),{selectedItems:l}=d;ee(r,l,e),c.forEach((e=>{const t=e.id.split("infi-chatgpt-manageTabs-item-").at(-1);e.setAttribute("aria-checked",(!!t&&l.includes(t)).toString())}))}))}function ee(e,t,n){return i(this,void 0,void 0,(function*(){const i=(0,w.containsAllStrings)(t,n.map((e=>e.id)))&&t.length===n.length&&t.length>0&&n.length>0;e.setAttribute("aria-checked",i.toString())}))}function te(){return i(this,void 0,void 0,(function*(){const e=yield(0,D.getStore)(),{selectedModalType:t}=e;switch(t){case"MANAGE_CHATS":yield function(){return i(this,void 0,void 0,(function*(){const e=yield(0,D.getStore)(),{selectedItems:t}=e,n=document.querySelector(".infi-chatgpt-manageTabs-exportButton"),i=document.querySelector(".infi-chatgpt-manageTabs-removeButton"),r=document.querySelector(".infi-chatgpt-manageTabs-archiveButton");n&&i&&r&&(n.disabled=0===t.length,i.disabled=0===t.length,r.disabled=0===t.length);const o=document.querySelector(".infi-chatgpt-manageTabs-actionButton");o&&(o.disabled=0===t.length)}))}();break;case"MANAGE_FOLDERS":yield function(){return i(this,void 0,void 0,(function*(){const e=yield(0,D.getStore)(),{selectedItems:t}=e,n=document.querySelector(".infi-chatgpt-manageTabs-removeFoldersButton");n&&(n.disabled=0===t.length)}))}();break;case"MANAGE_FOLDER":yield function(){return i(this,void 0,void 0,(function*(){const e=yield(0,D.getStore)(),{selectedItems:t}=e,n=document.querySelector(".infi-chatgpt-manageTabs-actionButton");n&&(n.disabled=0===t.length)}))}();break;case"ADD_CHAT":yield function(){return i(this,void 0,void 0,(function*(){const e=yield(0,D.getStore)(),{selectedItems:t}=e,n=document.querySelector("#infi-chatgpt-addChat-submitButton");n&&(n.disabled=0===t.length)}))}();break;case"ADD_GPT":yield function(){return i(this,void 0,void 0,(function*(){const e=yield(0,D.getStore)(),{selectedItems:t}=e,n=document.querySelector("#infi-chatgpt-addGPT-submitButton");n&&(n.disabled=0===t.length)}))}();break;case"MANAGE_PROMPTS":yield function(){return i(this,void 0,void 0,(function*(){const e=yield(0,D.getStore)(),{selectedItems:t}=e,n=document.querySelector(".infi-chatgpt-manageTabs-removePromptsButton");n&&(n.disabled=0===t.length)}))}()}}))}function ne(){return i(this,void 0,void 0,(function*(){const{selectedModalType:e}=yield(0,D.getStore)();switch(e){case"MANAGE_CHATS":case"ADD_CHAT":return"SELECTED_CHATS";case"ADD_GPT":return"SELECTED_GPTS";case"MANAGE_FOLDER":return"SELECTED_ITEMS";case"MANAGE_FOLDERS":return"SELECTED_FOLDERS";case"MANAGE_PROMPTS":return"prompts"===(0,R.checkManagePromptsActiveTab)()?"SELECTED_PROMPTS":"SELECTED_CHAINS";default:return""}}))}function ie(){return i(this,void 0,void 0,(function*(){const e=yield ne(),{selectedItems:t}=yield(0,D.getStore)(),n=Array.from(document.querySelectorAll(".infi-chatgpt-manageTabs-selectedItems")).at(-1);if(!n)return;const i=`${(0,o.t)(e)}: ${t.length.toLocaleString("he-IL")}`;n.innerHTML=i}))}function re(e){return i(this,void 0,void 0,(function*(){var t,n;const i=null===(n=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.trim())||void 0===n?void 0:n.toLowerCase();yield Z({getAll:!i,query:i})}))}},5310:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManageChatsActionClick=function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-chatgpt-manageTabs-exportButton"),t=document.querySelector(".infi-chatgpt-manageTabs-removeButton"),n=document.querySelector(".infi-chatgpt-manageTabs-archiveButton");e&&t&&n&&((0,y.manageEventListeners)("click",g,e),(0,y.manageEventListeners)("click",b,t),(0,y.manageEventListeners)("click",w,n))}))};const r=n(6907),o=n(2948),a=n(5982),s=n(4702),c=n(1089),d=n(9748),l=n(177),u=n(4193),h=n(7589),f=n(5147),p=n(8776),m=n(6365),y=n(7392),v=n(2997);function g(){return i(this,void 0,void 0,(function*(){if(yield A())return;yield(0,v.setSelectedModalType)("EXPORT_CHAT",!1),yield(0,v.setPreviousModal)("MANAGE_CHATS");const e=yield(0,l.getModalProps)("EXPORT_CHAT",!1,(()=>i(this,void 0,void 0,(function*(){const e=document.getElementById("search-input");e&&(yield S(e))}))));yield(0,u.handleOpenModal)(e);const t=document.getElementById("infi-chatgpt-exportChatModal");t&&(0,y.manageEventListeners)("submit",_,t)}))}function _(e){return i(this,void 0,void 0,(function*(){try{e.preventDefault(),yield(0,c.toggleLoader)(!0);const t=e.target.querySelector('input[type="radio"]:checked'),n=document.getElementById("search-input");if(!t||!n)return;const{selectedItems:i}=yield(0,v.getStore)();yield(0,h.handleBulkExportConversations)(i,t.value),yield(0,u.handleCloseModalById)("infi-chatgpt-exportChatModal")}catch(e){}finally{yield(0,c.toggleLoader)(!1)}}))}function b(){return i(this,void 0,void 0,(function*(){if(yield A())return;const{selectedItems:e}=yield(0,v.getStore)();yield(0,u.handleOpenModal)({title:"DELETE_CONFIRMATION",id:"infi-chatgpt-removeModal",html:(0,p.confirmChatDeletionHTML)(r.t,e.length),allowedIds:["infi-chatgpt-removeModal","infi-chatgpt-confirmDeleteText-cancelButton"]});const t=document.getElementById("infi-chatgpt-removeModal"),n=null==t?void 0:t.querySelector("#infi-chatgpt-confirmDeleteText-deleteButton");n&&n.addEventListener("click",E)}))}function E(){return i(this,void 0,void 0,(function*(){var e;try{yield(0,c.toggleLoader)(!0);const t=document.getElementById("search-input"),n=document.getElementById("infi-chatgpt-manageTabs-selectAll");if(!t||!n)return;const i=yield(0,v.getStore)(),{selectedItems:r}=i,l=null!==(e=null==n?void 0:n.checked)&&void 0!==e&&e,h=yield(0,f.batchUpdateConversationStatus)(r,o.CONSTANTS.CONVERATION_STATUS.DELETE,l);if(null==h?void 0:h.success){const e=yield(0,a.getUserFolders)();if(!Array.isArray(e))throw Error();yield(0,v.setFolders)(e),yield(0,u.handleCloseModalById)("infi-chatgpt-removeModal","MANAGE_CHATS"),(0,d.showSnackbar)("DELETE_CHATS_SUCCESS",3e3),(0,s.handleConversationPatchRequest)(r,o.CONSTANTS.CONVERATION_STATUS.DELETE,!0),yield S(t)}}catch(e){}finally{yield(0,c.toggleLoader)(!1)}}))}function w(e){return i(this,void 0,void 0,(function*(){var t;try{yield(0,c.toggleLoader)(!0);if(yield A())return;const n=e.target.innerHTML.trim(),i=r.translations.ARCHIVE===n,a=document.getElementById("search-input"),l=document.getElementById("infi-chatgpt-manageTabs-selectAll");if(!a||!l)return;const u=yield(0,v.getStore)(),{selectedItems:h}=u;let p=null,m="";const y=null!==(t=null==l?void 0:l.checked)&&void 0!==t&&t;i?(m="ARCHIVE_CHATS_SUCCESS",p=yield(0,f.batchUpdateConversationStatus)(h,o.CONSTANTS.CONVERATION_STATUS.ARCHIVE,y)):(m="UNARCHIVE_CHATS_SUCCESS",p=yield(0,f.batchUpdateConversationStatus)(h,o.CONSTANTS.CONVERATION_STATUS.UNARCHIVE,y)),(null==p?void 0:p.success)&&((0,d.showSnackbar)(m,3e3),(0,s.handleConversationPatchRequest)(h,i?o.CONSTANTS.CONVERATION_STATUS.ARCHIVE:o.CONSTANTS.CONVERATION_STATUS.UNARCHIVE,!0),yield S(a))}catch(e){}finally{yield(0,c.toggleLoader)(!1)}}))}function A(){return i(this,void 0,void 0,(function*(){const e=(yield(0,v.getStore)())[o.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER];if(!e){yield(0,v.setSelectedModalType)("PREMIUM_REQUIRED"),yield(0,v.setPreviousModal)("MANAGE_CHATS");const e=()=>i(this,void 0,void 0,(function*(){yield(0,v.setPreviousModal)(void 0)})),t=yield(0,l.getModalProps)("PREMIUM_REQUIRED",!1,e);yield(0,u.handleOpenModal)(t)}return!e}))}function S(e){return i(this,void 0,void 0,(function*(){yield(0,v.setSelectedItems)([]),yield(0,m.setSelectedItemsText)(),yield function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-chatgpt-manageTabs-exportButton"),t=document.querySelector(".infi-chatgpt-manageTabs-removeButton"),n=document.querySelector(".infi-chatgpt-manageTabs-archiveButton");e&&(e.disabled=!0),t&&(t.disabled=!0),n&&(n.disabled=!0)}))}(),yield(0,m.handleSearchInputEvent)(e)}))}},9874:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManageChatsLogic=function(){return i(this,void 0,void 0,(function*(){yield(0,a.setSelectedManageTabsItem)(o.CONSTANTS.MANAGE_TABS_ITEMS.ACTIVE_CHATS);const e=document.getElementById("search-input"),t=document.getElementById("infi-chatgpt-manageTabs-sidebarButton-activeChats"),n=document.getElementById("infi-chatgpt-manageTabs-sidebarButton-archivedChats"),d=document.querySelector(".infi-chatgpt-manageTabs-exportButton"),l=document.querySelector(".infi-chatgpt-manageTabs-removeButton"),u=document.querySelector(".infi-chatgpt-manageTabs-archiveButton");e&&t&&n&&d&&l&&u&&(yield(0,s.handleManageChatsActionClick)(),yield(0,c.handleManageChatsSearchInput)(),t.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield(0,a.setSelectedManageTabsItem)(o.CONSTANTS.MANAGE_TABS_ITEMS.ACTIVE_CHATS),u.innerHTML=(0,r.t)("ARCHIVE"),d.disabled=!0,l.disabled=!0,u.disabled=!0,t.classList.add("infi-chatgpt-manageTabs-sidebarButtonSelected"),n.classList.remove("infi-chatgpt-manageTabs-sidebarButtonSelected"),yield(0,c.handleSearchInputEvent)(e)})))),n.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield(0,a.setSelectedManageTabsItem)(o.CONSTANTS.MANAGE_TABS_ITEMS.ARCHIVED_CHATS),u.innerHTML=(0,r.t)("UNARCHIVE"),d.disabled=!0,l.disabled=!0,u.disabled=!0,n.classList.add("infi-chatgpt-manageTabs-sidebarButtonSelected"),t.classList.remove("infi-chatgpt-manageTabs-sidebarButtonSelected"),yield(0,c.handleSearchInputEvent)(e)})))))}))};const r=n(6907),o=n(2948),a=n(2997),s=n(5310),c=n(6365)},4278:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.showManageChatsModal=function(e){return i(this,void 0,void 0,(function*(){null==e||e.preventDefault(),yield(0,o.setSelectedModalType)("MANAGE_CHATS");const t=yield(0,a.getModalProps)("MANAGE_CHATS");yield(0,r.handleOpenModal)(t),yield(0,s.handleManageChatsLogic)()}))};const r=n(4193),o=n(2997),a=n(177),s=n(9874)},8103:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getManageFolderAddChatItems=function(e){return i(this,arguments,void 0,(function*({query:e}){const t=yield(0,r.getStore)(),{selectedFolder:n}=t,{chatIds:i=[]}=n||{};return yield(0,o.getConversationsExcludingIds)(i,e)}))};const r=n(2997),o=n(4702)},8742:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getManageFolderItems=function(e){return i(this,arguments,void 0,(function*({query:e}){const t=yield d(e),n=yield s(e);return[...t,...yield c(e),...n]}))},t.getChats=s,t.getFolders=c,t.getGPTs=d;const r=n(2997),o=n(4702),a=n(202);function s(e){return i(this,void 0,void 0,(function*(){const{selectedFolder:t}=yield(0,r.getStore)();if(!t)return[];const{chatIds:n}=t;return yield(0,o.getConversationsByIds)(n,e)}))}function c(e){return i(this,void 0,void 0,(function*(){const{folders:t}=yield(0,r.getStore)();return t.filter((t=>!e||t.name.toLowerCase().includes(e))).map((e=>({id:e._id,parent:e.parent,totalSubfolders:e.totalSubfolders,title:e.name,update_time:e.updatedAt,chatIds:e.chatIds,gpts_amount:(e.gpts||[]).length,pinned:e.pinned||!1,type:"folder"})))}))}function d(){return i(this,arguments,void 0,(function*(e=""){const{selectedFolder:t}=yield(0,r.getStore)();if(!t)return[];const{gpts:n}=t;return n.filter((t=>t.name.toLowerCase().includes(e))).map((e=>({id:(0,a.getGPTId)(e.short_url),title:e.name,url:e.short_url,type:"GPT"})))}))}},6462:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManageFolderActionClick=function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-chatgpt-manageTabs-actionButton");e&&(0,c.manageEventListeners)("click",p,e)}))};const r=n(202),o=n(1089),a=n(9748),s=n(6365),c=n(7392),d=n(938),l=n(7131),u=n(5982),h=n(4533),f=n(2997);function p(e){return i(this,void 0,void 0,(function*(){const t=e.target;switch(t.id){case"infi-chatgpt-manageFolders-addButton":{const e=yield m("add");t.disabled=e.success;break}case"infi-chatgpt-manage-folder-remove-button":{const e=yield m("remove");t.disabled=e.success;break}}}))}function m(e){return i(this,void 0,void 0,(function*(){try{yield(0,o.toggleLoader)(!0);const t=yield(0,f.getStore)(),{selectedItems:n,selectedFolder:i,folders:c}=t,p=document.getElementById("search-input");if(!p)throw Error();const m=new Set(c.map((e=>e._id))),y=((null==i?void 0:i.gpts)||[]).reduce(((e,t)=>{const n=(0,r.getGPTId)(t.short_url);return n&&!e[n]&&(e[n]=t),e}),{}),v=[],g=[],_=[];for(const e of n)m.has(e)?_.push(e):e in y?v.push(y[e]):g.push(e);let b,E;(g.length||v.length)&&(b=yield(0,u.updateFolderChatIds)({folderId:i?i._id:"",chatIds:g,gpts:v,operation:e})),_.length&&(E=yield(0,u.deleteFoldersByIds)(_,i?i._id:void 0));const w="add"===e?"ADD_ITEMS_SUCCESS":"REMOVE_ITEMS_SUCCESS";if((0,a.showSnackbar)(w,3e3),yield(0,f.setSelectedItems)([]),b&&(yield(0,f.setSelectedFolder)(b.parentFolder)),E){yield(0,f.setFolders)(E.children);const e=yield(0,u.getPinnedFolders)();if(!Array.isArray(e))throw Error();const t=yield(0,l.getPinnedFoldersObject)(e);yield(0,f.setPinnedFolders)(t),yield(0,d.addPinnedFolderItems)(t),yield(0,h.setPinnedFoldersTabVisibility)()}return yield(0,s.handleSearchInputEvent)(p),yield(0,s.setSelectedItemsText)(),{success:!0}}catch(t){const n="add"===e?"ADD_ITEMS_ERROR":"REMOVE_ITEMS_ERROR";return(0,a.showSnackbar)(n,3e3,"error"),{success:!1}}finally{yield(0,o.toggleLoader)(!1)}}))}},7301:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManageFolderAddChatClick=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-chatgpt-addChat-button");e&&e.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield(0,u.setSelectedItems)([]),yield(0,u.setSelectedModalType)("ADD_CHAT"),yield(0,u.setPreviousModal)("MANAGE_FOLDER");const e=yield(0,c.getModalProps)("ADD_CHAT",!1,(()=>i(this,void 0,void 0,(function*(){yield(0,l.handleManageChatsSearchInput)()}))));yield(0,d.handleOpenModal)(e);const t=document.getElementById("infi-chatgpt-form"),n=null==t?void 0:t.querySelector("#infi-chatgpt-addChats-cancelButton");t&&n&&(yield(0,l.handleManageChatsSearchInput)(),t.addEventListener("submit",(e=>function(e){return i(this,void 0,void 0,(function*(){e.preventDefault();try{yield(0,a.toggleLoader)(!0);const e=document.getElementById("search-input");if(!e)throw Error();const{selectedFolder:t,selectedItems:n}=yield(0,u.getStore)();if(!t)throw Error();const i=yield(0,r.updateFolderChatIds)({folderId:t._id,chatIds:n,gpts:t.gpts||[],operation:"add"});if(!i)throw Error();yield(0,u.setSelectedFolder)(i.parentFolder),yield(0,u.setFolders)(i.children),yield(0,o.resetForm)(),yield(0,d.handleCloseModalById)("infi-chatgpt-addChatModal","MANAGE_FOLDER"),(0,s.showSnackbar)("ADD_FOLDER_ITEMS_SUCCESS",3e3),yield(0,l.handleSearchInputEvent)(e)}catch(e){}finally{yield(0,a.toggleLoader)(!1)}}))}(e))),n.addEventListener("click",(e=>(0,d.handleCloseModalById)("infi-chatgpt-addChatModal"))))}))))}))};const r=n(5982),o=n(4137),a=n(1089),s=n(9748),c=n(177),d=n(4193),l=n(6365),u=n(2997)},4259:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManageFolderAddFolderClick=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-chatgpt-addFolder-button");e&&e.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield(0,s.setSelectedModalType)("ADD_FOLDER"),yield(0,s.setPreviousModal)("MANAGE_FOLDER");const e=yield(0,o.getModalProps)("ADD_FOLDER");yield(0,r.handleOpenModal)(e),yield(0,a.handleAddFolderLogic)()}))))}))};const r=n(4193),o=n(177),a=n(8550),s=n(2997)},2740:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManageFolderAddGPTClick=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-chatgpt-addGPT-button");e&&e.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield(0,u.setSelectedItems)([]),yield(0,u.setSelectedModalType)("ADD_GPT"),yield(0,u.setPreviousModal)("MANAGE_FOLDER");const e=yield(0,c.getModalProps)("ADD_GPT",!1,(()=>i(this,void 0,void 0,(function*(){yield(0,l.handleManageChatsSearchInput)()}))));yield(0,d.handleOpenModal)(e);const t=document.getElementById("infi-chatgpt-form"),n=null==t?void 0:t.querySelector("#infi-chatgpt-addGPTs-cancelButton");t&&n&&(yield(0,l.handleManageChatsSearchInput)(),t.addEventListener("submit",(e=>function(e){return i(this,void 0,void 0,(function*(){e.preventDefault();try{yield(0,a.toggleLoader)(!0);const e=document.getElementById("search-input");if(!e)throw Error();const{selectedFolder:t,selectedItems:n,GPTs:i,sharedGPTs:c}=yield(0,u.getStore)();if(!t)throw Error();const h=new Map(i.map((e=>[e.id,{name:e.title,short_url:e.url}]))),f=new Map(c.map((e=>[e.id,{name:e.title,short_url:e.url}]))),p=new Map([...h,...f]),m=n.map((e=>p.get(e))).filter((e=>!!e)),y=yield(0,r.updateFolderChatIds)({folderId:t._id,chatIds:t.chatIds,gpts:m,operation:"add"});if(!y)throw Error();yield(0,u.setSelectedFolder)(y.parentFolder),yield(0,u.setFolders)(y.children),yield(0,o.resetForm)(),yield(0,d.handleCloseModalById)("infi-chatgpt-addGPTModal","MANAGE_FOLDER"),(0,s.showSnackbar)("ADD_GPTS_SUCCESS",3e3),yield(0,l.handleSearchInputEvent)(e)}catch(e){}finally{yield(0,a.toggleLoader)(!1)}}))}(e))),n.addEventListener("click",(e=>(0,d.handleCloseModalById)("infi-chatgpt-addGPTModal"))))}))))}))};const r=n(5982),o=n(4137),a=n(1089),s=n(9748),c=n(177),d=n(4193),l=n(6365),u=n(2997)},7193:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManageFolderBackClick=function(){return i(this,void 0,void 0,(function*(){try{yield(0,r.toggleLoader)(!0);const{selectedFolder:e}=yield(0,l.getStore)();if(!e)return;const t=e.parent,n=t?yield(0,d.getFolderById)(t):void 0,u=t?yield(0,d.getSubFolders)(t):yield(0,d.getUserFolders)();if(!u)return;if(yield(0,l.setSelectedFolder)(n),yield(0,l.setFolders)((null==u?void 0:u.children)||u),yield(0,l.setPreviousModal)((null==n?void 0:n.parent)?"MANAGE_FOLDER":"MANAGE_FOLDERS"),yield(0,a.handleCloseModalById)("infi-chatgpt-manageFolderModal",n?"MANAGE_FOLDER":"MANAGE_FOLDERS"),n){const e=yield(0,o.getModalProps)("MANAGE_FOLDER",!1,void 0,{folder:n});yield(0,a.handleOpenModal)(e),setTimeout((()=>i(this,void 0,void 0,(function*(){yield(0,s.handleManageFolderLogic)()}))),0)}else yield(0,c.showManageFoldersModal)()}catch(e){}finally{yield(0,r.toggleLoader)(!1)}}))};const r=n(1089),o=n(177),a=n(4193),s=n(6994),c=n(2170),d=n(5982),l=n(2997)},3608:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManageFolderEditFolderClick=function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-chatgpt-editFolderButton");e&&e.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield(0,s.setSelectedModalType)("ADD_FOLDER"),yield(0,s.setPreviousModal)("MANAGE_FOLDER");const e=yield(0,o.getModalProps)("ADD_FOLDER",!0);yield(0,r.handleOpenModal)(e),yield(0,a.handleAddFolderLogic)()}))))}))};const r=n(4193),o=n(177),a=n(8550),s=n(2997)},6994:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManageFolderLogic=function(){return i(this,void 0,void 0,(function*(){yield(0,r.handleManageChatsSearchInput)(),yield(0,o.handleManageFolderActionClick)(),yield(0,a.handleManageFolderAddGPTClick)(),yield(0,s.handleManageFolderAddChatClick)(),yield(0,c.handleManageFolderAddFolderClick)(),yield(0,d.handleManageFolderPinFolderClick)(),yield(0,l.handleManageFolderEditFolderClick)()}))};const r=n(6365),o=n(6462),a=n(2740),s=n(7301),c=n(4259),d=n(6151),l=n(3608)},6151:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManageFolderPinFolderClick=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-chatgpt-pinFolder-button");if(!e)return;const t=e=>i(this,void 0,void 0,(function*(){try{e.stopPropagation();const t=e.target.closest("button");if(!t)throw Error();yield(0,o.toggleLoader)(!0);const{selectedFolder:n}=yield(0,s.getStore)();if(!(null==n?void 0:n._id))throw Error();const i=t.getAttribute("aria-label")===(0,r.t)("PIN"),l=yield(0,c.updatePinnedFolders)({folderId:n._id,pinned:i});if(!(null==l?void 0:l.success))throw Error();const p=yield(0,c.getPinnedFolders)();if(!Array.isArray(p))throw Error();const m=yield(0,u.getPinnedFoldersObject)(p);yield(0,s.setPinnedFolders)(m),yield(0,d.addPinnedFolderItems)(m),yield(0,f.setPinnedFoldersTabVisibility)(),yield(0,h.changeFolderPinButtonUI)(n._id,t,m);const y=i?"PIN_FOLDER_SUCCESS":"UNPIN_FOLDER_SUCCESS";(0,a.showSnackbar)(y,3e3)}catch(e){}finally{yield(0,o.toggleLoader)(!1)}}));(0,l.manageEventListeners)("click",t,e),(0,l.manageEventListeners)("keydown",(e=>i(this,void 0,void 0,(function*(){const n=e;if("Enter"===n.key||" "===n.key)return e.preventDefault(),void(yield t(e))}))),e)}))};const r=n(6907),o=n(1089),a=n(9748),s=n(2997),c=n(5982),d=n(938),l=n(7392),u=n(7131),h=n(9070),f=n(4533)},2394:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManageFoldersLogic=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("search-input"),t=document.getElementById("infi-chatgpt-addFolder-button"),n=document.querySelector(".infi-chatgpt-manageTabs-removeFoldersButton");if(e&&t&&n){try{yield(0,c.toggleLoader)(!0);const e=yield(0,a.getUserFolders)();if(!Array.isArray(e))return;yield(0,f.setFolders)(e)}catch(e){}finally{yield(0,c.toggleLoader)(!1)}yield(0,s.handleManageChatsSearchInput)(),t.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield(0,f.setSelectedModalType)("ADD_FOLDER"),yield(0,f.setPreviousModal)("MANAGE_FOLDERS");const e=yield(0,d.getModalProps)("ADD_FOLDER");yield(0,o.handleOpenModal)(e),yield(0,u.handleAddFolderLogic)()})))),n.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield(0,o.handleOpenModal)({id:"infi-chatgpt-confirmRemoveFoldersModal",html:(0,h.confirmRemoveFoldersHTML)(r.t),title:"REMOVE_FOLDERS",allowedIds:["infi-chatgpt-confirmRemoveFoldersModal","infi-chatgpt-confirmRemoveFolders-cancelButton"]});const e=document.getElementById("infi-chatgpt-confirmRemoveFolders-deleteButton");e&&e.addEventListener("click",l.handleRemoveFoldersClick)}))))}}))};const r=n(6907),o=n(4193),a=n(5982),s=n(6365),c=n(1089),d=n(177),l=n(4091),u=n(8550),h=n(1930),f=n(2997)},4091:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleRemoveFoldersClick=function(){return i(this,void 0,void 0,(function*(){try{yield(0,o.toggleLoader)(!0);const e=document.getElementById("search-input");if(!e)return;const t=yield(0,h.getStore)(),{selectedItems:n}=t,i=yield(0,s.deleteFoldersByIds)(n);if(!(null==i?void 0:i.children))throw Error();const f=yield(0,s.getPinnedFolders)();if(!Array.isArray(f))throw Error();const p=yield(0,l.getPinnedFoldersObject)(f);yield(0,h.setPinnedFolders)(p),yield(0,d.addPinnedFolderItems)(p),yield(0,u.setPinnedFoldersTabVisibility)(),yield(0,r.handleCloseModalById)("infi-chatgpt-confirmRemoveFoldersModal"),yield(0,h.setSelectedItems)([]),yield(0,h.setSelectedModalType)("MANAGE_FOLDERS"),yield(0,c.setSelectedItemsText)();const m=document.querySelector(".infi-chatgpt-manageTabs-removeFoldersButton");m&&(m.disabled=!0),(0,a.showSnackbar)("DELETE_FOLDERS_SUCCESS",3e3),yield(0,h.setFolders)(i.children),yield(0,c.handleSearchInputEvent)(e)}catch(e){}finally{yield(0,o.toggleLoader)(!1)}}))};const r=n(4193),o=n(1089),a=n(9748),s=n(5982),c=n(6365),d=n(938),l=n(7131),u=n(4533),h=n(2997)},2170:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.showManageFoldersModal=function(e){return i(this,void 0,void 0,(function*(){null==e||e.preventDefault(),yield(0,o.setSelectedModalType)("MANAGE_FOLDERS");const t=yield(0,a.getModalProps)("MANAGE_FOLDERS");yield(0,r.handleOpenModal)(t),yield(0,s.handleManageFoldersLogic)()}))};const r=n(4193),o=n(2997),a=n(177),s=n(2394)},7915:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.addChainItem=function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector("#infi-chatgpt-addChain-addPrompt-button");if(!e)return;(0,h.manageEventListeners)("click",(()=>i(this,void 0,void 0,(function*(){const t=document.querySelector(".infi-chain-prompt-items");if(!t)return;const n=r.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_CHAINED_PROMPT_ITEMS,i=t.querySelectorAll(":scope > .infi-chain-prompt-item").length;if(i===n)return;const h=(0,d.addChainItemHTML)({prompt:"",index:i,showRemoveButton:!0}),f=document.createElement("template");f.innerHTML=h.trim();const p=f.content;t.appendChild(p),yield(0,l.toggleChainAddPromptButton)(e,i===n-1),yield(0,c.addChainItemRemoveButton)(),yield(0,u.addChainContentCounter)(),yield(0,o.removeChainItem)(),yield(0,a.duplicateChainItem)(),(0,s.handleChainItemDragging)()}))),e)}))};const r=n(2948),o=n(7736),a=n(7345),s=n(2119),c=n(6591),d=n(4729),l=n(902),u=n(7621),h=n(7392)},6591:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.addChainItemRemoveButton=function(){return i(this,arguments,void 0,(function*(e=0){const t=document.querySelectorAll(".infi-chain-prompt-item")[e].querySelector(".infi-chain-item-actions");if(t){if(t.querySelector("#infi-chatgpt-addChain-remove-button"))return;const n=document.createElement("template");n.innerHTML=`\n      <button\n        id="infi-chatgpt-addChain-remove-button"\n        class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-removeButton"\n        aria-label="${(0,o.t)("REMOVE_PROMPT")}"\n        data-index="${e}"\n        type="button"\n      >\n        ${a.default} ${(0,o.t)("REMOVE")}\n      </button>\n    `;const i=n.content;t.appendChild(i)}}))};const o=n(6907),a=r(n(8997))},8475:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.createChainSubmit=function(){return i(this,void 0,void 0,(function*(){const e=!!document.getElementById("infi-chatgpt-editChainModal"),t=e?"infi-chatgpt-editChainModal":"infi-chatgpt-addChainModal",n=document.getElementById(t),r=null==n?void 0:n.querySelector("#infi-chatgpt-form"),o=null==r?void 0:r.querySelector("#chain-name-input");if(!n||!r||!o)return;o.focus();const a=o.value.length;o.setSelectionRange(a,a),o.addEventListener("keydown",(t=>i(this,void 0,void 0,(function*(){"Enter"===t.key&&(t.preventDefault(),yield m(t,e))})))),r.addEventListener("submit",(t=>m(t,e)))}))};const o=n(2948),a=n(6365),s=n(4137),c=n(8860),d=n(1089),l=n(9748),u=n(177),h=n(4193),f=n(924),p=n(2997);function m(e,t){return i(this,void 0,void 0,(function*(){var n;try{e.preventDefault(),yield(0,d.toggleLoader)(!0);const m=t?"infi-chatgpt-editChainModal":"infi-chatgpt-addChainModal",y=t?"UPDATE_CHAIN_SUCCESS":"ADD_CHAIN_SUCCESS",v=document.getElementById("search-input"),g=document.getElementById("chain-name-input"),_=Array.from(document.querySelectorAll("textarea[id^='chain-content-input-']"));if(!g||0===_.length||!v)throw Error();const b=yield(0,p.getStore)(),{selectedChain:E}=b,w=r(b,["selectedChain"])[o.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER],A=null===(n=g.value)||void 0===n?void 0:n.trim(),S=[];let T,C=!1;if(0===A.length||A.length>o.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_NAME_LENGTH?((0,f.toggleInputError)(!0,g,"create-chain-name-error"),C=!0):(0,f.toggleInputError)(!1,g,"create-chain-name-error"),_.forEach(((e,t)=>{var n;const i=null===(n=e.value)||void 0===n?void 0:n.trim(),r=`create-prompt-content-error-${t}`;0===i.length||i.length>o.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_CONTENT_LENGTH?((0,f.toggleInputError)(!0,e,r),C=!0):((0,f.toggleInputError)(!1,e,r),S.push(i))})),C)throw Error();if(t)T=yield(0,c.updateChain)({chainId:E,updatedFields:{name:A,prompts:S}});else{const e=yield(0,c.createChain)({name:A,prompts:S});if(null==e?void 0:e.max)throw(0,l.showSnackbar)("MAX_PROMPTS",3e3,"error"),Error();if(null==e?void 0:e.max_free)throw(0,l.showSnackbar)("MAX_FREE_PROMPTS",3e3,"error"),Error();T=e}if(!w&&(null==T?void 0:T.max_free)){yield(0,p.setSelectedModalType)("PREMIUM_LIMIT"),yield(0,p.setPreviousModal)("ADD_CHAIN");const e=()=>i(this,void 0,void 0,(function*(){yield(0,p.setPreviousModal)("MANAGE_PROMPTS")})),t=yield(0,u.getModalProps)("PREMIUM_LIMIT",!1,e);return void(yield(0,h.handleOpenModal)(t))}if(!Array.isArray(T))throw Error();yield(0,p.setChains)(T),yield(0,s.resetForm)(),yield(0,h.handleCloseModalById)(m),(0,l.showSnackbar)(y,3e3),yield(0,p.setSelectedModalType)("MANAGE_PROMPTS"),yield(0,a.handleSearchInputEvent)(v)}catch(e){}finally{yield(0,d.toggleLoader)(!1)}}))}},9206:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.createPromptSubmit=function(){return i(this,void 0,void 0,(function*(){const e=!!document.getElementById("infi-chatgpt-editPromptModal"),t=e?"infi-chatgpt-editPromptModal":"infi-chatgpt-addPromptModal",n=document.getElementById(t),r=null==n?void 0:n.querySelector("#infi-chatgpt-form"),o=null==r?void 0:r.querySelector("#prompt-name-input");if(!n||!r||!o)return;o.focus();const a=o.value.length;o.setSelectionRange(a,a),o.addEventListener("keydown",(t=>i(this,void 0,void 0,(function*(){"Enter"===t.key&&(t.preventDefault(),yield m(t,e))})))),r.addEventListener("submit",(t=>m(t,e)))}))};const o=n(2948),a=n(6365),s=n(4137),c=n(8860),d=n(1089),l=n(9748),u=n(177),h=n(4193),f=n(924),p=n(2997);function m(e,t){return i(this,void 0,void 0,(function*(){var n,m;try{e.preventDefault(),yield(0,d.toggleLoader)(!0);const y=t?"infi-chatgpt-editPromptModal":"infi-chatgpt-addPromptModal",v=t?"UPDATE_PROMPT_SUCCESS":"ADD_PROMPT_SUCCESS",g=document.getElementById("search-input"),_=document.getElementById("prompt-name-input"),b=document.getElementById("prompt-content-input");if(!_||!b||!g)throw Error();const E=yield(0,p.getStore)(),{selectedPrompt:w}=E,A=r(E,["selectedPrompt"])[o.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER],S=null===(n=_.value)||void 0===n?void 0:n.trim(),T=null===(m=b.value)||void 0===m?void 0:m.trim();if(0===S.length||S.length>o.CONSTANTS.MANAGE_PROMPTS.EDIT_PROMPT.MAX_NAME_LENGTH)throw(0,f.toggleInputError)(!0,_,"create-prompt-name-error"),Error();if((0,f.toggleInputError)(!1,_,"create-prompt-name-error"),0===T.length||T.length>o.CONSTANTS.MANAGE_PROMPTS.EDIT_PROMPT.MAX_CONTENT_LENGTH)throw(0,f.toggleInputError)(!0,b,"create-prompt-content-error"),Error();let C;if((0,f.toggleInputError)(!1,b,"create-prompt-content-error"),t)C=yield(0,c.updatePrompt)({promptId:w,updatedFields:{name:S,content:T}});else{const e=yield(0,c.createPrompt)({promptName:S,promptContent:T});if(null==e?void 0:e.max)throw(0,l.showSnackbar)("MAX_PROMPTS",3e3,"error"),Error();if(null==e?void 0:e.max_free)throw(0,l.showSnackbar)("MAX_FREE_PROMPTS",3e3,"error"),Error();C=e}if(!A&&(null==C?void 0:C.max_free)){yield(0,p.setSelectedModalType)("PREMIUM_LIMIT"),yield(0,p.setPreviousModal)("ADD_PROMPT");const e=()=>i(this,void 0,void 0,(function*(){yield(0,p.setPreviousModal)("MANAGE_PROMPTS")})),t=yield(0,u.getModalProps)("PREMIUM_LIMIT",!1,e);return void(yield(0,h.handleOpenModal)(t))}if(!Array.isArray(C))throw Error();yield(0,p.setPrompts)(C),yield(0,s.resetForm)(),yield(0,h.handleCloseModalById)(y),(0,l.showSnackbar)(v,3e3),yield(0,p.setSelectedModalType)("MANAGE_PROMPTS"),yield(0,a.handleSearchInputEvent)(g)}catch(e){}finally{yield(0,d.toggleLoader)(!1)}}))}},7345:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateChainItem=function e(){return i(this,void 0,void 0,(function*(){const t=document.querySelector(".infi-chain-prompt-items");if(!t)return;const n=Array.from(document.querySelectorAll("#infi-chatgpt-addChain-duplicate-button")),u=r.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_CHAINED_PROMPT_ITEMS,h=n.length===u;n.forEach((n=>{n.disabled=h;const r=()=>i(this,void 0,void 0,(function*(){const i=n.closest(".infi-chain-prompt-item");if(!i)return;const r=t.querySelectorAll(".infi-chain-prompt-item").length;r-1==0&&(yield(0,s.addChainItemRemoveButton)());const c=i.querySelector("textarea"),l=(null==c?void 0:c.value)||"",u=document.createElement("template");u.innerHTML=i.outerHTML;const h=u.content,f=h.querySelector(".infi-chain-prompt-item");if(!f)return;const p=f.querySelector("textarea");p&&(p.id=`chain-content-input-${r}`,p.value=l,p.setAttribute("aria-describedby",`create-prompt-content-error-${r}`));const m=f.querySelector("label");m&&p&&m.setAttribute("for",p.id);const y=f.querySelector(".infi-counter");y&&(y.id=`infi-prompt-content-counter-${r}`,y.textContent=`${l.length} / 6000`);const v=f.querySelector(".infi-chatgpt-error-field-message");v&&(v.id=`create-prompt-content-error-${r}`);const g=f.querySelector("#infi-chatgpt-addChain-duplicate-button");g&&g.setAttribute("data-index",`${r}`);const _=f.querySelector("#infi-chatgpt-addChain-remove-button");_&&_.setAttribute("data-index",`chain-content-input-${r}`),t.appendChild(h),yield(0,s.addChainItemRemoveButton)(r),yield(0,d.addChainContentCounter)(),yield(0,o.removeChainItem)(),(0,a.handleChainItemDragging)();const b=i.closest("form");b&&b.scrollTo({top:b.scrollHeight,behavior:"smooth"}),yield e()}));(0,l.manageEventListeners)("click",r,n)}));const f=document.querySelector("#infi-chatgpt-addChain-addPrompt-button");f&&(yield(0,c.toggleChainAddPromptButton)(f,n.length===u))}))};const r=n(2948),o=n(7736),a=n(2119),s=n(6591),c=n(902),d=n(7621),l=n(7392)},6383:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getManagePromptList=function(e){return i(this,arguments,void 0,(function*({query:e}){return"prompts"===(0,o.checkManagePromptsActiveTab)()?function(e){return i(this,void 0,void 0,(function*(){const t=!!(e&&e.length>0),n=yield(0,r.getStore)(),{prompts:i}=n,o=i.map((e=>({id:e._id,title:e.name,isFromPromptLibrary:e.isFromPromptLibrary||!1,update_time:e.updatedAt})));return t?o.filter((t=>{var n;return null===(n=null==t?void 0:t.title)||void 0===n?void 0:n.toLowerCase().includes(e)})):o}))}(e):function(e){return i(this,void 0,void 0,(function*(){const t=!!(e&&e.length>0),n=yield(0,r.getStore)(),{chains:i}=n,o=i.map((e=>({id:e._id,title:e.name,update_time:e.updatedAt})));return t?o.filter((t=>{var n;return null===(n=null==t?void 0:t.title)||void 0===n?void 0:n.toLowerCase().includes(e)})):o}))}(e)}))};const r=n(2997),o=n(155)},5272:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleAddChainClick=function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector("button#infi-chatgpt-addChain-button");if(!e)return;(0,h.manageEventListeners)("click",(e=>i(this,void 0,void 0,(function*(){yield(0,u.setSelectedModalType)("ADD_CHAIN"),yield(0,u.setPreviousModal)("MANAGE_PROMPTS");const e=yield(0,c.getModalProps)("ADD_CHAIN");yield(0,r.handleOpenModal)(e),yield(0,l.addChainContentCounter)(),yield(0,o.addChainItem)(),yield(0,s.duplicateChainItem)(),(0,d.handleChainItemDragging)(),yield(0,a.createChainSubmit)()}))),e)}))};const r=n(4193),o=n(7915),a=n(8475),s=n(7345),c=n(177),d=n(2119),l=n(7621),u=n(2997),h=n(7392)},2119:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleChainItemDragging=function(){const e=document.querySelector(".infi-chain-prompt-items");if(!e)return;let t=null;e.querySelectorAll(".infi-chain-prompt-item").forEach((n=>{const a=n.querySelector('[id^="infi-chain-prompt-item-drag-"]');a&&(n.setAttribute("draggable","false"),a.style.cursor="grab",(0,o.manageEventListeners)("mousedown",(()=>{n.setAttribute("draggable","true")}),a),(0,o.manageEventListeners)("mouseup",(()=>{n.removeAttribute("draggable")}),a),(0,o.manageEventListeners)("mouseleave",(()=>{n.removeAttribute("draggable")}),a),(0,o.manageEventListeners)("dragstart",(e=>{var i;"true"===n.getAttribute("draggable")?(t=n,n.classList.add("infi-dragging"),null===(i=e.dataTransfer)||void 0===i||i.setData("text/plain","")):e.preventDefault()}),n),(0,o.manageEventListeners)("dragend",(()=>{n.classList.remove("infi-dragging"),t=null,n.removeAttribute("draggable"),(0,i.updateChainItemsIndices)()}),n),(0,o.manageEventListeners)("dragover",(n=>{n.preventDefault();const i=(0,r.getDragAfterElement)(e,"infi-chain-prompt-item",n.clientY);i?e.insertBefore(t,i):e.appendChild(t)}),n))}))};const i=n(9849),r=n(6456),o=n(7392)},3801:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleGetUserChains=function(){return i(this,arguments,void 0,(function*(e=!0){try{e&&(yield(0,a.toggleLoader)(!0));const t=yield(0,o.getUserChains)();if(!Array.isArray(t))throw Error();yield(0,r.setChains)(t)}catch(e){}finally{e&&(yield(0,a.toggleLoader)(!1))}}))};const r=n(2997),o=n(8860),a=n(1089)},1196:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleGetUserPrompts=function(){return i(this,arguments,void 0,(function*(e=!0){try{e&&(yield(0,a.toggleLoader)(!0));const t=yield(0,o.getUserPrompts)();if(!Array.isArray(t))throw Error();yield(0,r.setPrompts)(t)}catch(e){}finally{e&&(yield(0,a.toggleLoader)(!1))}}))};const r=n(2997),o=n(8860),a=n(1089)},1324:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManagePromptsChainsRemove=function(){return i(this,void 0,void 0,(function*(){if("chains"!==(0,d.checkManagePromptsActiveTab)())return;const e=document.querySelector(".infi-chatgpt-manageTabs-removePromptsButton");if(!e)return;(0,c.manageEventListeners)("click",(()=>i(this,void 0,void 0,(function*(){yield(0,o.handleOpenModal)({id:"infi-chatgpt-confirmRemoveChainsModal",html:(0,s.confirmRemoveChainsHTML)(r.t),title:"DELETE_CHAINS",allowedIds:["infi-chatgpt-confirmRemoveChainsModal","infi-chatgpt-confirmRemoveChains-cancelButton"]});const e=document.getElementById("infi-chatgpt-confirmRemoveChains-deleteButton");e&&(0,c.manageEventListeners)("click",a.handleRemoveChainsClick,e)}))),e)}))};const r=n(6907),o=n(4193),a=n(7821),s=n(773),c=n(7392),d=n(155)},3442:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManagePromptsLogic=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("search-input"),t=document.getElementById("infi-chatgpt-addPrompt-button"),n=document.getElementById("infi-chatgpt-promptLibrary-button"),b=document.querySelector(".infi-chatgpt-manageTabs-removePromptsButton");if(!(e&&t&&n&&b))return;try{yield(0,d.toggleLoader)(!0);const{prompts:e}=yield(0,_.getStore)();if(0===e.length){const e=yield(0,o.getUserPrompts)();if(!Array.isArray(e))return;yield(0,_.setPrompts)(e)}}catch(e){}finally{yield(0,d.toggleLoader)(!1)}yield(0,c.handleManageChatsSearchInput)(),yield(0,f.handleManagePromptsTabClick)(),t.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield(0,_.setSelectedModalType)("ADD_PROMPT"),yield(0,_.setPreviousModal)("MANAGE_PROMPTS");const e=yield(0,l.getModalProps)("ADD_PROMPT");yield(0,u.handleOpenModal)(e),yield(0,m.addPromptContentCounter)(),(0,a.createPromptSubmit)()})))),n.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){const e=yield(0,s.getModalId)();e&&(yield(0,u.handleCloseModalById)(e,"PROMPT_LIBRARY")),yield(0,_.setPreviousModal)("MANAGE_PROMPTS");const t=yield(0,l.getModalProps)("PROMPT_LIBRARY");yield(0,u.handleOpenModal)(t),yield(0,v.showPromptLibraryModal)()}))));(0,y.manageEventListeners)("click",(()=>i(this,void 0,void 0,(function*(){if("prompts"!==(0,g.checkManagePromptsActiveTab)())return;yield(0,u.handleOpenModal)({id:"infi-chatgpt-confirmRemovePromptsModal",html:(0,p.confirmRemovePromptsHTML)(r.t),title:"REMOVE_PROMPTS",allowedIds:["infi-chatgpt-confirmRemovePromptsModal","infi-chatgpt-confirmRemovePrompts-cancelButton"]});const e=document.getElementById("infi-chatgpt-confirmRemovePrompts-deleteButton");e&&(0,y.manageEventListeners)("click",h.handleRemovePromptsClick,e)}))),b)}))};const r=n(6907),o=n(8860),a=n(9206),s=n(3534),c=n(6365),d=n(1089),l=n(177),u=n(4193),h=n(5831),f=n(9559),p=n(3304),m=n(7698),y=n(7392),v=n(8014),g=n(155),_=n(2997)},9559:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManagePromptsTabClick=function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector("button#infi-chatgpt-view-prompts"),t=document.querySelector("button#infi-chatgpt-view-chains");if(!e||!t)return;const n=n=>i(this,void 0,void 0,(function*(){const i=n.target.closest("button"),r=document.querySelector(".modal-header-actions"),h=document.querySelector("#infi-chatgpt-managePromptsModal #search-input");if(!i||!r||!h)return;i.setAttribute("aria-pressed","true");("infi-chatgpt-view-prompts"===i.id?t:e).setAttribute("aria-pressed","false");const g="infi-chatgpt-view-chains"===i.id;h.value="",yield(0,a.setSelectedItems)([]),yield(0,p.handleModalButtonsState)(),yield(0,u.handleSettingsClick)();const _=`\n      <button id="infi-chatgpt-settings-button" class="modal-header-actions-button">\n        ${v.default} ${(0,o.t)("SETTINGS")}\n      </button>\n    `;g?(r.innerHTML=`\n        ${_}\n\n        <button id="infi-chatgpt-addChain-button" class="modal-header-actions-button">\n          ${m.default} ${(0,o.t)("ADD_CHAIN")}\n        </button>\n      `,yield(0,s.handleGetUserChains)(),yield(0,p.handleManageChatsSearchInput)(),yield(0,c.handleAddChainClick)(),yield(0,f.handleManagePromptsChainsRemove)()):(r.innerHTML=`\n        ${_}\n    \n        <button id="infi-chatgpt-addPrompt-button" class="modal-header-actions-button">\n          ${m.default} ${(0,o.t)("ADD_PROMPT")}\n        </button>\n    \n        <button id="infi-chatgpt-promptLibrary-button" class="modal-header-actions-button">\n          ${y.default} ${(0,o.t)("PROMPT_LIBRARY")}\n        </button>\n      `,yield(0,d.handleGetUserPrompts)(),yield(0,l.handleManagePromptsLogic)())}));(0,h.manageEventListeners)("click",n,e),(0,h.manageEventListeners)("click",n,t)}))};const o=n(6907),a=n(2997),s=n(3801),c=n(5272),d=n(1196),l=n(3442),u=n(2812),h=n(7392),f=n(1324),p=n(6365),m=r(n(1750)),y=r(n(1622)),v=r(n(3696))},7821:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleRemoveChainsClick=function(){return i(this,void 0,void 0,(function*(){try{yield(0,a.toggleLoader)(!0);const e=document.getElementById("search-input");if(!e)return;const t=yield(0,d.getStore)(),{selectedItems:n}=t,i=yield(0,o.deleteChainsByIds)(n);if(!Array.isArray(i))throw Error();yield(0,r.handleCloseModalById)("infi-chatgpt-confirmRemoveChainsModal"),yield(0,d.setSelectedItems)([]),yield(0,d.setSelectedModalType)("MANAGE_PROMPTS"),yield(0,c.setSelectedItemsText)();const l=document.querySelector(".infi-chatgpt-manageTabs-removePromptsButton");l&&(l.disabled=!0),(0,s.showSnackbar)("DELETE_CHAINS_SUCCESS",3e3),yield(0,d.setChains)(i),yield(0,c.handleSearchInputEvent)(e)}catch(e){}finally{yield(0,a.toggleLoader)(!1)}}))};const r=n(4193),o=n(8860),a=n(1089),s=n(9748),c=n(6365),d=n(2997)},5831:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleRemovePromptsClick=function(){return i(this,void 0,void 0,(function*(){try{yield(0,a.toggleLoader)(!0);const e=document.getElementById("search-input");if(!e)return;const t=yield(0,d.getStore)(),{selectedItems:n}=t,i=yield(0,o.deletePromptsByIds)(n);if(!Array.isArray(i))throw Error();yield(0,r.handleCloseModalById)("infi-chatgpt-confirmRemovePromptsModal"),yield(0,d.setSelectedItems)([]),yield(0,d.setSelectedModalType)("MANAGE_PROMPTS"),yield(0,c.setSelectedItemsText)();const l=document.querySelector(".infi-chatgpt-manageTabs-removePromptsButton");l&&(l.disabled=!0),(0,s.showSnackbar)("DELETE_PROMPTS_SUCCESS",3e3),yield(0,d.setPrompts)(i),yield(0,c.handleSearchInputEvent)(e)}catch(e){}finally{yield(0,a.toggleLoader)(!1)}}))};const r=n(4193),o=n(8860),a=n(1089),s=n(9748),c=n(6365),d=n(2997)},7736:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.removeChainItem=function(){return i(this,void 0,void 0,(function*(){document.querySelectorAll("#infi-chatgpt-addChain-remove-button").forEach((e=>{(0,a.manageEventListeners)("click",(()=>{const t=e.closest(".infi-chain-prompt-item");if(!t)return;t.remove(),(0,o.updateChainItemsIndices)(),function(){const e=document.querySelectorAll(".infi-chain-prompt-item");if(1===e.length){const t=e[0].querySelector("#infi-chatgpt-addChain-remove-button");t&&t.remove()}}();const n=r.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_CHAINED_PROMPT_ITEMS;if(document.querySelectorAll("#infi-chatgpt-addChain-remove-button").length<n){Array.from(document.querySelectorAll("#infi-chatgpt-addChain-duplicate-button")).forEach((e=>{e.disabled=!1}));const e=document.querySelector("#infi-chatgpt-addChain-addPrompt-button");e&&(e.disabled=!1)}}),e)}))}))};const r=n(2948),o=n(9849),a=n(7392)},9482:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.showManagePromptsModal=function(e){return i(this,void 0,void 0,(function*(){null==e||e.preventDefault(),yield(0,o.setSelectedModalType)("MANAGE_PROMPTS");const t=yield(0,a.getModalProps)("MANAGE_PROMPTS");yield(0,r.handleOpenModal)(t),yield(0,s.handleManagePromptsLogic)()}))};const r=n(4193),o=n(2997),a=n(177),s=n(3442)},902:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.toggleChainAddPromptButton=function(e,t){return i(this,void 0,void 0,(function*(){e.disabled=t;const n=document.querySelector(".infi-chatgpt-addChain-addPrompt-buttonContainer");t?null==n||n.setAttribute("data-tooltip",(0,r.t)("ADD_CHAIN_MAX_PROMPT_ITEMS",{num:o.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_CHAINED_PROMPT_ITEMS})):null==n||n.removeAttribute("data-tooltip")}))};const r=n(6907),o=n(2948)},9849:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateChainItemsIndices=function(){const e=document.querySelector(".infi-chain-prompt-items");if(!e)return;e.querySelectorAll(".infi-chain-prompt-item").forEach(((e,t)=>{const n=e.querySelector('[id^="infi-chain-prompt-item-drag-"]');n&&(n.id=`infi-chain-prompt-item-drag-${t}`);const i=e.querySelector('textarea[id^="chain-content-input-"]');i&&(i.id=`chain-content-input-${t}`,i.setAttribute("aria-describedby",`create-prompt-content-error-${t}`));const r=e.querySelector('[id^="infi-prompt-content-counter-"]');r&&(r.id=`infi-prompt-content-counter-${t}`,i&&(r.textContent=`${i.value.length} / 6000`));const o=e.querySelector('[id^="create-prompt-content-error-"]');o&&(o.id=`create-prompt-content-error-${t}`);const a=e.querySelector("button#infi-chatgpt-addChain-duplicate-button");a&&a.setAttribute("data-index",t.toString());const s=e.querySelector("button#infi-chatgpt-addChain-remove-button");s&&s.setAttribute("data-index",t.toString())}))}},2039:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleDownloadAllClick=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-mediaGalleryModal__downloadAllButton");if(!e)return;(0,s.manageEventListeners)("click",(()=>i(this,void 0,void 0,(function*(){yield(0,a.toggleLoader)(!0);const e=document.querySelector(".infi-mediaGalleryModal__mediaContainer");if(!e)return;const t=Array.from(e.querySelectorAll('div[id^="infi-file"]'));if(!t.length)return;const n=t.map((e=>e.id.split("infi-")[1]));n.length&&(yield(0,r.downloadImagesAsZip)(n),(0,o.showSnackbar)("FILES_DOWNLOAD_SUCCESS",3e3,"success"),yield(0,a.toggleLoader)(!1))}))),e)}))};const r=n(9454),o=n(9748),a=n(1089),s=n(7392)},4222:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleDownloadMediaClick=function(e,t){return i(this,void 0,void 0,(function*(){try{yield(0,o.toggleLoader)(!0);const n=t.closest(".infi-mediaGalleryItem");if(!n)return;const i=e.find((e=>e.id===n.id.split("infi-")[1]));if(!i)return;yield(0,r.downloadImage)(i)}catch(e){}finally{yield(0,o.toggleLoader)(!1)}}))};const r=n(9454),o=n(1089)},296:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleInsertMediaItems=function(e){return i(this,void 0,void 0,(function*(){try{let t=[],n=0,p=0,m=!1;const y=document.querySelector(".infi-mediaGalleryModal__mediaContainer");if(!y)return[];const{selectedMediaItem:v}=yield(0,o.getStore)(),g=()=>i(this,void 0,void 0,(function*(){const i=[],o=Math.floor(t.length/a.CONSTANTS.MEDIA_GALLERY.LIMIT+1);if(n===o)return;n=o;const c=yield(0,s.fetchDownloadURLs)({page:o,searchString:e});t.push(...c),c.forEach((e=>{const t=(0,u.mediaGalleryItemHTML)({t:r.t,item:e,selectedItem:(null==v?void 0:v.id)===e.id});i.push(t)})),y.innerHTML+=i.join(" "),b()})),_=()=>i(this,void 0,void 0,(function*(){const e=y.scrollTop;if(e>p&&!m){const e=y.scrollTop+y.clientHeight;y.scrollHeight-e<=30&&(m=!0,yield g(),m=!1)}p=e})),b=()=>{y.querySelectorAll(".infi-mediaGalleryItem").forEach((e=>{const n=e.querySelector(".infi-mediaGalleryItem__image"),r=e.querySelector(".infi-mediaGalleryItem-backdrop"),o=e.querySelector("#infi-mediaGalleryItem__loaderContainer");if(n&&o&&r){"flex"===window.getComputedStyle(o).getPropertyValue("display")&&(r.style.display="none",setTimeout((()=>{n.style.display="block",r.style.display="block",o.style.display="none"}),1e3))}(0,h.manageEventListeners)("click",(e=>i(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();const n=e.target;yield(0,l.handleSaveSelectedMediaItem)(t,n),yield(0,f.handleMediaItemDataVisibility)(!0)}))),e),(0,h.manageEventListeners)("keydown",(e=>i(this,void 0,void 0,(function*(){const n=e,i=e.target;if("Enter"===n.key&&(n.preventDefault(),n.stopPropagation(),yield(0,l.handleSaveSelectedMediaItem)(t,i),yield(0,f.handleMediaItemDataVisibility)(!0)),"Tab"===n.key){n.preventDefault();const e=i.querySelector(".infi-mediaGalleryItem-backdrop"),t=null==e?void 0:e.querySelector(".infi-mediaGalleryItem__download");if(!e||!t)return;if(n.shiftKey){e.classList.remove("visible");const t=Array.from(document.querySelectorAll(".infi-mediaGalleryItem")),n=t.indexOf(i);if(n>0){const e=t[n-1].querySelector(".infi-mediaGalleryItem-backdrop"),i=null==e?void 0:e.querySelector(".infi-mediaGalleryItem__download");if(!e||!i)return;e.classList.add("visible"),i.focus()}else{const e=document.getElementById("infi-mediaGallery-search");null==e||e.focus()}}else e.classList.add("visible"),t.focus()}}))),e);y.querySelectorAll(".infi-mediaGalleryItem__download").forEach((e=>{(0,h.manageEventListeners)("click",(e=>i(this,void 0,void 0,(function*(){e.stopPropagation();const n=e.target;yield(0,d.handleDownloadMediaClick)(t,n),(0,c.showSnackbar)("FILES_DOWNLOAD_SUCCESS",3e3,"success")}))),e),(0,h.manageEventListeners)("keydown",(e=>i(this,void 0,void 0,(function*(){const n=e,i=e.target;if("Enter"===n.key&&(n.stopPropagation(),yield(0,d.handleDownloadMediaClick)(t,i)),"Tab"===n.key){n.preventDefault();const e=i.closest(".infi-mediaGalleryItem"),t=i.closest(".infi-mediaGalleryItem-backdrop");if(!e||!t)return;if(t.classList.remove("visible"),n.shiftKey)e.focus();else{const t=Array.from(document.querySelectorAll(".infi-mediaGalleryItem")),n=t.indexOf(e);if(n>-1&&n<t.length-1){t[n+1].focus()}}}}))),e)}))}))};return y.innerHTML="",m=!0,yield g(),m=!1,(0,h.manageEventListeners)("scroll",_,y),t}catch(e){return[]}}))};const r=n(6907),o=n(2997),a=n(2948),s=n(5847),c=n(9748),d=n(4222),l=n(719),u=n(6538),h=n(7392),f=n(3963)},2131:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleMediaGalleryEmpty=function(e){return i(this,void 0,void 0,(function*(){if(e.length>0)return;const t=document.querySelector(".infi-mediaGalleryModal__conatiner"),n=null==t?void 0:t.querySelector(".infi-mediaGalleryModal__mediaContainer");t&&n&&(n.style.height="100%",t.innerHTML=(0,o.mediaGalleryEmptyHTML)(r.t))}))};const r=n(6907),o=n(8804)},3940:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleMediaGalleryLogic=function(){return i(this,void 0,void 0,(function*(){const e=yield(0,r.initiateMediaGallery)();yield(0,c.handleSaveSelectedMediaItem)(e),yield(0,s.handleMediaGallerySearch)(),yield(0,d.handleMediaGalleryTypeClick)(),yield(0,o.handleDownloadAllClick)(),yield(0,a.handleMediaGalleryEmpty)(e)}))};const r=n(5305),o=n(2039),a=n(2131),s=n(4676),c=n(719),d=n(5882)},4676:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleMediaGallerySearch=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-mediaGallery-search");if(!e)return;e.focus();const t=(0,r.debounce)((e=>i(this,void 0,void 0,(function*(){const t=e.target,{value:n}=t,i=n.trim(),r=yield(0,a.handleInsertMediaItems)(i);yield(0,s.handleSaveSelectedMediaItem)(r)}))),o.CONSTANTS.DEBOUNCE_DELAY);(0,c.manageEventListeners)("input",t,e)}))};const r=n(9454),o=n(2948),a=n(296),s=n(719),c=n(7392)},5882:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleMediaGalleryTypeClick=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-mediaGalleryModal__DallEButton"),t=document.getElementById("infi-mediaGalleryModal__chartsButton");function n(e,t){return i(this,void 0,void 0,(function*(){(0,o.setMediaGalleryActiveButton)(t)}))}e&&t&&((0,a.manageEventListeners)("click",(e=>n(0,r.CONSTANTS.MEDIA_GALLERY.ACTIVE_BUTTON.DALL_E)),e),(0,a.manageEventListeners)("click",(e=>n(0,r.CONSTANTS.MEDIA_GALLERY.ACTIVE_BUTTON.CHARTS)),t))}))};const r=n(2948),o=n(2997),a=n(7392)},7919:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleMediaItemContentEvents=function(){return i(this,void 0,void 0,(function*(){yield function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-mediaGalleryModal__right-copyButton");if(!e)return;const t=()=>i(this,void 0,void 0,(function*(){(0,o.copyTextToClipboard)(".infi-mediaGalleryModal__right-promptText"),(0,r.showSnackbar)("COPIED_TO_CLIPBOARD",3e3,"success")}));(0,a.manageEventListeners)("click",t,e)}))}(),yield function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-mediaGalleryModal__genIdCopyButton");if(!e)return;const t=()=>i(this,void 0,void 0,(function*(){(0,o.copyTextToClipboard)(".infi-mediaGalleryModal__genId"),(0,r.showSnackbar)("COPIED_TO_CLIPBOARD",3e3,"success")}));(0,a.manageEventListeners)("click",t,e)}))}(),yield function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-mediaGalleryModal__seedCopyButton");if(!e)return;const t=()=>i(this,void 0,void 0,(function*(){(0,o.copyTextToClipboard)(".infi-mediaGalleryModal__seed"),(0,r.showSnackbar)("COPIED_TO_CLIPBOARD",3e3,"success")}));(0,a.manageEventListeners)("click",t,e)}))}()}))};const r=n(9748),o=n(4419),a=n(7392)},3963:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleMediaItemDataVisibility=function(e){return n(this,void 0,void 0,(function*(){const t=document.querySelector(".infi-mediaGalleryModal__right");t&&(t.style.visibility=e?"visible":"hidden",t.style.opacity=e?"1":"0")}))}},719:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleSaveSelectedMediaItem=function(e,t){return i(this,void 0,void 0,(function*(){if(!e.length)return;let n,c=`infi-${e[0].id}`;if(t){const i=t.closest(".infi-mediaGalleryItem");if(!i)return;if(c=i.id,n=e.find((e=>e.id===c.split("infi-")[1])),!n)return;yield(0,r.setSelectedMediaItem)(n)}else n=e[0],yield(0,r.setSelectedMediaItem)(e[0]);document.querySelectorAll(".infi-mediaGalleryItem.selected").forEach((e=>{e.classList.remove("selected")}));const d=document.getElementById(c);null==d||d.classList.add("selected");const l=document.querySelector(".infi-mediaGalleryModal__right-image"),u=document.querySelector(".infi-mediaGalleryModal__right-date"),h=document.querySelector(".infi-mediaGalleryModal__right-prompt"),f=document.querySelector(".infi-mediaGalleryModal__right-promptText"),p=document.querySelector(".infi-mediaGalleryModal__right-copyButton"),m=document.querySelectorAll(".infi-mediaGalleryModal__right-ids"),y=document.querySelector(".infi-mediaGalleryModal__right-conversation");n&&l&&u&&h&&f&&p&&m&&y&&(l.alt=n.prompt?n.prompt.slice(0,50):"AI generated image",l.src=n.downloadURL,u.innerHTML=yield(0,o.unixToDate)(n.createTime),n.prompt?(h.style.display="block",f.style.display="block",p.style.display="flex",f.innerHTML=n.prompt):(h.style.display="none",f.style.display="none",p.style.display="none",f.innerHTML=""),m.forEach(((e,t)=>{const i=e.querySelector("strong");i&&(0!==t?n.seed?(e.style.display="flex",i.textContent=n.seed.toString()):(e.style.display="none",i.textContent=""):i.textContent=n.genId)})),y.href=(null==n?void 0:n.gpt_id)?`https://chatgpt.com/g/${n.gpt_id}/c/${n.convo_id}`:`https://chatgpt.com/c/${n.convo_id}`,t||setTimeout((()=>i(this,void 0,void 0,(function*(){yield(0,s.handleMediaItemDataVisibility)(!0)}))),700),yield(0,a.handleMediaItemContentEvents)())}))};const r=n(2997),o=n(4845),a=n(7919),s=n(3963)},5305:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initiateMediaGallery=function(){return i(this,void 0,void 0,(function*(){try{yield(0,r.toggleLoader)(!0);return yield(0,o.handleInsertMediaItems)()}catch(e){return[]}finally{yield(0,r.toggleLoader)(!1)}}))};const r=n(1089),o=n(296)},8370:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.showMediaGalleryModal=function(){return i(this,void 0,void 0,(function*(){(yield(0,c.getStore)())[o.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER];yield(0,c.setSelectedModalType)("MEDIA_GALLERY"),yield(0,c.setSelectedMediaItem)(void 0);const e=yield(0,a.getModalProps)("MEDIA_GALLERY");yield(0,r.handleOpenModal)(e),yield(0,s.handleMediaGalleryLogic)()}))};const r=n(4193),o=n(2948),a=n(177),s=n(3940),c=n(2997)},4193:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleOpenModal=function(e){return i(this,arguments,void 0,(function*({title:e,header:t,id:n,html:i,allowedIds:r=[],modalWidth:c=500,showBackButton:f=!1,closeLogic:p}){const m=(0,o.t)("isLTR")?"ltr":"rtl",y=`\n    <div id="${n}" class="modal">\n      <div class="modal-content">\n        <div class="modal-header">\n          <div class="infi-chatgpt-modal-title">\n            ${f?`<span>${(0,s.iconButton)({t:o.t,label:"GO_BACK",icon:a.default,className:"infi-chatgpt-modal-backButton",style:"rtl"===m?'{ transform: "rotate(180deg)"; }':""})}</span>`:""}\n            ${e?`<h2>${(0,o.t)(e)}</h2>`:null!=t?t:""}\n          </div>\n          \n          ${(0,s.iconButton)({t:o.t,label:"CLOSE",id:"close-modal",className:"close",icon:u.default})}\n        </div>\n      </div>\n    </div>\n  `;let v=document.getElementById(n),g=null==v?void 0:v.querySelector(".modal-content");if(v||g){if(!g)return;Array.from(g.children).forEach((t=>{if(t.classList.contains("modal-header")){const n=t.querySelector("h2");n&&e&&(n.innerHTML=(0,o.t)(e))}else g.removeChild(t)}))}else{if(document.body.insertAdjacentHTML("beforeend",y),v=document.getElementById(n),g=null==v?void 0:v.querySelector(".modal-content"),!v||!g)return;v.addEventListener("click",(e=>h({event:e,modalId:n,allowedIds:r,closeLogic:p})))}if(!v||!g)return;g.insertAdjacentHTML("beforeend",i),v.style.direction=m,v.setAttribute("dir",m),g.style.width=`${c}px`,yield(0,d.handleSettingsClick)(),f&&(yield(0,l.handleModalBackButtonClick)(n));const _=v.querySelectorAll("#close-modal"),b=_[_.length-1];null==b||b.focus()}))},t.handleCloseModal=h,t.handleCloseModalById=function(e,t){return i(this,void 0,void 0,(function*(){const n=document.getElementById(e);if(n){document.body.removeChild(n);const{previousModal:e}=yield(0,c.getStore)();yield(0,c.setSelectedModalType)(t||e)}}))};const o=n(6907),a=r(n(3126)),s=n(3720),c=n(2997),d=n(2812),l=n(3878),u=r(n(8873));function h(e){return i(this,arguments,void 0,(function*({event:e,modalId:t,allowedIds:n,closeLogic:i}){e.stopPropagation();const r=["close-modal",...n],o=e.target,a=o.closest("button#close-modal");if(!r.includes(o.id)&&!a)return;const s=document.getElementById(t);if(s&&(document.body.removeChild(s),i)){const{previousModal:e}=yield(0,c.getStore)();yield(0,c.setSelectedModalType)(e),yield i()}}))}},6830:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleMoveChatManageFoldersClick=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-chatgpt-manageFolders-button");if(!e)return;(0,o.manageEventListeners)("click",(()=>i(this,void 0,void 0,(function*(){yield(0,r.handleCloseModalById)("infi-chatgpt-moveChatModal"),yield(0,a.showManageFoldersModal)()}))),e)}))};const r=n(4193),o=n(7392),a=n(2170)},5174:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleMoveChatSubmit=function(e,t,n){return i(this,void 0,void 0,(function*(){e.preventDefault();try{if(yield(0,s.toggleLoader)(!0),!n)return void(yield(0,d.showPremiumRequiredModal)());const{selectedItems:e,folders:i}=yield(0,a.getStore)(),l=i.find((t=>t._id===e[0]));if(!l)return;if(!(yield(0,o.updateFolderChatIds)({folderId:e[0],chatIds:[t],gpts:l.gpts||[],operation:"add"})))throw Error();(0,c.showSnackbar)("ADD_FOLDER_ITEMS_SUCCESS",3e3),yield(0,r.handleCloseModalById)("infi-chatgpt-moveChatModal"),yield(0,a.setFolders)([])}catch(e){}finally{yield(0,s.toggleLoader)(!1)}}))};const r=n(4193),o=n(5982),a=n(2997),s=n(1089),c=n(9748),d=n(3238)},1963:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.searchMoveChatItem=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("search-input");e&&(e.addEventListener("input",(0,o.debounce)((()=>function(e){return i(this,void 0,void 0,(function*(){var t,n;try{yield(0,u.toggleLoader)(!0);const{selectedItems:o}=yield(0,d.getStore)(),f=document.querySelector("ul.infi-chatgpt-moveChatList");if(!f)throw Error();const p=null===(n=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.trim())||void 0===n?void 0:n.toLowerCase(),m=yield function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-chatgpt-form");return null==e?void 0:e.getAttribute("data-chat-id")}))}();if(!m)throw Error();const y=yield(0,s.getAllUserFolders)();if(!y)throw Error();yield(0,d.setFolders)(y);const v=y.filter((e=>e.name.toLowerCase().includes(p)&&!e.chatIds.includes(m)));f.innerHTML=v.map((e=>`<li id="${`infi-chatgpt-moveChatItem-${e._id}`}" class="infi-chatgpt-moveChatItem text-sm" tabindex="0" role="option" aria-selected="${o[0]===e._id?"true":"false"}">${e.name.length>a.CONSTANTS.LIST.MAX_LABEL_LENGTH?`${e.name.slice(0,a.CONSTANTS.LIST.MAX_LABEL_LENGTH)}...`:e.name} <span>(${e.chatIds.length} ${(0,r.t)("CHATS")}, ${e.totalSubfolders||0} ${(0,r.t)("SUBFOLDERS")}, ${(e.gpts||[]).length||0} ${(0,r.t)("GPTS")})</span>\n        <span class="infi-chatgpt-manageTabs-itemDate">\n        ${new Date(e.updatedAt||"").toLocaleDateString()}\n        </span></li>`)).join(""),yield(0,c.selectMoveChatItem)(),yield function(){return i(this,void 0,void 0,(function*(){const e=(yield(0,d.getStore)())[a.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER],t=document.getElementById("infi-chatgpt-form"),n=null==t?void 0:t.getAttribute("data-chat-id");t&&n&&(0,h.manageEventListeners)("submit",(t=>i(this,void 0,void 0,(function*(){return yield(0,l.handleMoveChatSubmit)(t,n,e)}))),t)}))}()}catch(e){}finally{yield(0,u.toggleLoader)(!1)}}))}(e)),a.CONSTANTS.DEBOUNCE_DELAY)),setTimeout((()=>{e.focus()}),0))}))};const r=n(6907),o=n(9454),a=n(2948),s=n(5982),c=n(43),d=n(2997),l=n(5174),u=n(1089),h=n(7392)},43:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.selectMoveChatItem=function(){return i(this,void 0,void 0,(function*(){const e=document.querySelectorAll('li.infi-chatgpt-moveChatItem[role="option"]');function t(t){return i(this,void 0,void 0,(function*(){e.forEach((e=>e.setAttribute("aria-selected","false"))),t.setAttribute("aria-selected","true");const n=t.id.split("moveChatItem-")[1];yield(0,r.setSelectedItems)([n]);const i=document.querySelector(".infi-chatgpt-manageTabs-submitButton");i&&(i.disabled=!1)}))}e.forEach((e=>{(0,o.manageEventListeners)("click",(()=>t(e)),e),(0,o.manageEventListeners)("keydown",(n=>i(this,void 0,void 0,(function*(){const r=n;switch(r.key){case"Enter":case" ":r.preventDefault(),yield t(e);break;case"ArrowDown":r.preventDefault(),yield function(e){return i(this,void 0,void 0,(function*(){const t=e.nextElementSibling;t&&t.focus()}))}(e);break;case"ArrowUp":r.preventDefault(),yield function(e){return i(this,void 0,void 0,(function*(){const t=e.previousElementSibling;t&&t.focus()}))}(e)}}))),e)}))}))};const r=n(2997),o=n(7392)},6347:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPinnedChatsObject=function(e){return i(this,void 0,void 0,(function*(){const t=yield(0,r.getConversationsByIds)(e),n={};return e.forEach((e=>{const i=t.find((t=>t.id===e));i&&(n[e]=i.title)})),n}))};const r=n(4702)},7363:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handlePinnedChatsTabClick=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-pinnedChats-accordion-header");if(!e)return;const t=localStorage.getItem(r.CONSTANTS.LOCAL_STORAGE.EXPAND_PINNED_CHATS);if(t){const n="true"===t||null===t;e.setAttribute("aria-expanded",String(n));const i=document.getElementById("infi-pinnedChats-accordion-content");i&&(i.style.display=n?"block":"none")}(0,o.manageEventListeners)("click",(function(t){t.preventDefault();const n="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",String(!n)),localStorage.setItem(r.CONSTANTS.LOCAL_STORAGE.EXPAND_PINNED_CHATS,String(!n));const i=document.getElementById("infi-pinnedChats-accordion-content");i&&(i.style.display=n?"none":"block")}),e)}))};const r=n(2948),o=n(7392)},2042:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initializePinnedChats=function(){return i(this,void 0,void 0,(function*(){const e=yield(0,h.getUserPinnedChats)();if(Array.isArray(e)){const t=yield(0,l.getPinnedChatsObject)(e);yield(0,w.setPinnedChats)(t),yield C(t)}}))},t.savePinnedChatsObject=function(){return i(this,void 0,void 0,(function*(){const{pinnedChats:e}=yield(0,w.getStore)();yield C(e),yield(0,g.setPinnedChatsTabVisibility)()}))},t.addPinnedChatItems=C;const o=n(6907),a=n(4193),s=n(2948),c=n(4702),d=n(5982),l=n(6347),u=n(1089),h=n(8137),f=n(177),p=n(43),m=n(1963),y=n(5174),v=n(1771),g=n(2765),_=n(430),b=n(7392),E=n(6830),w=n(2997),A=r(n(3079)),S=r(n(4424)),T=r(n(8870));function C(e){return i(this,void 0,void 0,(function*(){e=Object.fromEntries(Object.entries(e).reverse());const t=document.getElementById("infi-pinnedChats-accordion-chat-list");if(!t)return void setTimeout((()=>C(e)),100);const n=window.location.pathname.split("/").at(-1);t.innerHTML="";let r="";Object.entries(e).forEach((([e,t])=>{const i=[{id:`infi-chatMenuItem-${e}-unpin`,label:"UNPIN",icon:A.default},{id:`infi-chatMenuItem-${e}-export`,label:"EXPORT",icon:S.default},{id:`infi-chatMenuItem-${e}-move`,label:"MOVE",icon:T.default}];r=(0,_.pinnedChatItemInnerHTML)({t:o.t,id:e,label:t,active:n===e,items:i})+r})),t.innerHTML=r,Object.keys(e).forEach((e=>{const t=document.getElementById(`menuChatItem-${e}-button`);if(!t)return;(0,b.manageEventListeners)("click",(function(n){return i(this,void 0,void 0,(function*(){n.stopPropagation(),n.preventDefault(),yield function(){return i(this,void 0,void 0,(function*(){Array.from(document.querySelectorAll('[id^="infi-chatMenu-"]')).filter((e=>"none"!==e.style.display)).forEach((e=>{const t=e.closest("li"),n=null==t?void 0:t.querySelector('[id^="menuChatItem-"]');null==n||n.setAttribute("aria-expanded","false"),e.style.display="none"}))}))}();const r=document.getElementById(`infi-chatMenu-${e}`);r&&(yield function(e,t){return i(this,void 0,void 0,(function*(){function n(){const n=e.getBoundingClientRect();t.style.left=n.right-t.offsetWidth-18+"px",t.style.top=n.bottom-t.offsetHeight+"px"}n(),window.addEventListener("resize",n)}))}(t,r),t.setAttribute("aria-expanded",("flex"!==r.style.display).toString()),r.style.display="flex"===r.style.display?"none":"flex",yield function(e,t){return i(this,void 0,void 0,(function*(){const n=function(r){return i(this,void 0,void 0,(function*(){r.stopPropagation(),r.preventDefault(),t&&!t.contains(r.target)&&(e.setAttribute("aria-expanded","false"),t.style.display="none",document.removeEventListener("click",n))}))};document.addEventListener("click",n)}))}(t,r),yield function(e){return i(this,void 0,void 0,(function*(){const t=document.getElementById(`infi-chatMenu-${e}`),n=document.getElementById(`infi-chatMenuItem-${e}-unpin`);if(!t||!n)return;const r=function(n){return i(this,void 0,void 0,(function*(){n.stopPropagation(),n.preventDefault(),t.style.display="none";const i=yield(0,h.unpinChat)({chat:e});if(!Array.isArray(i))return;const r=yield(0,l.getPinnedChatsObject)(i);yield(0,w.setPinnedChats)(r),yield C(r),yield(0,g.setPinnedChatsTabVisibility)()}))};(0,b.manageEventListeners)("click",r,n)}))}(e),yield function(e){return i(this,void 0,void 0,(function*(){const t=document.getElementById(`infi-chatMenu-${e}`),n=document.getElementById(`infi-chatMenuItem-${e}-export`);if(!t||!n)return;const r=function(n){return i(this,void 0,void 0,(function*(){n.stopPropagation(),n.preventDefault(),t.style.display="none";const r=(yield(0,w.getStore)())[s.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER];yield(0,w.setSelectedModalType)("EXPORT_CHAT");const o=yield(0,f.getModalProps)("EXPORT_CHAT");yield(0,a.handleOpenModal)(o);const c=document.getElementById("infi-chatgpt-form");c&&c.addEventListener("submit",(t=>i(this,void 0,void 0,(function*(){return yield(0,v.handleExportChatSubmit)(t,e,r)}))))}))};(0,b.manageEventListeners)("click",r,n)}))}(e),yield function(e){return i(this,void 0,void 0,(function*(){const t=document.getElementById(`infi-chatMenu-${e}`),n=document.getElementById(`infi-chatMenuItem-${e}-move`);if(!t||!n)return;const r=function(n){return i(this,void 0,void 0,(function*(){n.stopPropagation(),n.preventDefault();try{yield(0,u.toggleLoader)(!0),t.style.display="none";const n=(yield(0,w.getStore)())[s.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER],r=yield(0,d.getAllUserFolders)();if(!r)throw Error();const o=[],l={};for(const t of r){if(t.chatIds.includes(e))continue;o.push(t);const n=yield(0,c.getConversationsByIds)(t.chatIds);l[t._id]=n.length||0}const h=()=>i(this,void 0,void 0,(function*(){yield(0,w.setSelectedItems)([])}));yield(0,w.setSelectedModalType)("MOVE_CHAT");const v=yield(0,f.getModalProps)("MOVE_CHAT",!1,h,{id:e,folders:o,chatAmounts:l});yield(0,a.handleOpenModal)(v);const g=document.getElementById("infi-chatgpt-form");if(!g)return;yield(0,E.handleMoveChatManageFoldersClick)(),yield(0,p.selectMoveChatItem)(),yield(0,m.searchMoveChatItem)(),(0,b.manageEventListeners)("submit",(t=>i(this,void 0,void 0,(function*(){return yield(0,y.handleMoveChatSubmit)(t,e,n)}))),g)}catch(e){}finally{yield(0,u.toggleLoader)(!1)}}))};(0,b.manageEventListeners)("click",r,n)}))}(e))}))}),t)}))}))}},2765:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.setPinnedChatsTabVisibility=function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-pinnedChats-accordion");if(!e)return;const{pinnedChats:t}=yield(0,r.getStore)();e.style.display=0===Object.keys(t).length?"none":"block"}))};const r=n(2997)},9070:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.changeFolderPinIconButtonUI=function(e,t,n){return i(this,void 0,void 0,(function*(){const i=e in n;t.setAttribute("aria-label",(0,o.t)(i?"UNPIN":"PIN")),t.innerHTML=i?s.default:a.default}))},t.changeFolderPinButtonUI=function(e,t,n){return i(this,void 0,void 0,(function*(){const i=e in n;t.setAttribute("aria-label",(0,o.t)(i?"UNPIN":"PIN")),t.innerHTML=`${i?s.default:a.default} ${(0,o.t)(i?"UNPIN_FOLDER":"PIN_FOLDER")}`}))};const o=n(6907),a=r(n(8026)),s=r(n(3079))},7131:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPinnedFoldersObject=function(e){return n(this,void 0,void 0,(function*(){const t={};return e.forEach((e=>{t[e._id]=e.name})),t}))}},4983:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handlePinnedFoldersTabClick=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-pinnedFolders-accordion-header");if(!e)return;const t=localStorage.getItem(r.CONSTANTS.LOCAL_STORAGE.EXPAND_PINNED_FOLDERS);if(t){const n="true"===t||null===t;e.setAttribute("aria-expanded",String(n));const i=document.getElementById("infi-pinnedFolders-accordion-content");i&&(i.style.display=n?"block":"none")}(0,o.manageEventListeners)("click",(function(t){t.preventDefault();const n="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",String(!n)),localStorage.setItem(r.CONSTANTS.LOCAL_STORAGE.EXPAND_PINNED_FOLDERS,String(!n));const i=document.getElementById("infi-pinnedFolders-accordion-content");i&&(i.style.display=n?"none":"block")}),e)}))};const r=n(2948),o=n(7392)},938:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initializePinnedFolders=function(){return i(this,void 0,void 0,(function*(){const e=yield(0,f.getPinnedFolders)();if(Array.isArray(e)){const t=yield(0,s.getPinnedFoldersObject)(e);yield(0,p.setPinnedFolders)(t),yield v(t)}}))},t.savePinnedFoldersObject=function(){return i(this,void 0,void 0,(function*(){const{pinnedFolders:e}=yield(0,p.getStore)();yield v(e),yield(0,l.setPinnedFoldersTabVisibility)()}))},t.addPinnedFolderItems=v;const o=n(6907),a=n(4193),s=n(7131),c=n(177),d=n(7392),l=n(4533),u=n(6994),h=n(5964),f=n(5982),p=n(2997),m=r(n(5784)),y=r(n(3079));function v(e){return i(this,void 0,void 0,(function*(){e=Object.fromEntries(Object.entries(e).reverse());const t=document.getElementById("infi-pinnedFolders-accordion-folder-list");if(!t)return void setTimeout((()=>v(e)),100);t.innerHTML="";let n="";Object.entries(e).forEach((([e,t])=>{const i=[{id:`infi-folderMenuItem-${e}-unpin`,label:"UNPIN",icon:y.default},{id:`infi-folderMenuItem-${e}-view`,label:"VIEW",icon:m.default}];n=(0,h.pinnedFolderItemInnerHTML)({t:o.t,id:e,label:t,items:i})+n})),t.innerHTML=n;t.querySelectorAll("li").forEach((e=>{(0,d.manageEventListeners)("click",(function(e){return i(this,void 0,void 0,(function*(){var t;e.stopPropagation(),e.preventDefault();const n=e.target.closest("li"),r=null==n?void 0:n.querySelector('div[id^="infi-folderMenu-"]'),o=null===(t=null==r?void 0:r.id)||void 0===t?void 0:t.split("infi-folderMenu-")[1];o&&(yield g(),yield function(e){return i(this,void 0,void 0,(function*(){yield _(e)}))}(o))}))}),e)})),Object.keys(e).forEach((e=>{const t=document.getElementById(`menuFolderItem-${e}-button`);if(!t)return;(0,d.manageEventListeners)("click",(function(n){return i(this,void 0,void 0,(function*(){n.stopPropagation(),n.preventDefault(),yield g();const r=document.getElementById(`infi-folderMenu-${e}`);r&&(yield function(e,t){return i(this,void 0,void 0,(function*(){function n(){const n=e.getBoundingClientRect();t.style.left=n.right-t.offsetWidth-18+"px",t.style.top=n.bottom-t.offsetHeight+"px"}n(),window.addEventListener("resize",n)}))}(t,r),t.setAttribute("aria-expanded",("flex"!==r.style.display).toString()),r.style.display="flex"===r.style.display?"none":"flex",yield function(e,t){return i(this,void 0,void 0,(function*(){const n=function(r){return i(this,void 0,void 0,(function*(){r.stopPropagation(),r.preventDefault(),t&&!t.contains(r.target)&&(e.setAttribute("aria-expanded","false"),t.style.display="none",document.removeEventListener("click",n))}))};document.addEventListener("click",n)}))}(t,r),yield function(e){return i(this,void 0,void 0,(function*(){const t=document.getElementById(`infi-folderMenu-${e}`),n=document.getElementById(`infi-folderMenuItem-${e}-unpin`);if(!t||!n)return;const r=function(n){return i(this,void 0,void 0,(function*(){n.stopPropagation(),n.preventDefault(),t.style.display="none";const i=yield(0,f.updatePinnedFolders)({folderId:e,pinned:!1});if(!(null==i?void 0:i.success))return;const r=yield(0,f.getPinnedFolders)();if(!Array.isArray(r))return;const o=yield(0,s.getPinnedFoldersObject)(r);yield(0,p.setPinnedFolders)(o),yield v(o),yield(0,l.setPinnedFoldersTabVisibility)()}))};(0,d.manageEventListeners)("click",r,n)}))}(e),yield function(e){return i(this,void 0,void 0,(function*(){const t=document.getElementById(`infi-folderMenu-${e}`),n=document.getElementById(`infi-folderMenuItem-${e}-view`);if(!t||!n)return;const r=function(n){return i(this,void 0,void 0,(function*(){n.stopPropagation(),n.preventDefault(),t.style.display="none",yield _(e)}))};(0,d.manageEventListeners)("click",r,n)}))}(e))}))}),t)}))}))}function g(){return i(this,void 0,void 0,(function*(){Array.from(document.querySelectorAll('[id^="infi-folderMenu-"]')).filter((e=>"none"!==e.style.display)).forEach((e=>{const t=e.closest("li"),n=null==t?void 0:t.querySelector('[id^="menuFolderItem-"]');null==n||n.setAttribute("aria-expanded","false"),e.style.display="none"}))}))}function _(e){return i(this,void 0,void 0,(function*(){const t=yield(0,f.getSubFolders)(e);if(!t)throw Error();yield(0,p.setSelectedModalType)("MANAGE_FOLDER"),yield(0,p.setPreviousModal)(t.parentFolder.parent?"MANAGE_FOLDER":"MANAGE_FOLDERS"),yield(0,p.setSelectedFolder)(t.parentFolder),yield(0,p.setFolders)(t.children),yield(0,a.handleCloseModalById)("infi-chatgpt-manageFoldersModal","MANAGE_FOLDER"),yield(0,a.handleCloseModalById)("infi-chatgpt-manageFolderModal","MANAGE_FOLDER");const n=yield(0,c.getModalProps)("MANAGE_FOLDER",!1,(()=>i(this,void 0,void 0,(function*(){yield(0,p.setSelectedFolder)(void 0)}))),{folder:t.parentFolder});yield(0,a.handleOpenModal)(n),setTimeout((()=>i(this,void 0,void 0,(function*(){yield(0,u.handleManageFolderLogic)()}))),150)}))}},1229:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.managePinFolderClick=function(){return i(this,void 0,void 0,(function*(){Array.from((0,s.getItemsById)("infi-chatgpt-manageTabs-item")).forEach((e=>{var t;const n=null===(t=e.parentNode)||void 0===t?void 0:t.querySelector(".infi-chatgpt-manageFolders-pinIcon"),s=(0,a.getItemId)(e,"infi-chatgpt-manageTabs-item-");if(!s)return;const y=n;if(!y)return;const v=e=>i(this,void 0,void 0,(function*(){try{e.stopPropagation();const t=e.target.closest("button");if(!t)throw Error();yield(0,c.toggleLoader)(!0);const n=t.getAttribute("aria-label")===(0,r.t)("PIN"),i=yield(0,f.updatePinnedFolders)({folderId:s,pinned:n});if(!(null==i?void 0:i.success))throw Error();const a=yield(0,f.getPinnedFolders)();if(!Array.isArray(a))throw Error();const p=yield(0,u.getPinnedFoldersObject)(a);yield(0,o.setPinnedFolders)(p),yield(0,l.addPinnedFolderItems)(p),yield(0,m.setPinnedFoldersTabVisibility)(),yield(0,h.changeFolderPinIconButtonUI)(s,t,p);const y=n?"PIN_FOLDER_SUCCESS":"UNPIN_FOLDER_SUCCESS";(0,d.showSnackbar)(y,3e3)}catch(e){}finally{yield(0,c.toggleLoader)(!1)}}));(0,p.manageEventListeners)("click",v,y),(0,p.manageEventListeners)("keydown",(e=>i(this,void 0,void 0,(function*(){const t=e;if("Enter"===t.key||" "===t.key)return e.preventDefault(),void(yield v(e))}))),y)}))}))};const r=n(6907),o=n(2997),a=n(1942),s=n(8794),c=n(1089),d=n(9748),l=n(938),u=n(7131),h=n(9070),f=n(5982),p=n(7392),m=n(4533)},4533:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.setPinnedFoldersTabVisibility=function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-pinnedFolders-accordion");if(!e)return;const{pinnedFolders:t}=yield(0,r.getStore)();e.style.display=0===Object.keys(t).length?"none":"block"}))};const r=n(2997)},8719:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.addEventListenersToPrompts=function(e){const t=document.querySelector(".infi-promptLibraryModal__promptLibraryContainer");if(!t)return;t.querySelectorAll(".infi-promptLibraryItem").forEach((t=>{const n=t.querySelector(".infi-promptLibraryItem-backdrop"),s=t.querySelector("#infi-promptLibraryItem__loaderContainer");if(s&&n){"flex"===window.getComputedStyle(s).getPropertyValue("display")&&(n.style.display="none",setTimeout((()=>{n.style.display="block",s.style.display="none"}),1e3))}(0,r.manageEventListeners)("click",(t=>i(this,void 0,void 0,(function*(){t.preventDefault(),t.stopPropagation();const n=t.target;yield(0,o.handleSaveSelectedPromptLibraryItem)(e,n),yield(0,a.handlePromptLibraryItemDataVisibility)(!0)}))),t),(0,r.manageEventListeners)("keydown",(t=>i(this,void 0,void 0,(function*(){const n=t,i=t.target;if("Enter"===n.key&&(n.preventDefault(),n.stopPropagation(),yield(0,o.handleSaveSelectedPromptLibraryItem)(e,i),yield(0,a.handlePromptLibraryItemDataVisibility)(!0)),"Tab"===n.key){n.preventDefault();const e=i.closest(".infi-promptLibraryItem"),t=i.querySelector(".infi-promptLibraryItem-backdrop");if(!e||!t)return;if(t.classList.remove("visible"),n.shiftKey){const e=Array.from(document.querySelectorAll(".infi-promptLibraryItem")),t=e.indexOf(i);if(t>0){const n=e[t-1],i=n.querySelector(".infi-promptLibraryItem-backdrop");if(!i)return;i.classList.add("visible"),n.focus()}else{const e=document.getElementById("prompCategory-select");null==e||e.focus()}}else{const t=Array.from(document.querySelectorAll(".infi-promptLibraryItem")),n=t.indexOf(e);if(n>-1&&n<t.length-1){t[n+1].focus()}}}}))),t)}))};const r=n(7392),o=n(7505),a=n(3505)},4497:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.handleInsertPromptLibraryItems=function(e,t){return i(this,void 0,void 0,(function*(){try{let n=[],f=0,p=0,m=!1;const y=document.querySelector(".infi-promptLibraryModal__promptLibraryContainer");if(!y)return[];const v=yield(0,a.getStore)(),{selectedPromptLibraryItem:g}=v,_=r(v,["selectedPromptLibraryItem"])[s.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER],b=()=>i(this,void 0,void 0,(function*(){var i;const r=[],a=Math.floor(n.length/s.CONSTANTS.PROMPT_LIBRARY.LIMIT+1);if(f===a)return;f=a;const l=yield(0,c.getPromptLibraryItems)({page:a,query:e,category:t}),p=null==l?void 0:l.data;if(Array.isArray(p)){n.push(...p);for(const e of p){const t=yield(0,u.promptLibraryItemHTML)({t:o.t,item:e,selectedItem:(null==g?void 0:g._id)===e._id});r.push(t)}y.innerHTML+=r.join(" "),_||(y.innerHTML+=(0,h.promptLibraryFreeHTML)(o.t,(null===(i=null==l?void 0:l.meta)||void 0===i?void 0:i.total)||0)),(0,d.addEventListenersToPrompts)(n)}})),E=()=>i(this,void 0,void 0,(function*(){const e=y.scrollTop;if(e>p&&!m){const e=y.scrollTop+y.clientHeight;y.scrollHeight-e<=30&&(m=!0,yield b(),m=!1)}p=e}));return y.innerHTML="",m=!0,yield b(),m=!1,_||(0,l.manageEventListeners)("scroll",E,y),n}catch(e){return[]}}))};const o=n(6907),a=n(2997),s=n(2948),c=n(6998),d=n(8719),l=n(7392),u=n(932),h=n(1437)},2026:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handlePromptLibraryCategoryChange=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-promptLibrary-search"),t=document.getElementById("infi-promptLibraryModal"),n=null==t?void 0:t.querySelector("#prompCategory-select"),d=document.querySelector(".infi-promptLibraryModal__promptLibraryContainer");if(!e||!n||!d)return;(0,a.manageEventListeners)("change",(function(t){return i(this,void 0,void 0,(function*(){var n;try{yield(0,o.toggleLoader)(!0);const i=e.value||"",a=(null===(n=t.target)||void 0===n?void 0:n.value)||"";if(!a)throw Error();const d=yield(0,s.handleInsertPromptLibraryItems)(i,a);yield(0,c.handleSaveSelectedPromptLibraryItem)(d),e.placeholder=(0,r.t)("SEARCH_PROMPTS_LIBRARY",{category:(0,r.t)(a.toUpperCase())})+"..."}catch(e){}finally{yield(0,o.toggleLoader)(!1)}}))}),n)}))};const r=n(6907),o=n(1089),a=n(7392),s=n(4497),c=n(7505)},1585:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handlePromptLibraryEmpty=function(e){return i(this,void 0,void 0,(function*(){if(e.length>0)return;const t=document.querySelector(".infi-promptLibraryModal__conatiner"),n=null==t?void 0:t.querySelector(".infi-promptLibraryModal__promptLibraryContainer");t&&n&&(n.style.height="100%",t.innerHTML=(0,o.promptLibraryEmptyHTML)(r.t))}))};const r=n(6907),o=n(986)},3505:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handlePromptLibraryItemDataVisibility=function(e){return n(this,void 0,void 0,(function*(){const t=document.querySelector(".infi-promptLibraryModal__right");t&&(t.style.visibility=e?"visible":"hidden",t.style.opacity=e?"1":"0")}))}},7268:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handlePromptLibraryItemEvents=function(){return i(this,void 0,void 0,(function*(){yield function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-promptLibraryModal__right-useButton");if(!e)return;const t=()=>i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-promptLibraryModal__right-promptText"),t=(null==e?void 0:e.textContent)||(null==e?void 0:e.innerText);if(!t)return;const n=yield(0,a.getModalId)();n&&(yield(0,u.handleCloseModalById)(n),(0,l.insertPrompt)(t))}));(0,h.manageEventListeners)("click",t,e)}))}(),yield function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-promptLibraryModal__right-saveButton");if(!e)return;const t=()=>i(this,void 0,void 0,(function*(){const e=yield(0,d.getModalProps)("PROMPT_LIBRARY_SAVE_PROMPT");yield(0,u.handleOpenModal)(e);const t=document.getElementById("infi-chatgpt__promptLibraryConfirmSave"),n=null==t?void 0:t.querySelector("#infi-chatgpt__promptLibraryConfirmSave-confirmButton");n&&(0,h.manageEventListeners)("click",f,n)}));(0,h.manageEventListeners)("click",t,e)}))}()}))};const r=n(8860),o=n(2997),a=n(3534),s=n(1089),c=n(9748),d=n(177),l=n(86),u=n(4193),h=n(7392);function f(){return i(this,void 0,void 0,(function*(){try{yield(0,s.toggleLoader)(!0);const{selectedPromptLibraryItem:e}=yield(0,o.getStore)();if(!(null==e?void 0:e._id))return;const{name:t,content:n}=e,i=yield(0,r.createPrompt)({promptName:t,promptContent:n,isFromPromptLibrary:!0});if(null==i?void 0:i.max)throw(0,c.showSnackbar)("MAX_PROMPTS",3e3,"error"),Error();if(null==i?void 0:i.max_free)throw(0,c.showSnackbar)("MAX_FREE_PROMPTS",3e3,"error"),Error();if(!Array.isArray(i))throw Error();yield(0,o.setPrompts)(i),(0,c.showSnackbar)("PROMPT_SAVE_SUCCESS",3e3,"success"),yield(0,u.handleCloseModalById)("infi-chatgpt__promptLibraryConfirmSave","PROMPT_LIBRARY")}catch(e){}finally{yield(0,s.toggleLoader)(!1)}}))}},990:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handlePromptLibraryLogic=function(){return i(this,void 0,void 0,(function*(){const e=yield(0,r.initiatePromptLibrary)();yield(0,c.handleSaveSelectedPromptLibraryItem)(e),yield(0,a.handlePromptLibrarySearch)(),yield(0,s.handlePromptLibraryCategoryChange)(),yield(0,o.handlePromptLibraryEmpty)(e)}))};const r=n(7889),o=n(1585),a=n(2706),s=n(2026),c=n(7505)},2706:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handlePromptLibrarySearch=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-promptLibrary-search"),t=document.getElementById("infi-promptLibraryModal"),n=null==t?void 0:t.querySelector("#prompCategory-select");if(!e||!n)return;e.focus();const d=(0,r.debounce)((e=>i(this,void 0,void 0,(function*(){const t=e.target,{value:i}=t,{value:r}=n,o=i.trim(),a=yield(0,s.handleInsertPromptLibraryItems)(o,r);yield(0,c.handleSaveSelectedPromptLibraryItem)(a)}))),o.CONSTANTS.DEBOUNCE_DELAY);(0,a.manageEventListeners)("input",d,e)}))};const r=n(9454),o=n(2948),a=n(7392),s=n(4497),c=n(7505)},7505:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleSaveSelectedPromptLibraryItem=function(e,t){return i(this,void 0,void 0,(function*(){if(!e.length)return;let n,d=`infi-${e[0]._id}`;if(t){const i=t.closest(".infi-promptLibraryItem");if(!i)return;if(d=i.id,n=e.find((e=>e._id===d.split("infi-")[1])),!n)return;yield(0,a.setSelectedPromptLibraryItem)(n)}else n=e[0],yield(0,a.setSelectedPromptLibraryItem)(e[0]);document.querySelectorAll(".infi-promptLibraryItem.selected").forEach((e=>{e.classList.remove("selected")}));const l=document.getElementById(d);null==l||l.classList.add("selected");const u=document.querySelector(".infi-promptLibraryModal__right-name"),h=document.querySelector(".infi-promptLibraryModal__right-author"),f=document.querySelector(".infi-promptLibraryModal__right-date"),p=document.querySelector(".infi-promptLibraryModal__right-category"),m=document.querySelector(".infi-promptLibraryModal__right-promptText");n&&u&&h&&f&&p&&m&&(u.innerHTML=n.name,n.author?(h.innerHTML=n.author+" •",h.style.display="initial"):h.style.display="none",f.innerHTML=yield(0,o.formatDate)(n.created_at),p.innerHTML=`${(0,r.t)("CATEGORY")}: ${(0,r.t)(n.category.toUpperCase().replace(" ","_"))}`,m.innerHTML=n.content,t||setTimeout((()=>i(this,void 0,void 0,(function*(){yield(0,c.handlePromptLibraryItemDataVisibility)(!0)}))),700),yield(0,s.handlePromptLibraryItemEvents)())}))};const r=n(6907),o=n(1805),a=n(2997),s=n(7268),c=n(3505)},7889:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initiatePromptLibrary=function(){return i(this,void 0,void 0,(function*(){try{yield(0,r.toggleLoader)(!0);return yield(0,o.handleInsertPromptLibraryItems)()}catch(e){return[]}finally{yield(0,r.toggleLoader)(!1)}}))};const r=n(1089),o=n(4497)},8014:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.showPromptLibraryModal=function(){return i(this,void 0,void 0,(function*(){yield(0,s.setSelectedModalType)("PROMPT_LIBRARY"),yield(0,s.setSelectedPromptLibraryItem)(void 0);const e=yield(0,o.getModalProps)("PROMPT_LIBRARY");yield(0,r.handleOpenModal)(e),yield(0,a.handlePromptLibraryLogic)()}))};const r=n(4193),o=n(177),a=n(990),s=n(2997)},3071:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleOpenPromptValuesModal=function(e){return i(this,void 0,void 0,(function*(){const t=(0,c.getDynamicValues)(e.content);yield(0,o.setSelectedModalType)("PROMPT_DYNAMIC_VALUES");const n=yield(0,a.getModalProps)("PROMPT_DYNAMIC_VALUES",!1,void 0,{dynamicValues:t});yield(0,r.handleOpenModal)(n),(0,s.handlePromptValuesForm)(e)}))};const r=n(4193),o=n(2997),a=n(177),s=n(8674),c=n(5401)},8674:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handlePromptValuesForm=function(e){const t=document.querySelector("div#infi-promptDynamicValuesModal form#infi-chatgpt-form"),n=Array.from(document.querySelectorAll(".promptDynamicValues-input"));if(!t||!n.length)return;const c={};n.forEach((e=>{(0,a.manageEventListeners)("input",(function(e){var t;const n=e.target,i=n.parentNode,r=null===(t=null==i?void 0:i.querySelector("span"))||void 0===t?void 0:t.id;r&&(c[r]=n.value.trim())}),e)}));(0,a.manageEventListeners)("submit",(t=>i(this,void 0,void 0,(function*(){t.preventDefault();const n=(0,s.replaceDynamicValues)(e.content,c);(0,o.insertPrompt)(n),yield(0,r.handleCloseModalById)("infi-promptDynamicValuesModal")}))),t)};const r=n(4193),o=n(86),a=n(7392),s=n(4793)},7579:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.extractMessages=void 0,t.getListResults=f,t.handleSearchInput=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("search-input"),t=document.getElementById("search-results");e&&(setTimeout((()=>{e.focus()}),0),e.addEventListener("input",(0,d.debounce)(p,a.CONSTANTS.DEBOUNCE_DELAY)),t.innerHTML=`<div class="placeholder-message">${(0,r.t)("START_TYPING_SEE_RESULTS")} 🕵️</div>`)}))},t.handleSearchHistoryInputChange=p,t.removeSearchResultsScrollEventListener=m;const r=n(6907),o=n(2997),a=n(2948),s=n(4702),c=n(9680),d=n(9454);let l=[],u=0,h=null;function f(e){return i(this,void 0,void 0,(function*(){if(!e)return;u=0;const t=document.getElementById("search-results"),n=document.getElementById("infi-toggle-switch");if(!t||!n)return;const i=n.checked,f=(yield(0,o.getStore)())[a.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER];l=(yield(0,s.searchInIndexedDB)({searchString:e,exactMatch:i}))||[],m(t),h=()=>{const{scrollTop:e,clientHeight:n,scrollHeight:i}=t;e+n>=i-80&&v()};let p=0;const y=yield(0,c.getTotalMessages)(l);t.innerHTML="";const v=()=>{const n=u,o=l.slice(u,u+5);u+=5;let s=o.map(((t,o)=>{const s=(0,d.highlightTitle)(t.title,e,i)||(0,r.t)("NEW_CHAT"),c=(0,d.getHighlightedMessages)(t.messages,e,58,i),l=t.update_time,u=`accordion-${n+o+1}`,h=`accordion-content-${n+o+1}`;if(!f){if(p>=a.CONSTANTS.PLANS.FREE.MAX_SEARCH_RESULTS)return null;c.splice(a.CONSTANTS.PLANS.FREE.MAX_SEARCH_RESULTS-p),p+=c.length}return`\n          <div class="accordion-item">\n            <div class="accordion-header-container">\n              <a href="https://chatgpt.com/c/${t.id}" class="search-result-header">\n                <div class="search-result-title">${s}</div>\n                <span class="search-result-date">\n                  ${l?`(${new Date(l).toLocaleDateString()})`:""}\n                </span>\n              </a>\n              <button\n                id="${u}"\n                class="accordion-toggle"\n                aria-expanded="true"\n                aria-controls="${h}"\n                aria-label="Toggle Accordion">\n                <svg width="24px" height="24px" viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <g id="infi-chevron-icon">\n                    <path d="M6 15L12 9L18 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n                  </g>\n                </svg>\n              </button>\n            </div>\n            <div\n              id="${h}"\n              class="accordion-content"\n              role="region"\n              aria-labelledby="${u}"\n              style="display: block;">\n              ${c.length>0?c.map((e=>{const n=(0,r.t)("user"===e.role?"Q":"A"),i="user"===e.role?"user-role":"assistant-role";return`\n                          <a href="https://chatgpt.com/c/${t.id}?mid=${e.id}" class="search-result-message ${i}">\n                            <div class="message-content">\n                              <div class="message-text-container">\n                                <div class="message-content-text">${e.content}</div>\n                                <span class="message-role">${n}</span>\n                              </div>\n                            </div>\n                          </a>\n                        `})).join(""):""}\n            </div>\n          </div>\n        `})).join("");!f&&y>a.CONSTANTS.PLANS.FREE.MAX_SEARCH_RESULTS&&(s+=`\n      <div class="infi-chatgpt-searchHistory-upgrade" role="alert">\n        <p class="emoji">${(0,r.t)("SEARCH_HISTORY_UPGRADE_TEXT1",{strong:"strong"})}</p>\n\n        <p>${(0,r.t)("SEARCH_HISTORY_UPGRADE_TEXT2",{strong:"strong",amount:y.toLocaleString("he-IL")})}</p>\n\n        <p>${(0,r.t)("SEARCH_HISTORY_UPGRADE_TEXT3")}</p>\n\n        <p>${(0,r.t)("SEARCH_HISTORY_UPGRADE_TEXT4",{pricingLink:"a",pricingAttributes:'href="https://www.ai-toolbox.co/pricing" target="_blank" aria-label="Learn more about our Premium Plan"'})}</p>\n        \n        <p>${(0,r.t)("SEARCH_HISTORY_UPGRADE_TEXT5")}</p>\n      </div>\n      `),t.insertAdjacentHTML("beforeend",s),function(e){const t=document.querySelectorAll(".accordion-toggle");Array.from(t).slice(e).forEach((e=>{const t=function(t){var n;t.preventDefault();const i="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",String(!i));const r=null===(n=e.closest(".accordion-item"))||void 0===n?void 0:n.querySelector(".accordion-content");r&&(r.style.display=i?"none":"block")};e.addEventListener("click",t)}))}(n)};v(),f&&t.addEventListener("scroll",h)}))}function p(){return i(this,void 0,void 0,(function*(){var e,t;const n=document.getElementById("search-input"),i=document.getElementById("search-results");if(!i)return;const o=null===(t=null===(e=null==n?void 0:n.value)||void 0===e?void 0:e.trim())||void 0===t?void 0:t.toLowerCase();if(!o)return m(i),void(i.innerHTML=`<div class="placeholder-message">${(0,r.t)("START_TYPING_SEE_RESULTS")} 🕵️</div>`);i.innerHTML="",yield f(o)}))}function m(e){h&&e.removeEventListener("scroll",h)}t.extractMessages=e=>{var t,n,i,r,o,a,s,c,l,u,h,f,p,m,y,v,g,_,b,E,w,A,S,T,C;const M=[];for(const L in e){const P=e[L];if((null===(i=null===(n=null===(t=null==P?void 0:P.message)||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===i?void 0:i.length)>0&&"text"===(null===(o=null===(r=null==P?void 0:P.message)||void 0===r?void 0:r.content)||void 0===o?void 0:o.content_type)&&"bio"!==(null===(a=null==P?void 0:P.message)||void 0===a?void 0:a.recipient)){const{role:e}=P.message.author,t=P.message.content.parts[0];"user"!==e&&"assistant"!==e||M.push({id:P.message.id,role:e,content:(0,d.cleanText)(t)})}else if((null===(l=null===(c=null===(s=null==P?void 0:P.message)||void 0===s?void 0:s.content)||void 0===c?void 0:c.parts)||void 0===l?void 0:l.length)>0&&"multimodal_text"===(null===(h=null===(u=null==P?void 0:P.message)||void 0===u?void 0:u.content)||void 0===h?void 0:h.content_type)&&"all"===(null===(f=null==P?void 0:P.message)||void 0===f?void 0:f.recipient)){const{role:e}=P.message.author;if("user"===e){const t=null!==(v=null===(y=null===(m=null===(p=null==P?void 0:P.message)||void 0===p?void 0:p.content)||void 0===m?void 0:m.parts[1])||void 0===y?void 0:y.text)&&void 0!==v?v:null;if(!t)continue;M.push({id:P.message.id,role:e,content:(0,d.cleanText)(t)})}else if("assistant"===e){const t=null!==(E=null===(b=null===(_=null===(g=null==P?void 0:P.message)||void 0===g?void 0:g.content)||void 0===_?void 0:_.parts[0])||void 0===b?void 0:b.text)&&void 0!==E?E:null;if(!t)continue;const n=null!==(C=null===(T=null===(S=null===(A=null===(w=null==P?void 0:P.message)||void 0===w?void 0:w.content)||void 0===A?void 0:A.parts[1])||void 0===S?void 0:S.asset_pointer)||void 0===T?void 0:T.split("//")[1])&&void 0!==C?C:"";M.push({id:P.message.id,role:e,content:(0,d.cleanText)(t),filePointer:n})}}}return M}},649:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleManageSettings=function(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".modal"),t=document.getElementById("infi-chatgpt-settingsModal"),n=null==t?void 0:t.querySelector("#language-select");if(!e||!t||!n)return;(0,l.manageEventListeners)("change",(function(t){return i(this,void 0,void 0,(function*(){var n;const i=(null===(n=t.target)||void 0===n?void 0:n.value)||"";if(!i)return;yield chrome.storage.local.set({lang:i});const l=yield chrome.runtime.sendMessage({action:o.CONSTANTS.ACTIONS.CHANGE_LANGUAGE,data:{lanugage:i}});(0,a.setTranslations)(l),yield(0,c.showSettingsModal)(null);const h=l.isLTR?"ltr":"rtl";e.style.direction=h,e.setAttribute("dir",h),d.globalCounterUpdate&&(0,d.globalCounterUpdate)(),yield(0,s.setInjectedTabs)(!1),(0,r.injectSideTabs)(),(0,u.changeDefaultPlaceholder)()}))}),n)}))};const r=n(1877),o=n(2948),a=n(6907),s=n(2997),c=n(3692),d=n(8032),l=n(7392),u=n(5867)},2812:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleSettingsClick=function(){return i(this,void 0,void 0,(function*(){const e=document.getElementById("infi-chatgpt-settings-button");e&&(0,o.manageEventListeners)("click",r.showSettingsModal,e)}))};const r=n(3692),o=n(7392)},3692:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.showSettingsModal=function(e){return i(this,void 0,void 0,(function*(){null==e||e.stopPropagation();const{selectedModalType:t}=yield(0,a.getStore)(),n=yield(0,r.getModalId)();"SETTINGS"!==t&&(yield(0,a.setPreviousModal)(t)),n&&(yield(0,c.handleCloseModalById)(n,"SETTINGS"));const i=yield(0,s.getModalProps)("SETTINGS");yield(0,c.handleOpenModal)(i),yield(0,o.handleManageSettings)()}))};const r=n(3534),o=n(649),a=n(2997),s=n(177),c=n(4193)},6040:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.syncConversations=void 0,t.fetchWithRetry=p;const r=n(6907),o=n(7579),a=n(2948),s=n(2997),c=n(9454),d=n(5147),l=n(4702),u=a.CONSTANTS.API.FETCH_CONVERSATION.RETRIES,h=a.CONSTANTS.API.FETCH_CONVERSATION.INITIAL_DELAY;function f(e){e.textContent=(0,r.t)("SYNCED"),(0,c.setCustomElementAttribute)(e,"data-text-key","SYNCED")}function p(e,t,n){return i(this,void 0,void 0,(function*(){for(let i=1;i<=t;i++)try{const t=yield(0,d.fetchMessages)(e);if(t)return t}catch(e){if(!(i<t))throw e;yield new Promise((e=>setTimeout(e,n))),n*=2}return null}))}function m(e,t,n){const i=(t/n*100).toFixed(0);e.textContent=`${(0,r.t)("SYNCING")} ${t} / ${n} (${i}%) 🕵️`,(0,c.setCustomElementAttribute)(e,"data-text-key","SYNCING")}t.syncConversations=(...e)=>i(void 0,[...e],void 0,(function*(e=5,n=!0){Array.from(document.querySelectorAll("#sync-progress")).forEach((a=>i(void 0,void 0,void 0,(function*(){var y;if(!a)return e>0?void setTimeout((()=>(0,t.syncConversations)(e-1)),500):void 0;try{n&&(a.textContent=(0,r.t)("FETCHING_HISTORY"),(0,c.setCustomElementAttribute)(a,"data-text-key","FETCHING_HISTORY"));const e=yield(0,d.fetchAllConversations)(),v=(null==e?void 0:e.items)||[],g=null!==(y=null==e?void 0:e.total)&&void 0!==y?y:0;if(0===g)return void f(a);setTimeout((()=>{if(a.textContent===(0,r.t)("FETCHING_HISTORY"))return(0,l.emptyDatabase)(),void(0,t.syncConversations)()}),6e4);let _=0;const b=yield(0,s.getAccountId)(),E=v.map((e=>i(void 0,void 0,void 0,(function*(){const t=yield(0,l.getConversation)(e.id);if(t&&e.update_time===t.update_time)return _++,n&&m(a,_,g),{conversation:null,images:[]};const r=yield p(e.id,u,h);if(!r||!r.mapping)return{conversation:null,images:[]};const c=(0,o.extractMessages)(r.mapping),d=yield function(e,t){return i(this,void 0,void 0,(function*(){var n,i,r;const o=[],a=yield(0,s.getAccountId)(),c=e.mapping,d=null!==(n=e.gizmo_id)&&void 0!==n?n:null;for(const e in c){const n=c[e];if("multimodal_text"===(null===(r=null===(i=n.message)||void 0===i?void 0:i.content)||void 0===r?void 0:r.content_type)){n.message.content.parts.forEach((e=>{var i,r;if("image_asset_pointer"===e.content_type&&(null===(r=null===(i=null==e?void 0:e.metadata)||void 0===i?void 0:i.dalle)||void 0===r?void 0:r.gen_id)){const i={id:e.asset_pointer.replace(/^file-service:\/\//,"").replace(/^sediment:\/\//,""),convo_id:t,createTime:n.message.create_time||Date.now(),prompt:e.metadata.dalle.prompt,genId:e.metadata.dalle.gen_id,seed:e.metadata.dalle.seed,account_id:a};d&&(i.gpt_id=d),o.push(i)}}))}}return o}))}(r,e.id);return _++,n&&m(a,_,g),{conversation:{id:e.id,update_time:e.update_time,messages:c,is_archived:e.is_archived||!1,title:e.title,account_id:b},images:d}})))),w=yield Promise.all(E),A=w.map((e=>e.conversation)).filter(Boolean),S=w.flatMap((e=>e.images));A.length>0&&(0,l.saveConversations)(A),S.length>0&&(0,l.saveImages)(S),f(a)}catch(e){}}))))}))},5498:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.showChainList=function(e){return i(this,void 0,void 0,(function*(){var t,n;const l=yield(0,o.getStore)(),{chains:u}=l;(0,c.removeList)();const h=[];let f=0;for(const i of u){if(8==f)break;(null===(n=null===(t=null==i?void 0:i.name)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes(e.toLowerCase()))&&(h.push(i),f++)}const p=document.createElement("ul");if(p.id="infi-chatgpt-prompt-list",0===u.length){const e=(0,d.createEmptyListElement)((0,r.t)("EMPTY_LIST_TEXT"));p.appendChild(e)}else if(0===h.length){const e=(0,d.createEmptyListElement)((0,r.t)("LIST_NO_RESULTS_FOUND"));p.appendChild(e)}else h.forEach(((e,t)=>{const{_id:n,name:r,prompts:o}=e,d=function(e,t,n,i,r){const o=document.createElement("li");o.classList.add("infi-chatgpt-prompt-listItem"),i<r-1&&o.classList.add("infi-chatgpt-prompt-listItem-separator");return o.innerHTML=`\n    <div class="infi-chatgpt-prompt-title">${t}</div>\n    <div class="infi-chatgpt-prompt-preview">${n.length>100?`${n.slice(0,100)}...`:n}</div>\n  `,o.tabIndex=0,o.ariaLabel=t,o.setAttribute("prompt-id",e),o.setAttribute("is-chain","true"),o}(n,r,o[0],t,h.length);d.addEventListener("mouseenter",(()=>{a.promptListState.selectedIndex=t,(0,c.updateSelection)(p.querySelectorAll("li"))})),d.addEventListener("mouseout",(()=>{(0,c.updateSelection)(p.querySelectorAll("li"))})),d.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield(0,s.handleChainClick)(e)})))),p.appendChild(d)}));!function(e){const t=document.querySelector("#prompt-textarea").getBoundingClientRect();e.style.left=`${t.left}px`,e.style.bottom=window.innerHeight-t.top+"px",e.style.width=`${t.width}px`,document.body.appendChild(e)}(p),a.promptListState.selectedIndex=-1,a.promptListState.isPromptListVisible=!0}))};const r=n(6907),o=n(2997),a=n(86),s=n(5270),c=n(8998),d=n(6755)},5867:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeDefaultPlaceholder=function(){var e;const t="infi-prompts-placeholder-style",n=(0,i.t)("CHATGPT_PROMPT_PLACEHOLDER"),r=(0,i.t)("isLTR")?"ltr":"rtl",o=`\n    p.placeholder[data-placeholder]::after {\n      content: "${n}" !important;\n    }\n    p.placeholder[data-placeholder] {\n      direction: ${r} !important;\n    }\n  `;let a=document.getElementById(t);if(a){if(null===(e=null==a?void 0:a.textContent)||void 0===e?void 0:e.includes(`content: "${n}"`))return;a.textContent=o}else{const e=document.createElement("style");e.id=t,e.textContent=o,document.head.appendChild(e)}};const i=n(6907)},5270:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.manageEventListeners=function(e,t,n,i){i?n.addEventListener(e,t):n.removeEventListener(e,t)},t.handlePromptItemClick=function(e){return i(this,void 0,void 0,(function*(){(0,a.checkHasDynamicValues)(e.content)?yield(0,c.handleOpenPromptValuesModal)(e):(0,o.insertPrompt)(e.content)}))},t.handleChainClick=function(e){return i(this,void 0,void 0,(function*(){for(const t of e.prompts){if((0,a.checkHasDynamicValues)(t))return void(yield(0,s.handleOpenChainValuesModal)(e.prompts))}const t={};e.prompts.forEach(((e,n)=>{t[n+1]=e})),yield(0,r.setChainData)({textItems:t,nextItem:2}),(0,o.insertAndSendPrompt)(e.prompts[0])}))};const r=n(2997),o=n(8998),a=n(7083),s=n(6385),c=n(3071)},8998:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.removeList=m,t.updateSelection=y,t.showList=v,t.insertPrompt=g,t.handleEmptyItem=_,t.insertAndSendPrompt=function(e){var t;g(e);const n=null===(t=document.querySelector("#prompt-textarea"))||void 0===t?void 0:t.closest("form");if(!n)return;window.__promptObserver&&window.__promptObserver.disconnect();const i=new MutationObserver((()=>{const e=n.querySelector('button[data-testid="send-button"]');e&&(e.click(),i.disconnect(),clearTimeout(r),window.__promptObserver=void 0)}));i.observe(n,{childList:!0,subtree:!0});const r=setTimeout((()=>{i.disconnect(),window.__promptObserver=void 0}),1e3);window.__promptObserver=i},t.handleListItemKeyDown=b,t.addPromptSuggester=function(){const e=(0,p.getTextarea)();if(!e)return;(0,l.manageEventListeners)("paste",(e=>{var t;const n=(null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text"))||"";if(!n)return;const i=n.trim();s.promptListState.isTextPasted=i.startsWith("//")||i.startsWith("..")}),e,!0);(0,l.manageEventListeners)("keyup",(e=>{var t;const n=e;if(((null===(t=e.target.children[0])||void 0===t?void 0:t.innerText)||"").trim().length||(s.promptListState.isTextPasted=!1),s.promptListState.isTextPasted)return void m();const i=(0,p.getInputText)(),r=n.key;(i.startsWith("//")||i.startsWith(".."))&&"ArrowUp"!==r&&"ArrowDown"!==r&&"Escape"!==r?i.startsWith("//")?v("prompts",i.slice(2)):v("chains",i.slice(2)):i.startsWith("//")||i.startsWith("..")||!s.promptListState.isPromptListVisible||m()}),e,!0),(0,l.manageEventListeners)("keydown",E,e,!0)};const r=n(5498),o=n(2997),a=n(8925),s=n(86),c=n(9454),d=n(5270),l=n(7392),u=n(9482),h=n(7083),f=n(3071),p=n(6755);function m(){const e=document.querySelector("#infi-chatgpt-prompt-list");e&&e.remove(),s.promptListState.selectedIndex=-1,s.promptListState.isPromptListVisible=!1}function y(e){e.forEach(((e,t)=>{const n=e.querySelector(".infi-chatgpt-prompt-preview");t===s.promptListState.selectedIndex?(e.scrollIntoView({block:"nearest"}),e.classList.add("infi-chatgpt-prompt-listItem-selected"),n.classList.add("infi-chatgpt-prompt-preview-selected")):(e.classList.remove("infi-chatgpt-prompt-listItem-selected"),n.classList.remove("infi-chatgpt-prompt-preview-selected"))}))}function v(e){return i(this,arguments,void 0,(function*(e,t=""){"prompts"===e?yield(0,a.showPromptList)(t):yield(0,r.showChainList)(t),function(){const e=t=>{const n=t.target,i=n.closest("ul#infi-chatgpt-prompt-list"),r=n.closest('form[data-type="unified-composer"]');i||r||(m(),document.removeEventListener("click",e))};document.addEventListener("click",e)}()}))}function g(e){const t=(0,p.getTextarea)();if(!t)return;const n=e.replace(/^\/\/\s*/,""),i=(0,c.convertNewLinesToEmptyPTags)(n);t.innerHTML=i,t.focus();const r=document.createRange(),o=window.getSelection();o&&(t.lastChild?r.setStartAfter(t.lastChild):r.selectNodeContents(t),r.collapse(!0),o.removeAllRanges(),o.addRange(r)),t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),m()}function _(){return i(this,void 0,void 0,(function*(){m(),(0,p.cleanInputText)(),yield(0,u.showManagePromptsModal)()}))}function b(e){return i(this,void 0,void 0,(function*(){const t=e.getAttribute("prompt-id"),n=!!e.getAttribute("is-chain"),{prompts:i,chains:r}=yield(0,o.getStore)();if(n){const e=r.find((e=>e._id===t));if(!e)return;yield(0,d.handleChainClick)(e)}else{const e=i.find((e=>e._id===t));if(!e)return;(0,h.checkHasDynamicValues)(e.content)?yield(0,f.handleOpenPromptValuesModal)(e):g(e.content)}}))}function E(e){return i(this,void 0,void 0,(function*(){const t=e;if(!s.promptListState.isPromptListVisible)return;const n=document.querySelector("#infi-chatgpt-prompt-list");if(!n)return;const i=(0,p.getInputText)();i.startsWith("//")||i.startsWith("..")||m();const r=n.querySelectorAll("li");switch(t.key){case"ArrowUp":t.preventDefault(),s.promptListState.selectedIndex=(s.promptListState.selectedIndex-1+r.length)%r.length,y(r);break;case"ArrowDown":t.preventDefault(),s.promptListState.selectedIndex=(s.promptListState.selectedIndex+1)%r.length,y(r);break;case"Escape":t.preventDefault(),m();break;case"Enter":case" ":t.preventDefault(),t.stopPropagation();if(n.querySelector(".infi-chatgpt-prompt-listItem-empty"))yield _();else if(-1!==s.promptListState.selectedIndex){const e=r[s.promptListState.selectedIndex];if(e){e.getAttribute("prompt-id")&&(yield b(e))}}break;case"Tab":if(-1!==s.promptListState.selectedIndex){t.preventDefault();const e=r[s.promptListState.selectedIndex];if(e){e.getAttribute("prompt-id")&&(yield b(e))}}}}))}},86:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.promptListState=void 0,r(n(5498),t),r(n(8925),t),r(n(8998),t),t.promptListState={selectedIndex:-1,isPromptListVisible:!1,isTextPasted:!1}},8925:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.showPromptList=function(e){return i(this,void 0,void 0,(function*(){var t,n;const l=yield(0,o.getStore)(),{prompts:u}=l;(0,c.removeList)();const h=[];let f=0;for(const i of u){if(8==f)break;(null===(n=null===(t=null==i?void 0:i.name)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes(e.toLowerCase()))&&(h.push(i),f++)}const p=document.createElement("ul");if(p.id="infi-chatgpt-prompt-list",0===u.length){const e=(0,d.createEmptyListElement)((0,r.t)("EMPTY_LIST_TEXT"));p.appendChild(e)}else if(0===h.length){const e=(0,d.createEmptyListElement)((0,r.t)("LIST_NO_RESULTS_FOUND"));p.appendChild(e)}else h.forEach(((e,t)=>{const{_id:n,name:r,content:o}=e,d=function(e,t,n,i,r){const o=document.createElement("li");o.classList.add("infi-chatgpt-prompt-listItem"),i<r-1?o.classList.add("infi-chatgpt-prompt-listItem-separator"):o.classList.remove("infi-chatgpt-prompt-listItem-separator");return o.innerHTML=`\n    <div class="infi-chatgpt-prompt-title">${t}</div>\n    <div class="infi-chatgpt-prompt-preview">${n.length>100?`${n.slice(0,100)}...`:n}</div>\n  `,o.tabIndex=0,o.ariaLabel=t,o.setAttribute("prompt-id",e),o}(n,r,o,t,h.length);d.addEventListener("mouseenter",(()=>{a.promptListState.selectedIndex=t,(0,c.updateSelection)(p.querySelectorAll("li"))})),d.addEventListener("mouseout",(()=>{(0,c.updateSelection)(p.querySelectorAll("li"))})),d.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield(0,s.handlePromptItemClick)(e)})))),p.appendChild(d)}));!function(e){const t=document.querySelector("#prompt-textarea").getBoundingClientRect();e.style.left=`${t.left}px`,e.style.bottom=window.innerHeight-t.top+"px",e.style.width=`${t.width}px`,document.body.appendChild(e)}(p),a.promptListState.selectedIndex=-1,a.promptListState.isPromptListVisible=!0}))};const r=n(6907),o=n(2997),a=n(86),s=n(5270),c=n(8998),d=n(6755)},6907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translations=t.setTranslations=void 0,t.t=function(e,t){const r=n[e];if(void 0!==r){if(t){return Object.keys(t).reduce(((e,n)=>{const r=t[n];if(void 0===r)return e;if("object"!=typeof r||null===r){const t=new RegExp(`{{${n}}}`,"g");return e.replace(t,String(r))}if("tagName"in r&&"content"in r){const{tagName:t,content:o,attributes:a}=r,s=a?Object.entries(a).map((([e,t])=>`${e}="${i(t)}"`)).join(" "):"",c=`<${t}${s?" "+s:""}>${i(o)}</${t}>`;return e.replace(new RegExp(`{{${n}}}`,"g"),c)}return e}),r)}return r}return e};let n={};t.translations=n;function i(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,(e=>t[e]))}t.setTranslations=e=>{t.translations=n=e}},9454:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.escapeHTML=h,t.highlightQuery=f,t.downloadConversationAsText=function(e,t){const n=t.map((e=>`${"user"===e.role?"[USER]":"[CHATGPT]"}:\n${e.content}\n`)).join("\n"),i=new Blob([n],{type:"text/plain"}),r=URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=e,o.click(),URL.revokeObjectURL(r)},t.downloadConversationAsJSON=function(e,t){const n=JSON.stringify({conversation:t},null,2),i=new Blob([n],{type:"application/json"}),r=URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=e,o.click(),URL.revokeObjectURL(r)},t.downloadImagesAsZip=function(e){return i(this,void 0,void 0,(function*(){const t=new o.default,n=t.folder("images"),r=yield(0,d.fetchDownloadURLs)({chatIds:e});if(!r.length)return;const s=r.map((e=>i(this,void 0,void 0,(function*(){return p(e,n)}))));yield Promise.all(s);const c=yield t.generateAsync({type:"blob"});(0,a.saveAs)(c,"images.zip")}))},t.downloadImage=p,t.readAsBinaryString=m,t.downloadVoiceMessage=function(e,t,n){return i(this,void 0,void 0,(function*(){try{(0,l.hideSnackbar)(),(0,l.showSnackbar)("DOWNLOAD_VOICE_WAIT",3e3,"success");const i=yield(0,u.fetchVoiceMessage)(e,t,c.CONSTANTS.VOICE_OPTIONS[n]);if(!i||!i.blob)return(0,l.hideSnackbar)(),void(0,l.showSnackbar)("DOWNLOAD_VOICE_ERROR",3e3,"error");const r=URL.createObjectURL(i.blob),o=document.createElement("a");o.href=r;const a=`${n.replace(/\s+/g,"_")}.mp3`;o.download=a,o.click(),URL.revokeObjectURL(r)}catch(e){}}))},t.downloadAdvancedVoiceModeMessage=function(e,t){return i(this,void 0,void 0,(function*(){try{(0,l.hideSnackbar)(),(0,l.showSnackbar)("DOWNLOAD_VOICE_WAIT",3e3,"success");const n=yield(0,s.getConversation)(t);if(!n||!n.messages)throw Error();const i=n.messages.find((t=>t.id===e));if(!i)throw Error();const r=i.filePointer;if(!r)throw Error();const o=yield(0,u.fetchAdvancedVoiceMessage)(e,t,r);if(!o)throw Error();const a=yield fetch(o);if(!a.ok)throw Error();const c=yield a.blob(),d=URL.createObjectURL(c),h=document.createElement("a");h.href=d;const f=`${n.title.replace(/\s+/g,"_")}.mp3`;h.download=f,h.click(),URL.revokeObjectURL(d)}catch(e){(0,l.hideSnackbar)(),(0,l.showSnackbar)("DOWNLOAD_VOICE_ERROR",3e3,"error")}}))},t.highlightTitle=function(e,t,n=!1){const i=h(t);let r;r=n?new RegExp(`\\b(${g(i)})\\b`,"gi"):new RegExp(`(${g(i)})`,"gi");return h(e).replace(r,'<span class="infi-highlight">$1</span>')},t.getHighlightedMessages=function(e,t,n=50,i=!1){const r=[],o=new RegExp(`\\b${t}\\b`);return e.forEach((e=>{var a,s,c;(i?o.test(null===(c=null==e?void 0:e.content)||void 0===c?void 0:c.toLowerCase()):null===(s=null===(a=null==e?void 0:e.content)||void 0===a?void 0:a.toLowerCase())||void 0===s?void 0:s.includes(t))&&r.push(f(e,t,n,i))})),r},t.containsAllStrings=function(e,t){return t.every((t=>e.includes(t)))},t.escapeHtml=y,t.convertNewLinesToEmptyPTags=function(e){return e.split("\n").map((e=>{if(""===e.trim())return"<p></p>";return`<p>${y(e)}</p>`})).join("")},t.getTheme=v,t.observeThemeChanges=function(e){const t=document.documentElement;let n=v();const i=new MutationObserver((()=>{const t=v();t!==n&&(n=t,e(t))}));return i.observe(t,{attributes:!0,attributeFilter:["class"]}),i},t.debounce=function(e,t){let n=null;return function(...i){n&&clearTimeout(n),n=setTimeout((()=>{e(...i)}),t)}},t.getEventListeners=function(e){return e.__events__||[]},t.setCustomElementAttribute=function(e,t,n){e.setAttribute(t,n)},t.cleanText=function(e){return e.replace(/(\*\*|__)(.*?)\1/g,"$2").replace(/(\*|_)(.*?)\1/g,"$2").replace(/~~(.*?)~~/g,"$1").replace(/`(.*?)`/g,"$1").replace(/>\s+(.*?)(?=\n|$)/g,"$1").replace(/^\s*(#{1,6})\s+(.*?)(?=\n|$)/gm,"$2").replace(/(!?)\[.*?\]\(.*?\)/g,"").replace(/^\s*([-*]|\d\.)\s+/gm,"").replace(/^\|.*?\|/gm,"")};const o=r(n(1710)),a=n(4213),s=n(4702),c=n(2948),d=n(5847),l=n(9748),u=n(5185);function h(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function f(e,t,n=50,i=!1){const r=e.content.replace(/\n/g," ").replace(/\s+/g," "),o=h(t);let a=-1,s=t.length;if(i){const e=new RegExp(`\\b${g(t)}\\b`,"i").exec(r);e&&(a=e.index,s=e[0].length)}else a=r.toLowerCase().indexOf(t.toLowerCase());if(-1===a)return r;let c=Math.max(0,a-n),d=Math.min(r.length,a+s+n);const l=n-(a-c),u=n-(d-(a+s));l>0&&(d=Math.min(r.length,d+l)),u>0&&(c=Math.max(0,c-u));const f=r.substring(0,c),p=r.substring(c,d),m=r.substring(d);let y;y=i?new RegExp(`\\b(${g(o)})\\b`,"gi"):new RegExp(`(${g(o)})`,"gi");const v=h(p).replace(y,'<span class="infi-highlight">$1</span>'),_=[f.length>0?"... ":"",v,m.length>0?" ...":""].join("");return e.content=_,e}function p(e,t){return i(this,void 0,void 0,(function*(){var n;try{const i=yield fetch(e.downloadURL);if(!i.ok)return null;const r=yield i.blob(),o=i.headers.get("Content-Type"),a=o?o.split("/").pop():"jpg",s=`${(null===(n=e.id.split("/").pop())||void 0===n?void 0:n.split(".")[0])||`${e.genId}`}.${a}`;if(t)try{t.file(s,r)}catch(e){t.file(s,yield m(r),{binary:!0})}else{const e=document.createElement("a"),t=URL.createObjectURL(r);e.href=t,e.download=s,document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(t)}}catch(e){}}))}function m(e){return i(this,void 0,void 0,(function*(){const t=yield e.arrayBuffer();return String.fromCharCode(...new Uint8Array(t))}))}function y(e){return"string"!=typeof e?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function v(){const e=document.documentElement.getAttribute("class");return(null==e?void 0:e.includes("light"))?"light":"dark"}const g=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},2997:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.setDirection=t.setSelectedPromptLibraryItem=t.setSelectedMediaItem=t.setMediaGalleryActiveButton=t.setGTPsAccordionInterval=t.setPreviousModal=t.setChainData=t.setChainId=t.setChains=t.setPromptId=t.setPrompts=t.shouldShowCheckbox=t.setInjectedTabs=t.setSharedGPTs=t.setGPTs=t.setSelectedFolder=t.setFolders=t.setPinnedFolders=t.setPinnedChats=t.setSidebarClickListenerAdded=t.setSelectedItems=t.setSelectedModalType=t.setBatchAction=t.setSelectedManageTabsItem=t.setIsPaidUser=t.getAccountId=t.getServerToken=t.setServerToken=t.getAuthToken=t.setAuthToken=t.setAccountId=t.clearStorage=t.getIsResetChatHistory=t.setIsResetChatHistory=t.getStore=t.setInitialStore=void 0;const r=n(2948),o=n(3120);t.setInitialStore=()=>i(void 0,void 0,void 0,(function*(){const e={[r.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER]:!1,selectedItems:[],selectedManageTabsItem:r.CONSTANTS.MANAGE_TABS_ITEMS.ACTIVE_CHATS,selectedModalType:void 0,sidebarClickListenerAdded:!1,folders:[],selectedFolder:void 0,injectedTabs:!1,prompts:[],selectedPrompt:void 0,chains:[],selectedChain:void 0,chainData:void 0,previousModal:void 0,batchAction:void 0,pinnedChats:{},pinnedFolders:{},GPTsAccordionInterval:void 0,mediaGalleryActiveButton:r.CONSTANTS.MEDIA_GALLERY.ACTIVE_BUTTON.DALL_E,selectedMediaItem:void 0,selectedPromptLibraryItem:void 0,direction:"ltr",GPTs:[],sharedGPTs:[]};yield chrome.storage.local.set({store:e})}));t.getStore=()=>i(void 0,void 0,void 0,(function*(){try{const e=yield chrome.storage.local.get("store");return(null==e?void 0:e.store)||{}}catch(e){return{}}}));t.setIsResetChatHistory=(...e)=>i(void 0,[...e],void 0,(function*(e=!0){yield chrome.storage.local.set({isResetChatHistory:e})}));t.getIsResetChatHistory=()=>i(void 0,void 0,void 0,(function*(){var e;return null!==(e=(yield chrome.storage.local.get("isResetChatHistory")).isResetChatHistory)&&void 0!==e&&e}));t.clearStorage=()=>i(void 0,void 0,void 0,(function*(){yield(0,t.setInitialStore)()}));t.setAccountId=e=>i(void 0,void 0,void 0,(function*(){yield chrome.storage.local.set({accountID:e})}));t.setAuthToken=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,o.createExtensionServerToken)(e);yield(0,t.setServerToken)(n),yield chrome.storage.local.set({authToken:e})}));t.getAuthToken=()=>i(void 0,void 0,void 0,(function*(){const e=yield chrome.storage.local.get("authToken");return(null==e?void 0:e.authToken)||null}));t.setServerToken=e=>i(void 0,void 0,void 0,(function*(){yield chrome.storage.local.set({serverToken:e})}));t.getServerToken=()=>i(void 0,void 0,void 0,(function*(){const e=yield chrome.storage.local.get("serverToken");return(null==e?void 0:e.serverToken)||null}));t.getAccountId=()=>i(void 0,void 0,void 0,(function*(){const e=yield chrome.storage.local.get("accountID");return(null==e?void 0:e.accountID)||null}));t.setIsPaidUser=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n[r.CONSTANTS.ECRYPTED_STORAGE_DATA.IS_PAID_USER]=e,yield chrome.storage.local.set({store:n})}));t.setSelectedManageTabsItem=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.selectedManageTabsItem=e,n.selectedItems=[],yield chrome.storage.local.set({store:n})}));t.setBatchAction=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.batchAction=e,yield chrome.storage.local.set({store:n})}));t.setSelectedModalType=(e,...n)=>i(void 0,[e,...n],void 0,(function*(e,n=!0){const i=yield(0,t.getStore)();i.selectedModalType=e,n&&(i.selectedItems=[]),yield chrome.storage.local.set({store:i})}));t.setSelectedItems=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.selectedItems=e,yield chrome.storage.local.set({store:n})}));t.setSidebarClickListenerAdded=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.sidebarClickListenerAdded=e,yield chrome.storage.local.set({store:n})}));t.setPinnedChats=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.pinnedChats=e,yield chrome.storage.local.set({store:n})}));t.setPinnedFolders=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.pinnedFolders=e,yield chrome.storage.local.set({store:n})}));t.setFolders=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.folders=e,yield chrome.storage.local.set({store:n})}));t.setSelectedFolder=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.selectedFolder=e,yield chrome.storage.local.set({store:n})}));t.setGPTs=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.GPTs=e,yield chrome.storage.local.set({store:n})}));t.setSharedGPTs=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.sharedGPTs=e,yield chrome.storage.local.set({store:n})}));t.setInjectedTabs=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.injectedTabs=e,yield chrome.storage.local.set({store:n})}));t.shouldShowCheckbox=()=>i(void 0,void 0,void 0,(function*(){const e=yield(0,t.getStore)(),{selectedManageTabsItem:n,selectedModalType:i}=e;return[r.CONSTANTS.MANAGE_TABS_ITEMS.ACTIVE_CHATS,r.CONSTANTS.MANAGE_TABS_ITEMS.ARCHIVED_CHATS,r.CONSTANTS.MANAGE_FOLDER_ITEMS.ADD_CHATS,r.CONSTANTS.MANAGE_FOLDER_ITEMS.REMOVE_CHATS].some((e=>e===n))||"MANAGE_FOLDERS"===i||"MANAGE_PROMPTS"===i}));t.setPrompts=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.prompts=e,yield chrome.storage.local.set({store:n})}));t.setPromptId=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.selectedPrompt=e,yield chrome.storage.local.set({store:n})}));t.setChains=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.chains=e,yield chrome.storage.local.set({store:n})}));t.setChainId=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.selectedChain=e,yield chrome.storage.local.set({store:n})}));t.setChainData=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.chainData=e,yield chrome.storage.local.set({store:n})}));t.setPreviousModal=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.previousModal=e,yield chrome.storage.local.set({store:n})}));t.setGTPsAccordionInterval=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.GPTsAccordionInterval=e,yield chrome.storage.local.set({store:n})}));t.setMediaGalleryActiveButton=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.mediaGalleryActiveButton=e,yield chrome.storage.local.set({store:n})}));t.setSelectedMediaItem=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.selectedMediaItem=e,yield chrome.storage.local.set({store:n})}));t.setSelectedPromptLibraryItem=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.selectedPromptLibraryItem=e,yield chrome.storage.local.set({store:n})}));t.setDirection=e=>i(void 0,void 0,void 0,(function*(){const n=yield(0,t.getStore)();n.direction=e,yield chrome.storage.local.set({store:n})}))},2948:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS=void 0,t.CONSTANTS={API:{HOST:"chatgpt.com",CHATGPT:"https://chatgpt.com",CHATGPT_BACKEND_CONVERSATION:"https://chatgpt.com/backend-api/conversation",CHATGPT_BACKEND_CONVERSATIONS:"https://chatgpt.com/backend-api/conversations",CHATGPT_BACKEND_STOP_CONVERSATION:"https://chatgpt.com/backend-api/stop_conversation",CHATGPT_ACCOUNT_CHECK:"https://chatgpt.com/backend-api/accounts/check/",CHATGPT_BACKEND_VOICE:"https://chatgpt.com/backend-api/synthesize",CHATGPT_BACKEND_PROJECTS:"https://chatgpt.com/backend-api/gizmos/snorlax/sidebar",CHATGPT_BACKEND_GIZMOS:"https://chatgpt.com/backend-api/gizmos",CHATGPT_BACKEND_GET_GIZMOS:"https://chatgpt.com/backend-api/gizmos/bootstrap",CHATGPT_BACKEND_SEARCH_GIZMOS:"https://chatgpt.com/backend-api/gizmos/search",FETCH_CONVERSATION:{RETRIES:3,INITIAL_DELAY:1e3}},DATABASE:{DB_NAME:"ChatHistoryDB",IMAGE_STORE_NAME:"images",CONVERSATION_STORE_NAME:"conversations",VERSION:6,MAX_IMAGE_RECORDS:1e3},MODAL_TYPES:{SEARCH_HISTORY:"SEARCH_HISTORY",MANAGE_CHATS:"MANAGE_CHATS",MANAGE_FOLDERS:"MANAGE_FOLDERS",MANAGE_PROMPTS:"MANAGE_PROMPTS",MANAGE_FOLDER:"MANAGE_FOLDER",ADD_CHAT:"ADD_CHAT",ADD_FOLDER:"ADD_FOLDER",ADD_GPT:"ADD_GPT",ADD_PROMPT:"ADD_PROMPT",ADD_CHAIN:"ADD_CHAIN",SETTINGS:"SETTINGS",PREMIUM_REQUIRED:"PREMIUM_REQUIRED",PREMIUM_LIMIT:"PREMIUM_LIMIT",EXPORT_CHAT:"EXPORT_CHAT",MOVE_CHAT:"MOVE_CHAT",MEDIA_GALLERY:"MEDIA_GALLERY",MEDIA_GALLERY_PREMIUM_ONLY:"MEDIA_GALLERY_PREMIUM_ONLY",PROMPT_LIBRARY:"PROMPT_LIBRARY",PROMPT_LIBRARY_SAVE_PROMPT:"PROMPT_LIBRARY_SAVE_PROMPT",PROMPT_DYNAMIC_VALUES:"PROMPT_DYNAMIC_VALUES",CHAIN_DYNAMIC_VALUES:"CHAIN_DYNAMIC_VALUES"},MANAGE_TABS_ITEMS:{ACTIVE_CHATS:"ACTIVE_CHATS",ARCHIVED_CHATS:"ARCHIVED_CHATS"},MANAGE_FOLDER_ITEMS:{VIEW_CHATS:"VIEW_CHATS",ADD_CHATS:"ADD_CHATS",REMOVE_CHATS:"REMOVE_CHATS"},CONVERATION_STATUS:{ARCHIVE:"archive",DELETE:"delete",UNARCHIVE:"unarchive"},CHROME_RUNTIME_DETAILS:{INSTALL:"install"},ACTIONS:{PATCH_CONVERSATION:"handleConversationPatchRequest",NEW_MESSAGE_SENT:"newMessageSent",CHANGE_LANGUAGE:"changeLanguage",GET_BACKEND_DATA_AND_LISTEN:"getBackendDataAndListen",INJECT_SIDETABS:"injectSideTabs",BATCH_CHATS_ACTION:"batchChatsAction",RESET_INDEXEDB:"reset_indexedb",SEND_CHAIN_NEXT_PROMPT:"sendChainNextPrompt",STOP_CHAIN_NEXT_PROMPT:"stopChainNextPrompt"},HTTP_REQUESTS:{XML:"xmlhttprequest",POST:"POST",GET:"GET",PATCH:"PATCH",DELETE:"DELETE"},HEADERS:{AUTH:"authorization",CHATGPT_ACCOUNT_ID:"chatgpt-account-id",EXTENSION_REQUEST:"X-Extension-Request"},WEB_REQUEST_TYPE:{REQUEST_HEADERS:"requestHeaders",REQEUST_BODY:"requestBody"},CHROME_TAB_STATUS:{COMPLETE:"complete"},ACCOUNT_ID:{ACCOUNT:"_account",PERSONAL:'"personal"'},VOICE_OPTIONS:{Ember:"ember",Cove:"cove",Sol:"glimmer",Breeze:"breeze",Maple:"maple",Spruce:"orbit",Vale:"vale",Juniper:"juniper",Arbor:"fathom"},LANGUAGES:{ARABIC:"ar",GERMAN:"de",ENGLISH:"en",SPANISH:"es",FRENCH:"fr",HEBREW:"he",HINDI:"hi",ITALIAN:"it",JAPANESE:"ja",CHINESE:"zh"},BREAKPOINT_WIDTH:768,MANAGE_FOLDERS:{ADD_FOLDER:{MAX_NAME_LENGTH:40}},MANAGE_PROMPTS:{EDIT_PROMPT:{MAX_NAME_LENGTH:100,MAX_CONTENT_LENGTH:6e3},EDIT_CHAIN:{MAX_NAME_LENGTH:100,MAX_CONTENT_LENGTH:6e3,MAX_CHAINED_PROMPT_ITEMS:10}},DEBOUNCE_DELAY:300,PLANS:{FREE:{MAX_SEARCH_RESULTS:5}},ECRYPTED_STORAGE_DATA:{IS_PAID_USER:"-r.6es£Jr1U0"},MEDIA_GALLERY:{ACTIVE_BUTTON:{DALL_E:"DALL_E",CHARTS:"CHARTS"},PREVIEW_IMAGE:"https://media.happyhourhub.co/ChatGPT-Toolbox-Media/media-gallery-preview.png",LIMIT:15},LIST:{MAX_LABEL_LENGTH:34},ADD_GPT:{DESCRIPTION_LENGTH:77},PROMPT_LIBRARY:{LIMIT:15,DEFAULT_CATEGORY:"marketing",PROMPT_TEXT_MAX_LENGTH:168,FREE_CATEGORY_LIMIT:5},LOCAL_STORAGE:{EXPAND_FEATURES_TAB:"infi-expand-features-tab",EXPAND_GPTS:"infi-expand-gpts",EXPAND_PINNED_FOLDERS:"infi-expand-pinned-folders",EXPAND_PINNED_CHATS:"infi-expand-pinned-chats",INFO_AND_UPDATES_VERSION:"chatgpt-toolbox-info-and-updates-version",FREE_USER_MODAL:"chatgpt-toolbox-free-user-modal"},PROMPT_VALUES:{MAX_LABEL_LENGTH:22},CHAIN_VALUES:{MAX_PROMPT_NAME_LENGTH:45,MAX_LABEL_LENGTH:22}}},3120:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createExtensionServerToken=function(e){return i(this,void 0,void 0,(function*(){var t;if(!e)return null;e=e.split(" ")[1];const n=yield(0,o.getAuthToken)(),i=n?n.split(" ")[1]:null,a=yield(0,o.getServerToken)(),s=(new TextEncoder).encode("G1J!QQcJE0Mo4=ED,!JWcv9Rk6Lz1!");if(a&&i&&i===e)try{const{payload:e}=yield(0,r.jwtVerify)(a,s,{audience:"chatgpt-toolbox-extension-server"});return a}catch(e){}const d=yield c(e);if(!d)return null;const l=null===(t=d["https://api.openai.com/profile"])||void 0===t?void 0:t.email;if(!l)return null;return yield new r.SignJWT({email:l}).setProtectedHeader({alg:"HS256"}).setAudience("chatgpt-toolbox-extension-server").setExpirationTime("10d").sign(s)}))};const r=n(5948),o=n(2997),a=n(5381);function s(e){return i(this,void 0,void 0,(function*(){const t=function(e){if("https://auth0.openai.com/"===e)return"https://auth0.openai.com/.well-known/jwks.json";if("https://auth.openai.com"===e)return"https://auth.openai.com/.well-known/jwks.json";throw new Error(`Unsupported issuer: ${e}`)}(e);return yield(0,a.fetchJWKSFromServer)(t)}))}function c(e){return i(this,arguments,void 0,(function*(e,t=0){try{const o=function(e){const[t]=e.split("."),n=d(t);return JSON.parse(n)}(e),a=function(e){const[,t]=e.split("."),n=d(t);return JSON.parse(n)}(e);if(!a.iss)throw new Error("Missing issuer in token payload");const l=a.iss,u=["https://api.openai.com/v1","https://openai.openai.auth0app.com/userinfo"],h=null==o?void 0:o.kid;if(!h)throw new Error("No 'kid' in token header");let f;try{f=yield function(e,t){return i(this,void 0,void 0,(function*(){const n=(yield s(e)).keys.find((e=>e.kid===t&&"RSA"===e.kty));if(!n)throw new Error("Signing key not found");return n}))}(l,h)}catch(i){if(t<3&&i.message.includes("Signing key not found"))return yield(n=300,new Promise((e=>setTimeout(e,n)))),yield c(e,t+1);throw i}const p=(0,r.createLocalJWKSet)({keys:[f]}),{payload:m}=yield(0,r.jwtVerify)(e,p,{audience:u});return m}catch(e){return null}var n}))}function d(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=4-t.length%4;return 4!==n&&(t+="=".repeat(n)),atob(t)}},7083:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkHasDynamicValues=function(e){return/\{\{.*?\}\}/.test(e)}},155:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkManagePromptsActiveTab=function(){var e;const t=document.querySelector(".infi-chatgpt-managePrompts-toggleView"),n=null===(e=null==t?void 0:t.querySelector('[aria-pressed="true"]'))||void 0===e?void 0:e.id;return n?"infi-chatgpt-view-prompts"===n?"prompts":"chains":"prompts"}},4419:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyTextToClipboard=function(e){const t=document.querySelector(e);if(!t)return;const n=t.textContent||t.innerText;if(!n)return;navigator.clipboard.writeText(n).then((()=>{})).catch((e=>{}))}},6755:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEmptyListElement=function(e){const t=document.createElement("li");t.classList.add("infi-chatgpt-prompt-listItem","infi-chatgpt-prompt-listItem-empty");const n=document.createElement("div");return n.classList.add("infi-chatgpt-prompt-empty-state"),n.textContent=e,t.appendChild(n),t},t.getInputText=function(){var e;const t=document.querySelector("#prompt-textarea");return(null===(e=t.textContent)||void 0===e?void 0:e.trim())||""},t.cleanInputText=function(){document.querySelector("#prompt-textarea").textContent=""},t.getTextarea=function(){return document.querySelector("#prompt-textarea")}},5074:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFromAPI=function(e,t){return i(this,arguments,void 0,(function*(e,t,n={}){try{let i="",a="";if(t){const e=yield(0,o.getServerToken)();if(!e)throw new Error("No token provided");i=e,a=(yield(0,o.getAccountId)())||""}const s=`${e}${e.includes("?")?"&":"?"}cacheBuster=${(new Date).getTime()}`,{headers:c}=n,d=r(n,["headers"]),l=yield fetch(s,Object.assign({headers:Object.assign({Authorization:i,"Chatgpt-Account-Id":a},c)},d));if(!l.ok)throw new Error(`HTTP error: ${l.status}`);return yield l.json()}catch(e){return}}))};const o=n(2997)},1805:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=function(e){return i(this,void 0,void 0,(function*(){const[t,n,i]=e.split("/").map(Number),o=new Date(i,n-1,t);return`${(0,r.t)(["January","February","March","April","May","June","July","August","September","October","November","December"][o.getMonth()].toUpperCase())} ${o.getDate()}, ${o.getFullYear()}`}))};const r=n(6907)},7755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUniqueId=function(){return(0,i.nanoid)()};const i=n(3561)},6456:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDragAfterElement=function(e,t,n){return[...e.querySelectorAll(`.${t}:not(.infi-dragging)`)].reduce(((e,t)=>{const i=t.getBoundingClientRect(),r=.3*i.height,o=n-(i.top+r);return o<0&&o>e.offset?{offset:o,element:t}:e}),{offset:Number.NEGATIVE_INFINITY,element:null}).element}},5401:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDynamicValues=function(e){return[...new Set([...e.matchAll(/\{\{(.*?)\}\}/g)].map((e=>e[0])))]}},202:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGPTId=function(e){const t=e.split("-");return t.length>2?t[1]:null}},1942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getItemId=function(e,t){return e.id.split(t).at(-1)}},8794:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getItemsById=function(e,t){return t?t.querySelectorAll(`[id^="${e}"]`):document.querySelectorAll(`[id^="${e}"]`)}},3534:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getModalId=function(){return i(this,arguments,void 0,(function*(e=!1){const{selectedModalType:t}=yield(0,r.getStore)();switch(t){case"SEARCH_HISTORY":return"infi-chatgpt-searchHistoryModal";case"MANAGE_CHATS":return"infi-chatgpt-manageChatsModal";case"MANAGE_FOLDERS":return"infi-chatgpt-manageFoldersModal";case"MANAGE_PROMPTS":return"infi-chatgpt-managePromptsModal";case"SETTINGS":return"infi-chatgpt-settingsModal";case"MANAGE_FOLDER":return"infi-chatgpt-manageFolderModal";case"ADD_CHAT":return"infi-chatgpt-addChatModal";case"ADD_FOLDER":return e?"infi-chatgpt-editFolderModal":"infi-chatgpt-addFolderModal";case"ADD_GPT":return"infi-chatgpt-addGPTModal";case"ADD_PROMPT":return e?"infi-chatgpt-editPromptModal":"infi-chatgpt-addPromptModal";case"ADD_CHAIN":return e?"infi-chatgpt-editChainModal":"infi-chatgpt-addChainModal";case"PREMIUM_REQUIRED":case"PREMIUM_LIMIT":return"infi-chatgpt-premiumModal";case"EXPORT_CHAT":return"infi-chatgpt-exportChatModal";case"MOVE_CHAT":return"infi-chatgpt-moveChatModal";case"MEDIA_GALLERY":return"infi-mediaGalleryModal";case"MEDIA_GALLERY_PREMIUM_ONLY":return"infi-mediaGalleryPremiumOnlyModal";case"PROMPT_LIBRARY":return"infi-promptLibraryModal";case"PROMPT_DYNAMIC_VALUES":return"infi-promptDynamicValuesModal";case"CHAIN_DYNAMIC_VALUES":return"infi-chainDynamicValuesModal";default:return}}))};const r=n(2997)},5561:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getModalLogic=function(){return i(this,void 0,void 0,(function*(){const{selectedModalType:e}=yield(0,r.getStore)();switch(e){case"SEARCH_HISTORY":return c.handleSearchHistoryLogic;case"MANAGE_CHATS":return o.handleManageChatsLogic;case"MANAGE_FOLDERS":return d.handleManageFoldersLogic;case"MANAGE_PROMPTS":return l.handleManagePromptsLogic;case"MANAGE_FOLDER":return a.handleManageFolderLogic;case"MEDIA_GALLERY":return s.handleMediaGalleryLogic;case"PROMPT_LIBRARY":return u.handlePromptLibraryLogic;default:return}}))};const r=n(2997),o=n(9874),a=n(6994),s=n(3940),c=n(8378),d=n(2394),l=n(3442),u=n(990)},177:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getModalProps=function(e){return i(this,arguments,void 0,(function*(e,t=!1,n,r={}){var x,R;const{selectedFolder:D,prompts:N,selectedPrompt:H,chains:$,selectedChain:B,mediaGalleryActiveButton:F}=yield(0,S.getStore)(),j=yield(0,a.getModalId)(t);if(!j)return{};const G={id:j,allowedIds:[j],closeLogic:n};return{SEARCH_HISTORY:Object.assign(Object.assign({},G),{html:(0,b.searchHistoryHTML)(s.t),title:"SEARCH_HISTORY",modalWidth:900}),MANAGE_CHATS:Object.assign(Object.assign({},G),{html:(0,y.manageChatsHTML)(s.t),title:"MANAGE_CHATS",modalWidth:900}),MANAGE_FOLDERS:Object.assign(Object.assign({},G),{html:(0,g.manageFoldersHTML)(s.t),title:"MANAGE_FOLDERS",modalWidth:900}),MANAGE_PROMPTS:Object.assign(Object.assign({},G),{html:(0,_.managePromptsHTML)(s.t),title:"MANAGE_PROMPTS",modalWidth:900}),SETTINGS:Object.assign(Object.assign({},G),{html:yield(0,p.getSettingsHTML)({t:s.t}),title:"SETTINGS",modalWidth:420,showBackButton:!0}),MANAGE_FOLDER:Object.assign(Object.assign({},G),{html:(0,v.manageFolderHTML)(s.t,r.folder||{}),header:`\n        <div class="infi-chatgpt-modal-title">\n          <h2>${(0,A.removeLastParentheses)((null==D?void 0:D.name)||(0,s.t)("MANAGE_FOLDER"))}</h2>\n          ${(0,E.iconButton)({t:s.t,label:"EDIT_FOLDER_NAME",icon:c.default,className:"infi-chatgpt-editFolderButton"})}\n        </div>\n      `,modalWidth:900,showBackButton:!0}),ADD_CHAT:Object.assign(Object.assign({},G),{html:(0,l.addChatHTML)(s.t),title:"ADD_CHATS",allowedIds:[j,"infi-chatgpt-manageFolders-cancelButton"],modalWidth:900}),ADD_FOLDER:Object.assign(Object.assign({},G),{html:(0,h.addFolderHTML)({t:s.t,isEdit:t,name:t?(0,A.removeLastParentheses)((null==D?void 0:D.name)||""):""}),title:t?"EDIT_FOLDER_NAME_TITLE":"ADD_FOLDER",allowedIds:[j,"infi-chatgpt-manageFolders-cancelButton"],closeLogic:()=>i(this,void 0,void 0,(function*(){yield(0,o.resetForm)(),t&&(yield(0,S.setPreviousModal)("MANAGE_FOLDERS"))}))}),ADD_GPT:Object.assign(Object.assign({},G),{html:(0,d.addGPTHTML)(s.t),title:"ADD_GPTS",allowedIds:[j,"infi-chatgpt-manageFolders-cancelButton"],modalWidth:900}),ADD_PROMPT:Object.assign(Object.assign({},G),{html:(0,f.addPromptHTML)({t:s.t,isEdit:t,name:t&&(null===(x=N.find((e=>e._id===H)))||void 0===x?void 0:x.name)||"",content:t&&(null===(R=N.find((e=>e._id===H)))||void 0===R?void 0:R.content)||""}),title:t?"EDIT_PROMPT":"ADD_PROMPT",allowedIds:[j,"infi-chatgpt-addPrompt-cancelButton"],closeLogic:()=>i(this,void 0,void 0,(function*(){return(0,o.resetForm)()}))}),ADD_CHAIN:Object.assign(Object.assign({},G),{html:(0,T.addChainHTML)({t:s.t,isEdit:t,chain:t?$.find((e=>e._id===B)):void 0}),title:t?"EDIT_CHAIN":"ADD_CHAIN",allowedIds:[j,"infi-chatgpt-addChain-cancelButton"],closeLogic:()=>i(this,void 0,void 0,(function*(){return(0,o.resetForm)()})),modalWidth:750}),PREMIUM_REQUIRED:Object.assign(Object.assign({},G),{html:(0,w.premiumModalInnerHTML)(s.t),title:"PREMIUM_MODAL_TITLE",modalWidth:520,closeLogic:n}),PREMIUM_LIMIT:Object.assign(Object.assign({},G),{html:(0,M.premiumLimitModalInnerHTML)(s.t),title:"PREMIUM_LIMIT_MODAL_TITLE",modalWidth:520,closeLogic:n}),EXPORT_CHAT:Object.assign(Object.assign({},G),{html:(0,m.exportChatHTML)(s.t),title:"EXPORT_FORMAT",allowedIds:[j,"infi-chatgpt-exportChat-cancelButton"],modalWidth:510,closeLogic:n}),MOVE_CHAT:Object.assign(Object.assign({},G),{html:(0,u.moveChatHTML)(s.t,r.id,r.folders||[],r.chatAmounts||{}),title:"MOVE_TO_FOLDER",allowedIds:[j,"infi-chatgpt-moveChat-cancelButton"],modalWidth:900,closeLogic:n}),MEDIA_GALLERY:Object.assign(Object.assign({},G),{html:(0,C.mediaGalleryHTML)({t:s.t,activeButton:F}),title:"MEDIA_GALLERY"}),MEDIA_GALLERY_PREMIUM_ONLY:Object.assign(Object.assign({},G),{html:(0,O.mediaGalleryPremiumOnlyHTML)(s.t),title:"MEDIA_GALLERY"}),PROMPT_LIBRARY:Object.assign(Object.assign({},G),{html:yield(0,L.promptLibraryHTML)(s.t),title:"PROMPT_LIBRARY",showBackButton:!0}),PROMPT_LIBRARY_SAVE_PROMPT:Object.assign(Object.assign({},G),{title:"SAVE_PROMPT_LIBRARY_TITLE",id:"infi-chatgpt__promptLibraryConfirmSave",html:(0,k.promptLibraryConfirmSaveHTML)(s.t),allowedIds:["infi-chatgpt__promptLibraryConfirmSave","infi-chatgpt__promptLibraryConfirmSave-cancelButton"]}),PROMPT_DYNAMIC_VALUES:Object.assign(Object.assign({},G),{title:"EDIT_PROMPT_DYNAMIC_VALUES_TITLE",html:(0,I.promptValuesModalHTML)(s.t,r.dynamicValues),allowedIds:[...G.allowedIds,"infi-chatgpt__promptDynamicValues-cancelButton"]}),CHAIN_DYNAMIC_VALUES:Object.assign(Object.assign({},G),{title:"EDIT_PROMPT_DYNAMIC_VALUES_TITLE",html:(0,P.chainValuesModalHTML)(s.t,r.chainValues),allowedIds:[...G.allowedIds,"infi-chatgpt__chainDynamicValues-cancelButton"]})}[e]||{}}))};const o=n(4137),a=n(3534),s=n(6907),c=r(n(225)),d=n(8530),l=n(413),u=n(561),h=n(9939),f=n(6369),p=n(9267),m=n(9922),y=n(5726),v=n(333),g=n(5124),_=n(7214),b=n(1952),E=n(3720),w=n(1680),A=n(8320),S=n(2997),T=n(4662),C=n(4365),M=n(1909),L=n(2103),P=n(7042),I=n(4264),O=n(1574),k=n(4466)},9680:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalMessages=function(e){return n(this,void 0,void 0,(function*(){return e.reduce(((e,t)=>e+t.messages.length),0)}))}},3878:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleModalBackButtonClick=function(e){return i(this,void 0,void 0,(function*(){const t=document.getElementById(e),n=null==t?void 0:t.querySelector(".infi-chatgpt-modal-backButton");n&&n.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){const{previousModal:t,selectedModalType:n}=yield(0,a.getStore)();t&&n&&("MANAGE_FOLDER"!==n?(yield(0,s.handleCloseModalById)(e),setTimeout((()=>i(this,void 0,void 0,(function*(){yield function(){return i(this,void 0,void 0,(function*(){const{previousModal:e,selectedModalType:t}=yield(0,a.getStore)();if(e&&t&&t===e&&"PROMPT_LIBRARY"===t)yield(0,a.setPreviousModal)("MANAGE_PROMPTS")}))}();const e=yield(0,r.getModalProps)(t);yield(0,s.handleOpenModal)(e);const n=yield(0,o.getModalLogic)();n&&(yield n())}))),0)):yield(0,c.handleManageFolderBackClick)())}))))}))};const r=n(177),o=n(5561),a=n(2997),s=n(4193),c=n(7193)},4720:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAncestorOrSelf=function(e,t){if(e===t)return!0;let n=t.parentElement;for(;n;){if(n===e)return!0;n=n.parentElement}return!1}},7392:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.manageEventListeners=function(e,t,i,r){let o=n.get(i);if(!o){o=new Map,n.set(i,o);const e=new MutationObserver((()=>{document.body.contains(i)||(o.forEach(((e,t)=>{i.removeEventListener(t,o.get(t))})),n.delete(i),e.disconnect())}));e.observe(document.body,{childList:!0,subtree:!0})}const a=o.get(e);a&&i.removeEventListener(e,a,r);o.set(e,t),i.addEventListener(e,t,r)};const n=new Map},8320:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeLastParentheses=function(e){return e.replace(/\s*\([^\)]*\)\s*$/,"")}},4793:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceDynamicValues=function(e,t){for(const[n,i]of Object.entries(t)){if(!i)continue;const t=new RegExp(n,"g");e=e.replace(t,i)}return e}},4137:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.resetForm=function(){return n(this,void 0,void 0,(function*(){const e=document.getElementById("infi-chatgpt-form");null==e||e.reset()}))}},3238:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.showPremiumRequiredModal=function(){return i(this,void 0,void 0,(function*(){yield(0,a.setSelectedModalType)("PREMIUM_REQUIRED");const e=yield(0,r.getModalProps)("PREMIUM_REQUIRED");yield(0,o.handleOpenModal)(e)}))};const r=n(177),o=n(4193),a=n(2997)},9748:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.showSnackbar=function(e,t,n="success"){const i=document.createElement("div");i.id="infi-chatgpt-snackbar",i.role="alert",i.ariaLive="polite","error"===n&&i.classList.add("infi-chatgpt-snackbar-error");const d=document.createElement("div");d.innerHTML=`<div id="infi-chatgpt-snackbar-content"><span>${"success"===n?o.default:a.default}</span><span>${(0,r.t)(e)}</span></div>`,i.appendChild(d),document.body.appendChild(i),i.classList.add("show"),setTimeout(s,t),setTimeout(c,t+500)},t.hideSnackbar=s;const r=n(6907),o=i(n(6125)),a=i(n(955));function s(){const e=document.getElementById("infi-chatgpt-snackbar");e&&(e.classList.remove("show"),e.classList.add("hide"),c())}function c(){const e=document.getElementById("infi-chatgpt-snackbar");e&&document.body.removeChild(e)}},924:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleInputError=function(e,t,n){const i=document.getElementById(n);if(!i)return;i.style.display=e?"block":"none",t.setAttribute("aria-invalid",e?"true":"false")}},1089:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.toggleLoader=function(e){return n(this,void 0,void 0,(function*(){const t=document.getElementById("infi-chatgpt-spinnerContainer");t&&(t.style.display=e?"flex":"none")}))}},4845:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.unixToDate=function(e){return i(this,void 0,void 0,(function*(){const t=new Date(1e3*e);return`${(0,r.t)(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()].toUpperCase())} ${t.getDate()}, ${t.getFullYear()}`}))};const r=n(6907)},5948:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CompactEncrypt:()=>bt,CompactSign:()=>At,EmbeddedJWK:()=>xt,EncryptJWT:()=>Pt,FlattenedEncrypt:()=>it,FlattenedSign:()=>wt,GeneralEncrypt:()=>ot,GeneralSign:()=>Tt,SignJWT:()=>Lt,UnsecuredJWT:()=>Wt,base64url:()=>r,calculateJwkThumbprint:()=>Ot,calculateJwkThumbprintUri:()=>kt,compactDecrypt:()=>Ze,compactVerify:()=>lt,createLocalJWKSet:()=>$t,createRemoteJWKSet:()=>Ut,cryptoRuntime:()=>Qt,decodeJwt:()=>Zt,decodeProtectedHeader:()=>Kt,errors:()=>i,experimental_jwksCache:()=>Vt,exportJWK:()=>tt,exportPKCS8:()=>et,exportSPKI:()=>Qe,flattenedDecrypt:()=>Ke,flattenedVerify:()=>dt,generalDecrypt:()=>Je,generalVerify:()=>ut,generateKeyPair:()=>Yt,generateSecret:()=>Xt,importJWK:()=>He,importPKCS8:()=>Ne,importSPKI:()=>Re,importX509:()=>De,jwksCache:()=>jt,jwtDecrypt:()=>_t,jwtVerify:()=>gt});var i={};n.r(i),n.d(i,{JOSEAlgNotAllowed:()=>A,JOSEError:()=>b,JOSENotSupported:()=>S,JWEDecryptionFailed:()=>T,JWEInvalid:()=>C,JWKInvalid:()=>P,JWKSInvalid:()=>I,JWKSMultipleMatchingKeys:()=>k,JWKSNoMatchingKey:()=>O,JWKSTimeout:()=>x,JWSInvalid:()=>M,JWSSignatureVerificationFailed:()=>R,JWTClaimValidationFailed:()=>E,JWTExpired:()=>w,JWTInvalid:()=>L});var r={};n.r(r),n.d(r,{decode:()=>qt,encode:()=>zt});const o=crypto,a=e=>e instanceof CryptoKey,s=async(e,t)=>{const n=`SHA-${e.slice(-3)}`;return new Uint8Array(await o.subtle.digest(n,t))},c=new TextEncoder,d=new TextDecoder,l=2**32;function u(...e){const t=e.reduce(((e,{length:t})=>e+t),0),n=new Uint8Array(t);let i=0;for(const t of e)n.set(t,i),i+=t.length;return n}function h(e,t,n){if(t<0||t>=l)throw new RangeError(`value must be >= 0 and <= ${l-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],n)}function f(e){const t=Math.floor(e/l),n=e%l,i=new Uint8Array(8);return h(i,t,0),h(i,n,4),i}function p(e){const t=new Uint8Array(4);return h(t,e),t}function m(e){return u(p(e.length),e)}const y=e=>{let t=e;"string"==typeof t&&(t=c.encode(t));const n=[];for(let e=0;e<t.length;e+=32768)n.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(n.join(""))},v=e=>y(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),g=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n},_=e=>{let t=e;t instanceof Uint8Array&&(t=d.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return g(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class b extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}b.code="ERR_JOSE_GENERIC";class E extends b{constructor(e,t,n="unspecified",i="unspecified"){super(e,{cause:{claim:n,reason:i,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=n,this.reason=i,this.payload=t}}E.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class w extends b{constructor(e,t,n="unspecified",i="unspecified"){super(e,{cause:{claim:n,reason:i,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=n,this.reason=i,this.payload=t}}w.code="ERR_JWT_EXPIRED";class A extends b{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}A.code="ERR_JOSE_ALG_NOT_ALLOWED";class S extends b{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}S.code="ERR_JOSE_NOT_SUPPORTED";class T extends b{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}}T.code="ERR_JWE_DECRYPTION_FAILED";class C extends b{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}C.code="ERR_JWE_INVALID";class M extends b{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}M.code="ERR_JWS_INVALID";class L extends b{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}L.code="ERR_JWT_INVALID";class P extends b{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}P.code="ERR_JWK_INVALID";class I extends b{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}I.code="ERR_JWKS_INVALID";class O extends b{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}}O.code="ERR_JWKS_NO_MATCHING_KEY";class k extends b{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Symbol.asyncIterator,k.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class x extends b{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}}x.code="ERR_JWKS_TIMEOUT";class R extends b{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}R.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";const D=o.getRandomValues.bind(o);function N(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new S(`Unsupported JWE Algorithm: ${e}`)}}const H=(e,t)=>{if(t.length<<3!==N(e))throw new C("Invalid Initialization Vector length")},$=(e,t)=>{const n=e.byteLength<<3;if(n!==t)throw new C(`Invalid Content Encryption Key length. Expected ${t} bits, got ${n} bits`)},B=(e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const n=e.length;let i=0,r=-1;for(;++r<n;)i|=e[r]^t[r];return 0===i};function F(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function j(e,t){return e.name===t}function G(e){return parseInt(e.name.slice(4),10)}function U(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const n=t.pop();e+=`one of ${t.join(", ")}, or ${n}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}function V(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!j(e.algorithm,"HMAC"))throw F("HMAC");const n=parseInt(t.slice(2),10);if(G(e.algorithm.hash)!==n)throw F(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!j(e.algorithm,"RSASSA-PKCS1-v1_5"))throw F("RSASSA-PKCS1-v1_5");const n=parseInt(t.slice(2),10);if(G(e.algorithm.hash)!==n)throw F(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!j(e.algorithm,"RSA-PSS"))throw F("RSA-PSS");const n=parseInt(t.slice(2),10);if(G(e.algorithm.hash)!==n)throw F(`SHA-${n}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw F("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!j(e.algorithm,"ECDSA"))throw F("ECDSA");const n=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==n)throw F(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}U(e,n)}function W(e,t,...n){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!j(e.algorithm,"AES-GCM"))throw F("AES-GCM");const n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw F(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!j(e.algorithm,"AES-KW"))throw F("AES-KW");const n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw F(n,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw F("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!j(e.algorithm,"PBKDF2"))throw F("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!j(e.algorithm,"RSA-OAEP"))throw F("RSA-OAEP");const n=parseInt(t.slice(9),10)||1;if(G(e.algorithm.hash)!==n)throw F(`SHA-${n}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}U(e,n)}function z(e,t,...n){if((n=n.filter(Boolean)).length>2){const t=n.pop();e+=`one of type ${n.join(", ")}, or ${t}.`}else 2===n.length?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const q=(e,...t)=>z("Key must be ",e,...t);function K(e,t,...n){return z(`Key for the ${e} algorithm must be `,t,...n)}const Z=e=>!!a(e)||"KeyObject"===e?.[Symbol.toStringTag],J=["CryptoKey"];const Y=async(e,t,n,i,r,s)=>{if(!(a(t)||t instanceof Uint8Array))throw new TypeError(q(t,...J,"Uint8Array"));if(!i)throw new C("JWE Initialization Vector missing");if(!r)throw new C("JWE Authentication Tag missing");switch(H(e,i),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&$(t,parseInt(e.slice(-3),10)),async function(e,t,n,i,r,a){if(!(t instanceof Uint8Array))throw new TypeError(q(t,"Uint8Array"));const s=parseInt(e.slice(1,4),10),c=await o.subtle.importKey("raw",t.subarray(s>>3),"AES-CBC",!1,["decrypt"]),d=await o.subtle.importKey("raw",t.subarray(0,s>>3),{hash:"SHA-"+(s<<1),name:"HMAC"},!1,["sign"]),l=u(a,i,n,f(a.length<<3)),h=new Uint8Array((await o.subtle.sign("HMAC",d,l)).slice(0,s>>3));let p,m;try{p=B(r,h)}catch{}if(!p)throw new T;try{m=new Uint8Array(await o.subtle.decrypt({iv:i,name:"AES-CBC"},c,n))}catch{}if(!m)throw new T;return m}(e,t,n,i,r,s);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&$(t,parseInt(e.slice(1,4),10)),async function(e,t,n,i,r,a){let s;t instanceof Uint8Array?s=await o.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(W(t,e,"decrypt"),s=t);try{return new Uint8Array(await o.subtle.decrypt({additionalData:a,iv:i,name:"AES-GCM",tagLength:128},s,u(n,r)))}catch{throw new T}}(e,t,n,i,r,s);default:throw new S("Unsupported JWE Content Encryption Algorithm")}},X=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let n;for(const e of t){const t=Object.keys(e);if(n&&0!==n.size)for(const e of t){if(n.has(e))return!1;n.add(e)}else n=new Set(t)}return!0};function Q(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}const ee=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function te(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function ne(e,t,n){if(a(e))return W(e,t,n),e;if(e instanceof Uint8Array)return o.subtle.importKey("raw",e,"AES-KW",!0,[n]);throw new TypeError(q(e,...J,"Uint8Array"))}const ie=async(e,t,n)=>{const i=await ne(t,e,"wrapKey");te(i,e);const r=await o.subtle.importKey("raw",n,...ee);return new Uint8Array(await o.subtle.wrapKey("raw",r,i,"AES-KW"))},re=async(e,t,n)=>{const i=await ne(t,e,"unwrapKey");te(i,e);const r=await o.subtle.unwrapKey("raw",n,i,"AES-KW",...ee);return new Uint8Array(await o.subtle.exportKey("raw",r))};async function oe(e,t,n,i,r=new Uint8Array(0),d=new Uint8Array(0)){if(!a(e))throw new TypeError(q(e,...J));if(W(e,"ECDH"),!a(t))throw new TypeError(q(t,...J));W(t,"ECDH","deriveBits");const l=u(m(c.encode(n)),m(r),m(d),p(i));let h;h="X25519"===e.algorithm.name?256:"X448"===e.algorithm.name?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3;return async function(e,t,n){const i=Math.ceil((t>>3)/32),r=new Uint8Array(32*i);for(let t=0;t<i;t++){const i=new Uint8Array(4+e.length+n.length);i.set(p(t+1)),i.set(e,4),i.set(n,4+e.length),r.set(await s("sha256",i),32*t)}return r.slice(0,t>>3)}(new Uint8Array(await o.subtle.deriveBits({name:e.algorithm.name,public:e},t,h)),i,l)}function ae(e){if(!a(e))throw new TypeError(q(e,...J));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||"X25519"===e.algorithm.name||"X448"===e.algorithm.name}async function se(e,t,n,i){!function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new C("PBES2 Salt Input must be 8 or more octets")}(e);const r=function(e,t){return u(c.encode(e),new Uint8Array([0]),t)}(t,e),s=parseInt(t.slice(13,16),10),d={hash:`SHA-${t.slice(8,11)}`,iterations:n,name:"PBKDF2",salt:r},l={length:s,name:"AES-KW"},h=await function(e,t){if(e instanceof Uint8Array)return o.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(a(e))return W(e,t,"deriveBits","deriveKey"),e;throw new TypeError(q(e,...J,"Uint8Array"))}(i,t);if(h.usages.includes("deriveBits"))return new Uint8Array(await o.subtle.deriveBits(d,h,s));if(h.usages.includes("deriveKey"))return o.subtle.deriveKey(d,h,l,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}function ce(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new S(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}const de=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if("number"!=typeof n||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function le(e){return Q(e)&&"string"==typeof e.kty}const ue=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:n}=function(e){let t,n;switch(e.kty){case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new S('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new S('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new S('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new S('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}(e),i=[t,e.ext??!1,e.key_ops??n],r={...e};return delete r.alg,delete r.use,o.subtle.importKey("jwk",r,...i)},he=e=>_(e);let fe,pe;const me=e=>"KeyObject"===e?.[Symbol.toStringTag],ye=async(e,t,n,i,r=!1)=>{let o=e.get(t);if(o?.[i])return o[i];const a=await ue({...n,alg:i});return r&&Object.freeze(t),o?o[i]=a:e.set(t,{[i]:a}),a},ve=(e,t)=>{if(me(e)){let n=e.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?he(n.k):(pe||(pe=new WeakMap),ye(pe,e,n,t))}if(le(e)){if(e.k)return _(e.k);pe||(pe=new WeakMap);return ye(pe,e,e,t,!0)}return e},ge=(e,t)=>{if(me(e)){let n=e.export({format:"jwk"});return n.k?he(n.k):(fe||(fe=new WeakMap),ye(fe,e,n,t))}if(le(e)){if(e.k)return _(e.k);fe||(fe=new WeakMap);return ye(fe,e,e,t,!0)}return e};function _e(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new S(`Unsupported JWE Algorithm: ${e}`)}}const be=e=>D(new Uint8Array(_e(e)>>3)),Ee=(e,t)=>`-----BEGIN ${t}-----\n${(e.match(/.{1,64}/g)||[]).join("\n")}\n-----END ${t}-----`,we=async(e,t,n)=>{if(!a(n))throw new TypeError(q(n,...J));if(!n.extractable)throw new TypeError("CryptoKey is not extractable");if(n.type!==e)throw new TypeError(`key is not a ${e} key`);return Ee(y(new Uint8Array(await o.subtle.exportKey(t,n))),`${e.toUpperCase()} KEY`)},Ae=e=>we("public","spki",e),Se=e=>we("private","pkcs8",e),Te=(e,t,n=0)=>{0===n&&(t.unshift(t.length),t.unshift(6));const i=e.indexOf(t[0],n);if(-1===i)return!1;const r=e.subarray(i,i+t.length);return r.length===t.length&&(r.every(((e,n)=>e===t[n]))||Te(e,t,i+1))},Ce=e=>{switch(!0){case Te(e,[42,134,72,206,61,3,1,7]):return"P-256";case Te(e,[43,129,4,0,34]):return"P-384";case Te(e,[43,129,4,0,35]):return"P-521";case Te(e,[43,101,110]):return"X25519";case Te(e,[43,101,111]):return"X448";case Te(e,[43,101,112]):return"Ed25519";case Te(e,[43,101,113]):return"Ed448";default:throw new S("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},Me=async(e,t,n,i,r)=>{let a,s;const c=new Uint8Array(atob(n.replace(e,"")).split("").map((e=>e.charCodeAt(0)))),d="spki"===t;switch(i){case"PS256":case"PS384":case"PS512":a={name:"RSA-PSS",hash:`SHA-${i.slice(-3)}`},s=d?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":a={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${i.slice(-3)}`},s=d?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":a={name:"RSA-OAEP",hash:`SHA-${parseInt(i.slice(-3),10)||1}`},s=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":a={name:"ECDSA",namedCurve:"P-256"},s=d?["verify"]:["sign"];break;case"ES384":a={name:"ECDSA",namedCurve:"P-384"},s=d?["verify"]:["sign"];break;case"ES512":a={name:"ECDSA",namedCurve:"P-521"},s=d?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const e=Ce(c);a=e.startsWith("P-")?{name:"ECDH",namedCurve:e}:{name:e},s=d?[]:["deriveBits"];break}case"EdDSA":a={name:Ce(c)},s=d?["verify"]:["sign"];break;default:throw new S('Invalid or unsupported "alg" (Algorithm) value')}return o.subtle.importKey(t,c,a,r?.extractable??!1,s)},Le=(e,t,n)=>Me(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,n),Pe=(e,t,n)=>Me(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,n);function Ie(e){const t=[];let n=0;for(;n<e.length;){const i=Oe(e.subarray(n));t.push(i),n+=i.byteLength}return t}function Oe(e){let t=0,n=31&e[0];if(t++,31===n){for(n=0;e[t]>=128;)n=128*n+e[t]-128,t++;n=128*n+e[t]-128,t++}let i=0;if(e[t]<128)i=e[t],t++;else{if(128===i){for(i=0;0!==e[t+i]||0!==e[t+i+1];){if(i>e.byteLength)throw new TypeError("invalid indefinite form length");i++}const n=t+i+2;return{byteLength:n,contents:e.subarray(t,t+i),raw:e.subarray(0,n)}}{const n=127&e[t];t++,i=0;for(let r=0;r<n;r++)i=256*i+e[t],t++}}const r=t+i;return{byteLength:r,contents:e.subarray(t,r),raw:e.subarray(0,r)}}function ke(e){const t=e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),n=g(t);return Ee(function(e){const t=Ie(Ie(Oe(e).contents)[0].contents);return y(t[160===t[0].raw[0]?6:5].raw)}(n),"PUBLIC KEY")}const xe=(e,t,n)=>{let i;try{i=ke(e)}catch(e){throw new TypeError("Failed to parse the X.509 certificate",{cause:e})}return Pe(i,t,n)};async function Re(e,t,n){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw new TypeError('"spki" must be SPKI formatted string');return Pe(e,t,n)}async function De(e,t,n){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw new TypeError('"x509" must be X.509 formatted string');return xe(e,t,n)}async function Ne(e,t,n){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return Le(e,t,n)}async function He(e,t){if(!Q(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return _(e.k);case"RSA":if(void 0!==e.oth)throw new S('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return ue({...e,alg:t});default:throw new S('Unsupported "kty" (Key Type) Parameter value')}}const $e=e=>e?.[Symbol.toStringTag],Be=(e,t,n)=>{if(void 0!==t.use&&"sig"!==t.use)throw new TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&!0!==t.key_ops.includes?.(n))throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(void 0!==t.alg&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},Fe=(e,t,n,i)=>{if(!(t instanceof Uint8Array)){if(i&&le(t)){if(function(e){return le(e)&&"oct"===e.kty&&"string"==typeof e.k}(t)&&Be(e,t,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Z(t))throw new TypeError(K(e,t,...J,"Uint8Array",i?"JSON Web Key":null));if("secret"!==t.type)throw new TypeError(`${$e(t)} instances for symmetric algorithms must be of type "secret"`)}};function je(e,t,n,i){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?Fe(t,n,i,e):((e,t,n,i)=>{if(i&&le(t))switch(n){case"sign":if(function(e){return"oct"!==e.kty&&"string"==typeof e.d}(t)&&Be(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d}(t)&&Be(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!Z(t))throw new TypeError(K(e,t,...J,i?"JSON Web Key":null));if("secret"===t.type)throw new TypeError(`${$e(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===n&&"public"===t.type)throw new TypeError(`${$e(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===n&&"public"===t.type)throw new TypeError(`${$e(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===n&&"private"===t.type)throw new TypeError(`${$e(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===n&&"private"===t.type)throw new TypeError(`${$e(t)} instances for asymmetric algorithm encryption must be of type "public"`)})(t,n,i,e)}const Ge=je.bind(void 0,!1),Ue=je.bind(void 0,!0);const Ve=async(e,t,n,i,r)=>{if(!(a(n)||n instanceof Uint8Array))throw new TypeError(q(n,...J,"Uint8Array"));switch(i?H(e,i):i=D(new Uint8Array(N(e)>>3)),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n instanceof Uint8Array&&$(n,parseInt(e.slice(-3),10)),async function(e,t,n,i,r){if(!(n instanceof Uint8Array))throw new TypeError(q(n,"Uint8Array"));const a=parseInt(e.slice(1,4),10),s=await o.subtle.importKey("raw",n.subarray(a>>3),"AES-CBC",!1,["encrypt"]),c=await o.subtle.importKey("raw",n.subarray(0,a>>3),{hash:"SHA-"+(a<<1),name:"HMAC"},!1,["sign"]),d=new Uint8Array(await o.subtle.encrypt({iv:i,name:"AES-CBC"},s,t)),l=u(r,i,d,f(r.length<<3));return{ciphertext:d,tag:new Uint8Array((await o.subtle.sign("HMAC",c,l)).slice(0,a>>3)),iv:i}}(e,t,n,i,r);case"A128GCM":case"A192GCM":case"A256GCM":return n instanceof Uint8Array&&$(n,parseInt(e.slice(1,4),10)),async function(e,t,n,i,r){let a;n instanceof Uint8Array?a=await o.subtle.importKey("raw",n,"AES-GCM",!1,["encrypt"]):(W(n,e,"encrypt"),a=n);const s=new Uint8Array(await o.subtle.encrypt({additionalData:r,iv:i,name:"AES-GCM",tagLength:128},a,t)),c=s.slice(-16);return{ciphertext:s.slice(0,-16),tag:c,iv:i}}(e,t,n,i,r);default:throw new S("Unsupported JWE Content Encryption Algorithm")}};const We=async function(e,t,n,i,r){switch(Ge(e,t,"decrypt"),t=await(ge?.(t,e))||t,e){case"dir":if(void 0!==n)throw new C("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==n)throw new C("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!Q(i.epk))throw new C('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!ae(t))throw new S("ECDH with the provided key is not allowed or not supported by your javascript runtime");const r=await He(i.epk,e);let o,a;if(void 0!==i.apu){if("string"!=typeof i.apu)throw new C('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{o=_(i.apu)}catch{throw new C("Failed to base64url decode the apu")}}if(void 0!==i.apv){if("string"!=typeof i.apv)throw new C('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=_(i.apv)}catch{throw new C("Failed to base64url decode the apv")}}const s=await oe(r,t,"ECDH-ES"===e?i.enc:e,"ECDH-ES"===e?_e(i.enc):parseInt(e.slice(-5,-2),10),o,a);if("ECDH-ES"===e)return s;if(void 0===n)throw new C("JWE Encrypted Key missing");return re(e.slice(-6),s,n)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===n)throw new C("JWE Encrypted Key missing");return(async(e,t,n)=>{if(!a(t))throw new TypeError(q(t,...J));if(W(t,e,"decrypt","unwrapKey"),de(e,t),t.usages.includes("decrypt"))return new Uint8Array(await o.subtle.decrypt(ce(e),t,n));if(t.usages.includes("unwrapKey")){const i=await o.subtle.unwrapKey("raw",n,t,ce(e),...ee);return new Uint8Array(await o.subtle.exportKey("raw",i))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')})(e,t,n);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(void 0===n)throw new C("JWE Encrypted Key missing");if("number"!=typeof i.p2c)throw new C('JOSE Header "p2c" (PBES2 Count) missing or invalid');const o=r?.maxPBES2Count||1e4;if(i.p2c>o)throw new C('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof i.p2s)throw new C('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let a;try{a=_(i.p2s)}catch{throw new C("Failed to base64url decode the p2s")}return(async(e,t,n,i,r)=>{const o=await se(r,e,i,t);return re(e.slice(-6),o,n)})(e,t,n,i.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===n)throw new C("JWE Encrypted Key missing");return re(e,t,n);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(void 0===n)throw new C("JWE Encrypted Key missing");if("string"!=typeof i.iv)throw new C('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof i.tag)throw new C('JOSE Header "tag" (Authentication Tag) missing or invalid');let r,o;try{r=_(i.iv)}catch{throw new C("Failed to base64url decode the iv")}try{o=_(i.tag)}catch{throw new C("Failed to base64url decode the tag")}return async function(e,t,n,i,r){const o=e.slice(0,7);return Y(o,t,n,i,r,new Uint8Array(0))}(e,t,n,r,o)}default:throw new S('Invalid or unsupported "alg" (JWE Algorithm) header value')}};const ze=function(e,t,n,i,r){if(void 0!==r.crit&&void 0===i?.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some((e=>"string"!=typeof e||0===e.length)))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;o=void 0!==n?new Map([...Object.entries(n),...t.entries()]):t;for(const t of i.crit){if(!o.has(t))throw new S(`Extension Header Parameter "${t}" is not recognized`);if(void 0===r[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(o.get(t)&&void 0===i[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(i.crit)},qe=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>"string"!=typeof e))))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function Ke(e,t,n){if(!Q(e))throw new C("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new C("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new C("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new C("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new C("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new C("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new C("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new C("JWE AAD incorrect type");if(void 0!==e.header&&!Q(e.header))throw new C("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!Q(e.unprotected))throw new C("JWE Per-Recipient Unprotected Header incorrect type");let i;if(e.protected)try{const t=_(e.protected);i=JSON.parse(d.decode(t))}catch{throw new C("JWE Protected Header is invalid")}if(!X(i,e.header,e.unprotected))throw new C("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const r={...i,...e.header,...e.unprotected};if(ze(C,new Map,n?.crit,i,r),void 0!==r.zip)throw new S('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:o,enc:a}=r;if("string"!=typeof o||!o)throw new C("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof a||!a)throw new C("missing JWE Encryption Algorithm (enc) in JWE Header");const s=n&&qe("keyManagementAlgorithms",n.keyManagementAlgorithms),l=n&&qe("contentEncryptionAlgorithms",n.contentEncryptionAlgorithms);if(s&&!s.has(o)||!s&&o.startsWith("PBES2"))throw new A('"alg" (Algorithm) Header Parameter value not allowed');if(l&&!l.has(a))throw new A('"enc" (Encryption Algorithm) Header Parameter value not allowed');let h;if(void 0!==e.encrypted_key)try{h=_(e.encrypted_key)}catch{throw new C("Failed to base64url decode the encrypted_key")}let f,p,m,y=!1;"function"==typeof t&&(t=await t(i,e),y=!0);try{f=await We(o,t,h,r,n)}catch(e){if(e instanceof TypeError||e instanceof C||e instanceof S)throw e;f=be(a)}if(void 0!==e.iv)try{p=_(e.iv)}catch{throw new C("Failed to base64url decode the iv")}if(void 0!==e.tag)try{m=_(e.tag)}catch{throw new C("Failed to base64url decode the tag")}const v=c.encode(e.protected??"");let g,b;g=void 0!==e.aad?u(v,c.encode("."),c.encode(e.aad)):v;try{b=_(e.ciphertext)}catch{throw new C("Failed to base64url decode the ciphertext")}const E={plaintext:await Y(a,f,b,p,m,g)};if(void 0!==e.protected&&(E.protectedHeader=i),void 0!==e.aad)try{E.additionalAuthenticatedData=_(e.aad)}catch{throw new C("Failed to base64url decode the aad")}return void 0!==e.unprotected&&(E.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(E.unprotectedHeader=e.header),y?{...E,key:t}:E}async function Ze(e,t,n){if(e instanceof Uint8Array&&(e=d.decode(e)),"string"!=typeof e)throw new C("Compact JWE must be a string or Uint8Array");const{0:i,1:r,2:o,3:a,4:s,length:c}=e.split(".");if(5!==c)throw new C("Invalid Compact JWE");const l=await Ke({ciphertext:a,iv:o||void 0,protected:i,tag:s||void 0,encrypted_key:r||void 0},t,n),u={plaintext:l.plaintext,protectedHeader:l.protectedHeader};return"function"==typeof t?{...u,key:l.key}:u}async function Je(e,t,n){if(!Q(e))throw new C("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(Q))throw new C("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new C("JWE Recipients has no members");for(const i of e.recipients)try{return await Ke({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:i.encrypted_key,header:i.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,n)}catch{}throw new T}const Ye=Symbol(),Xe=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:v(e)};if(!a(e))throw new TypeError(q(e,...J,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:i,use:r,...s}=await o.subtle.exportKey("jwk",e);return s};async function Qe(e){return Ae(e)}async function et(e){return Se(e)}async function tt(e){return Xe(e)}const nt=async function(e,t,n,i,r={}){let s,c,d;switch(Ge(e,n,"encrypt"),n=await(ve?.(n,e))||n,e){case"dir":d=n;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!ae(n))throw new S("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:l,apv:u}=r;let{epk:h}=r;h||(h=(await async function(e){if(!a(e))throw new TypeError(q(e,...J));return o.subtle.generateKey(e.algorithm,!0,["deriveBits"])}(n)).privateKey);const{x:f,y:p,crv:m,kty:y}=await tt(h),g=await oe(n,h,"ECDH-ES"===e?t:e,"ECDH-ES"===e?_e(t):parseInt(e.slice(-5,-2),10),l,u);if(c={epk:{x:f,crv:m,kty:y}},"EC"===y&&(c.epk.y=p),l&&(c.apu=v(l)),u&&(c.apv=v(u)),"ECDH-ES"===e){d=g;break}d=i||be(t);const _=e.slice(-6);s=await ie(_,g,d);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":d=i||be(t),s=await(async(e,t,n)=>{if(!a(t))throw new TypeError(q(t,...J));if(W(t,e,"encrypt","wrapKey"),de(e,t),t.usages.includes("encrypt"))return new Uint8Array(await o.subtle.encrypt(ce(e),t,n));if(t.usages.includes("wrapKey")){const i=await o.subtle.importKey("raw",n,...ee);return new Uint8Array(await o.subtle.wrapKey("raw",i,t,ce(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')})(e,n,d);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{d=i||be(t);const{p2c:o,p2s:a}=r;({encryptedKey:s,...c}=await(async(e,t,n,i=2048,r=D(new Uint8Array(16)))=>{const o=await se(r,e,i,t);return{encryptedKey:await ie(e.slice(-6),o,n),p2c:i,p2s:v(r)}})(e,n,d,o,a));break}case"A128KW":case"A192KW":case"A256KW":d=i||be(t),s=await ie(e,n,d);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{d=i||be(t);const{iv:o}=r;({encryptedKey:s,...c}=await async function(e,t,n,i){const r=e.slice(0,7),o=await Ve(r,n,t,i,new Uint8Array(0));return{encryptedKey:o.ciphertext,iv:v(o.iv),tag:v(o.tag)}}(e,n,d,o));break}default:throw new S('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:d,encryptedKey:s,parameters:c}};class it{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new C("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!X(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new C("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(ze(C,new Map,t?.crit,this._protectedHeader,n),void 0!==n.zip)throw new S('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:i,enc:r}=n;if("string"!=typeof i||!i)throw new C('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof r||!r)throw new C('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let o,a,s,l,h;if(this._cek&&("dir"===i||"ECDH-ES"===i))throw new TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${i}`);{let n;({cek:a,encryptedKey:o,parameters:n}=await nt(i,r,e,this._cek,this._keyManagementParameters)),n&&(t&&Ye in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...n}:this.setUnprotectedHeader(n):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...n}:this.setProtectedHeader(n))}l=this._protectedHeader?c.encode(v(JSON.stringify(this._protectedHeader))):c.encode(""),this._aad?(h=v(this._aad),s=u(l,c.encode("."),c.encode(h))):s=l;const{ciphertext:f,tag:p,iv:m}=await Ve(r,this._plaintext,a,this._iv,s),y={ciphertext:v(f)};return m&&(y.iv=v(m)),p&&(y.tag=v(p)),o&&(y.encrypted_key=v(o)),h&&(y.aad=h),this._protectedHeader&&(y.protected=d.decode(l)),this._sharedUnprotectedHeader&&(y.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(y.header=this._unprotectedHeader),y}}class rt{constructor(e,t,n){this.parent=e,this.key=t,this.options=n}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class ot{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){const n=new rt(this,e,{crit:t?.crit});return this._recipients.push(n),n}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(){if(!this._recipients.length)throw new C("at least one recipient must be added");if(1===this._recipients.length){const[e]=this._recipients,t=await new it(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(e.unprotectedHeader).encrypt(e.key,{...e.options}),n={ciphertext:t.ciphertext,iv:t.iv,recipients:[{}],tag:t.tag};return t.aad&&(n.aad=t.aad),t.protected&&(n.protected=t.protected),t.unprotected&&(n.unprotected=t.unprotected),t.encrypted_key&&(n.recipients[0].encrypted_key=t.encrypted_key),t.header&&(n.recipients[0].header=t.header),n}let e;for(let t=0;t<this._recipients.length;t++){const n=this._recipients[t];if(!X(this._protectedHeader,this._unprotectedHeader,n.unprotectedHeader))throw new C("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const i={...this._protectedHeader,...this._unprotectedHeader,...n.unprotectedHeader},{alg:r}=i;if("string"!=typeof r||!r)throw new C('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===r||"ECDH-ES"===r)throw new C('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof i.enc||!i.enc)throw new C('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(e){if(e!==i.enc)throw new C('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else e=i.enc;if(ze(C,new Map,n.options.crit,this._protectedHeader,i),void 0!==i.zip)throw new S('JWE "zip" (Compression Algorithm) Header Parameter is not supported.')}const t=be(e),n={ciphertext:"",iv:"",recipients:[],tag:""};for(let i=0;i<this._recipients.length;i++){const r=this._recipients[i],o={};n.recipients.push(o);const a={...this._protectedHeader,...this._unprotectedHeader,...r.unprotectedHeader}.alg.startsWith("PBES2")?2048+i:void 0;if(0===i){const e=await new it(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(t).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(r.unprotectedHeader).setKeyManagementParameters({p2c:a}).encrypt(r.key,{...r.options,[Ye]:!0});n.ciphertext=e.ciphertext,n.iv=e.iv,n.tag=e.tag,e.aad&&(n.aad=e.aad),e.protected&&(n.protected=e.protected),e.unprotected&&(n.unprotected=e.unprotected),o.encrypted_key=e.encrypted_key,e.header&&(o.header=e.header);continue}const{encryptedKey:s,parameters:c}=await nt(r.unprotectedHeader?.alg||this._protectedHeader?.alg||this._unprotectedHeader?.alg,e,r.key,t,{p2c:a});o.encrypted_key=v(s),(r.unprotectedHeader||c)&&(o.header={...r.unprotectedHeader,...c})}return n}}function at(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new S(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function st(e,t,n){if("sign"===n&&(t=await ge(t,e)),"verify"===n&&(t=await ve(t,e)),a(t))return V(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(q(t,...J));return o.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(q(t,...J,"Uint8Array","JSON Web Key"))}const ct=async(e,t,n,i)=>{const r=await st(e,t,"verify");de(e,r);const a=at(e,r.algorithm);try{return await o.subtle.verify(a,r,n,i)}catch{return!1}};async function dt(e,t,n){if(!Q(e))throw new M("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new M('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new M("JWS Protected Header incorrect type");if(void 0===e.payload)throw new M("JWS Payload missing");if("string"!=typeof e.signature)throw new M("JWS Signature missing or incorrect type");if(void 0!==e.header&&!Q(e.header))throw new M("JWS Unprotected Header incorrect type");let i={};if(e.protected)try{const t=_(e.protected);i=JSON.parse(d.decode(t))}catch{throw new M("JWS Protected Header is invalid")}if(!X(i,e.header))throw new M("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...i,...e.header};let o=!0;if(ze(M,new Map([["b64",!0]]),n?.crit,i,r).has("b64")&&(o=i.b64,"boolean"!=typeof o))throw new M('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:a}=r;if("string"!=typeof a||!a)throw new M('JWS "alg" (Algorithm) Header Parameter missing or invalid');const s=n&&qe("algorithms",n.algorithms);if(s&&!s.has(a))throw new A('"alg" (Algorithm) Header Parameter value not allowed');if(o){if("string"!=typeof e.payload)throw new M("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new M("JWS Payload must be a string or an Uint8Array instance");let l=!1;"function"==typeof t?(t=await t(i,e),l=!0,Ue(a,t,"verify"),le(t)&&(t=await He(t,a))):Ue(a,t,"verify");const h=u(c.encode(e.protected??""),c.encode("."),"string"==typeof e.payload?c.encode(e.payload):e.payload);let f;try{f=_(e.signature)}catch{throw new M("Failed to base64url decode the signature")}if(!await ct(a,t,f,h))throw new R;let p;if(o)try{p=_(e.payload)}catch{throw new M("Failed to base64url decode the payload")}else p="string"==typeof e.payload?c.encode(e.payload):e.payload;const m={payload:p};return void 0!==e.protected&&(m.protectedHeader=i),void 0!==e.header&&(m.unprotectedHeader=e.header),l?{...m,key:t}:m}async function lt(e,t,n){if(e instanceof Uint8Array&&(e=d.decode(e)),"string"!=typeof e)throw new M("Compact JWS must be a string or Uint8Array");const{0:i,1:r,2:o,length:a}=e.split(".");if(3!==a)throw new M("Invalid Compact JWS");const s=await dt({payload:r,protected:i,signature:o},t,n),c={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...c,key:s.key}:c}async function ut(e,t,n){if(!Q(e))throw new M("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(Q))throw new M("JWS Signatures missing or incorrect type");for(const i of e.signatures)try{return await dt({header:i.header,payload:e.payload,protected:i.protected,signature:i.signature},t,n)}catch{}throw new R}const ht=e=>Math.floor(e.getTime()/1e3),ft=86400,pt=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,mt=e=>{const t=pt.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const n=parseFloat(t[2]);let i;switch(t[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(3600*n);break;case"day":case"days":case"d":i=Math.round(n*ft);break;case"week":case"weeks":case"w":i=Math.round(604800*n);break;default:i=Math.round(31557600*n)}return"-"===t[1]||"ago"===t[4]?-i:i},yt=e=>e.toLowerCase().replace(/^application\//,""),vt=(e,t,n={})=>{let i;try{i=JSON.parse(d.decode(t))}catch{}if(!Q(i))throw new L("JWT Claims Set must be a top-level JSON object");const{typ:r}=n;if(r&&("string"!=typeof e.typ||yt(e.typ)!==yt(r)))throw new E('unexpected "typ" JWT header value',i,"typ","check_failed");const{requiredClaims:o=[],issuer:a,subject:s,audience:c,maxTokenAge:l}=n,u=[...o];void 0!==l&&u.push("iat"),void 0!==c&&u.push("aud"),void 0!==s&&u.push("sub"),void 0!==a&&u.push("iss");for(const e of new Set(u.reverse()))if(!(e in i))throw new E(`missing required "${e}" claim`,i,e,"missing");if(a&&!(Array.isArray(a)?a:[a]).includes(i.iss))throw new E('unexpected "iss" claim value',i,"iss","check_failed");if(s&&i.sub!==s)throw new E('unexpected "sub" claim value',i,"sub","check_failed");if(c&&(h=i.aud,f="string"==typeof c?[c]:c,!("string"==typeof h?f.includes(h):Array.isArray(h)&&f.some(Set.prototype.has.bind(new Set(h))))))throw new E('unexpected "aud" claim value',i,"aud","check_failed");var h,f;let p;switch(typeof n.clockTolerance){case"string":p=mt(n.clockTolerance);break;case"number":p=n.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:m}=n,y=ht(m||new Date);if((void 0!==i.iat||l)&&"number"!=typeof i.iat)throw new E('"iat" claim must be a number',i,"iat","invalid");if(void 0!==i.nbf){if("number"!=typeof i.nbf)throw new E('"nbf" claim must be a number',i,"nbf","invalid");if(i.nbf>y+p)throw new E('"nbf" claim timestamp check failed',i,"nbf","check_failed")}if(void 0!==i.exp){if("number"!=typeof i.exp)throw new E('"exp" claim must be a number',i,"exp","invalid");if(i.exp<=y-p)throw new w('"exp" claim timestamp check failed',i,"exp","check_failed")}if(l){const e=y-i.iat;if(e-p>("number"==typeof l?l:mt(l)))throw new w('"iat" claim timestamp check failed (too far in the past)',i,"iat","check_failed");if(e<0-p)throw new E('"iat" claim timestamp check failed (it should be in the past)',i,"iat","check_failed")}return i};async function gt(e,t,n){const i=await lt(e,t,n);if(i.protectedHeader.crit?.includes("b64")&&!1===i.protectedHeader.b64)throw new L("JWTs MUST NOT use unencoded payload");const r={payload:vt(i.protectedHeader,i.payload,n),protectedHeader:i.protectedHeader};return"function"==typeof t?{...r,key:i.key}:r}async function _t(e,t,n){const i=await Ze(e,t,n),r=vt(i.protectedHeader,i.plaintext,n),{protectedHeader:o}=i;if(void 0!==o.iss&&o.iss!==r.iss)throw new E('replicated "iss" claim header parameter mismatch',r,"iss","mismatch");if(void 0!==o.sub&&o.sub!==r.sub)throw new E('replicated "sub" claim header parameter mismatch',r,"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(r.aud))throw new E('replicated "aud" claim header parameter mismatch',r,"aud","mismatch");const a={payload:r,protectedHeader:o};return"function"==typeof t?{...a,key:i.key}:a}class bt{constructor(e){this._flattened=new it(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const n=await this._flattened.encrypt(e,t);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}const Et=async(e,t,n)=>{const i=await st(e,t,"sign");de(e,i);const r=await o.subtle.sign(at(e,i.algorithm),i,n);return new Uint8Array(r)};class wt{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader)throw new M("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!X(this._protectedHeader,this._unprotectedHeader))throw new M("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader};let i=!0;if(ze(M,new Map([["b64",!0]]),t?.crit,this._protectedHeader,n).has("b64")&&(i=this._protectedHeader.b64,"boolean"!=typeof i))throw new M('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:r}=n;if("string"!=typeof r||!r)throw new M('JWS "alg" (Algorithm) Header Parameter missing or invalid');Ue(r,e,"sign");let o,a=this._payload;i&&(a=c.encode(v(a))),o=this._protectedHeader?c.encode(v(JSON.stringify(this._protectedHeader))):c.encode("");const s=u(o,c.encode("."),a),l=await Et(r,e,s),h={signature:v(l),payload:""};return i&&(h.payload=d.decode(a)),this._unprotectedHeader&&(h.header=this._unprotectedHeader),this._protectedHeader&&(h.protected=d.decode(o)),h}}class At{constructor(e){this._flattened=new wt(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){const n=await this._flattened.sign(e,t);if(void 0===n.payload)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}}class St{constructor(e,t,n){this.parent=e,this.key=t,this.options=n}setProtectedHeader(e){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class Tt{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){const n=new St(this,e,t);return this._signatures.push(n),n}async sign(){if(!this._signatures.length)throw new M("at least one signature must be added");const e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){const n=this._signatures[t],i=new wt(this._payload);i.setProtectedHeader(n.protectedHeader),i.setUnprotectedHeader(n.unprotectedHeader);const{payload:r,...o}=await i.sign(n.key,n.options);if(0===t)e.payload=r;else if(e.payload!==r)throw new M("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(o)}return e}}function Ct(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class Mt{constructor(e={}){if(!Q(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:Ct("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:Ct("setNotBefore",ht(e))}:this._payload={...this._payload,nbf:ht(new Date)+mt(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:Ct("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:Ct("setExpirationTime",ht(e))}:this._payload={...this._payload,exp:ht(new Date)+mt(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:ht(new Date)}:e instanceof Date?this._payload={...this._payload,iat:Ct("setIssuedAt",ht(e))}:this._payload="string"==typeof e?{...this._payload,iat:Ct("setIssuedAt",ht(new Date)+mt(e))}:{...this._payload,iat:Ct("setIssuedAt",e)},this}}class Lt extends Mt{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){const n=new At(c.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new L("JWTs MUST NOT use unencoded payload");return n.sign(e,t)}}class Pt extends Mt{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const n=new bt(c.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),n.encrypt(e,t)}}const It=(e,t)=>{if("string"!=typeof e||!e)throw new P(`${t} missing or invalid`)};async function Ot(e,t){if(!Q(e))throw new TypeError("JWK must be an object");if(t??(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let n;switch(e.kty){case"EC":It(e.crv,'"crv" (Curve) Parameter'),It(e.x,'"x" (X Coordinate) Parameter'),It(e.y,'"y" (Y Coordinate) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":It(e.crv,'"crv" (Subtype of Key Pair) Parameter'),It(e.x,'"x" (Public Key) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":It(e.e,'"e" (Exponent) Parameter'),It(e.n,'"n" (Modulus) Parameter'),n={e:e.e,kty:e.kty,n:e.n};break;case"oct":It(e.k,'"k" (Key Value) Parameter'),n={k:e.k,kty:e.kty};break;default:throw new S('"kty" (Key Type) Parameter missing or unsupported')}const i=c.encode(JSON.stringify(n));return v(await s(t,i))}async function kt(e,t){t??(t="sha256");const n=await Ot(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${n}`}async function xt(e,t){const n={...e,...t?.header};if(!Q(n.jwk))throw new M('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const i=await He({...n.jwk,ext:!0},n.alg);if(i instanceof Uint8Array||"public"!==i.type)throw new M('"jwk" (JSON Web Key) Header Parameter must be a public key');return i}function Rt(e){return Q(e)}function Dt(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}class Nt{constructor(e){if(this._cached=new WeakMap,!function(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(Rt)}(e))throw new I("JSON Web Key Set malformed");this._jwks=Dt(e)}async getKey(e,t){const{alg:n,kid:i}={...e,...t?.header},r=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new S('Unsupported "alg" value for a JSON Web Key Set')}}(n),o=this._jwks.keys.filter((e=>{let t=r===e.kty;if(t&&"string"==typeof i&&(t=i===e.kid),t&&"string"==typeof e.alg&&(t=n===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===n&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(n){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t})),{0:a,length:s}=o;if(0===s)throw new O;if(1!==s){const e=new k,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(const e of o)try{yield await Ht(t,e,n)}catch{}},e}return Ht(this._cached,a,n)}}async function Ht(e,t,n){const i=e.get(t)||e.set(t,{}).get(t);if(void 0===i[n]){const e=await He({...t,ext:!0},n);if(e instanceof Uint8Array||"public"!==e.type)throw new I("JSON Web Key Set members must be public keys");i[n]=e}return i[n]}function $t(e){const t=new Nt(e),n=async(e,n)=>t.getKey(e,n);return Object.defineProperties(n,{jwks:{value:()=>Dt(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const Bt=async(e,t,n)=>{let i,r,o=!1;"function"==typeof AbortController&&(i=new AbortController,r=setTimeout((()=>{o=!0,i.abort()}),t));const a=await fetch(e.href,{signal:i?i.signal:void 0,redirect:"manual",headers:n.headers}).catch((e=>{if(o)throw new x;throw e}));if(void 0!==r&&clearTimeout(r),200!==a.status)throw new b("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await a.json()}catch{throw new b("Failed to parse the JSON Web Key Set HTTP response as JSON")}};let Ft;if("undefined"==typeof navigator||!navigator.userAgent?.startsWith?.("Mozilla/5.0 ")){Ft=`${"jose"}/${"v5.9.6"}`}const jt=Symbol();class Gt{constructor(e,t){if(!(e instanceof URL))throw new TypeError("url must be an instance of URL");var n,i;this._url=new URL(e.href),this._options={agent:t?.agent,headers:t?.headers},this._timeoutDuration="number"==typeof t?.timeoutDuration?t?.timeoutDuration:5e3,this._cooldownDuration="number"==typeof t?.cooldownDuration?t?.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof t?.cacheMaxAge?t?.cacheMaxAge:6e5,void 0!==t?.[jt]&&(this._cache=t?.[jt],n=t?.[jt],i=this._cacheMaxAge,"object"==typeof n&&null!==n&&"uat"in n&&"number"==typeof n.uat&&!(Date.now()-n.uat>=i)&&"jwks"in n&&Q(n.jwks)&&Array.isArray(n.jwks.keys)&&Array.prototype.every.call(n.jwks.keys,Q)&&(this._jwksTimestamp=this._cache.uat,this._local=$t(this._cache.jwks)))}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._local&&this.fresh()||await this.reload();try{return await this._local(e,t)}catch(n){if(n instanceof O&&!1===this.coolingDown())return await this.reload(),this._local(e,t);throw n}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0);const e=new Headers(this._options.headers);Ft&&!e.has("User-Agent")&&(e.set("User-Agent",Ft),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=Bt(this._url,this._timeoutDuration,this._options).then((e=>{this._local=$t(e),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=e),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0})).catch((e=>{throw this._pendingFetch=void 0,e}))),await this._pendingFetch}}function Ut(e,t){const n=new Gt(e,t),i=async(e,t)=>n.getKey(e,t);return Object.defineProperties(i,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>n._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),i}const Vt=jt;class Wt extends Mt{encode(){return`${v(JSON.stringify({alg:"none"}))}.${v(JSON.stringify(this._payload))}.`}static decode(e,t){if("string"!=typeof e)throw new L("Unsecured JWT must be a string");const{0:n,1:i,2:r,length:o}=e.split(".");if(3!==o||""!==r)throw new L("Invalid Unsecured JWT");let a;try{if(a=JSON.parse(d.decode(_(n))),"none"!==a.alg)throw new Error}catch{throw new L("Invalid Unsecured JWT")}return{payload:vt(a,_(i),t),header:a}}}const zt=v,qt=_;function Kt(e){let t;if("string"==typeof e){const n=e.split(".");3!==n.length&&5!==n.length||([t]=n)}else if("object"==typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!=typeof t||!t)throw new Error;const e=JSON.parse(d.decode(qt(t)));if(!Q(e))throw new Error;return e}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function Zt(e){if("string"!=typeof e)throw new L("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(5===n)throw new L("Only JWTs using Compact JWS serialization can be decoded");if(3!==n)throw new L("Invalid JWT");if(!t)throw new L("JWTs must contain a payload");let i,r;try{i=qt(t)}catch{throw new L("Failed to base64url decode the payload")}try{r=JSON.parse(d.decode(i))}catch{throw new L("Failed to parse the decoded payload as JSON")}if(!Q(r))throw new L("Invalid JWT Claims Set");return r}function Jt(e){const t=e?.modulusLength??2048;if("number"!=typeof t||t<2048)throw new S("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function Yt(e,t){return async function(e,t){let n,i;switch(e){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Jt(t)},i=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Jt(t)},i=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Jt(t)},i=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},i=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},i=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},i=["sign","verify"];break;case"EdDSA":{i=["sign","verify"];const e=t?.crv??"Ed25519";switch(e){case"Ed25519":case"Ed448":n={name:e};break;default:throw new S("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{i=["deriveKey","deriveBits"];const e=t?.crv??"P-256";switch(e){case"P-256":case"P-384":case"P-521":n={name:"ECDH",namedCurve:e};break;case"X25519":case"X448":n={name:e};break;default:throw new S("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new S('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return o.subtle.generateKey(n,t?.extractable??!1,i)}(e,t)}async function Xt(e,t){return async function(e,t){let n,i,r;switch(e){case"HS256":case"HS384":case"HS512":n=parseInt(e.slice(-3),10),i={name:"HMAC",hash:`SHA-${n}`,length:n},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n=parseInt(e.slice(-3),10),D(new Uint8Array(n>>3));case"A128KW":case"A192KW":case"A256KW":n=parseInt(e.slice(1,4),10),i={name:"AES-KW",length:n},r=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":n=parseInt(e.slice(1,4),10),i={name:"AES-GCM",length:n},r=["encrypt","decrypt"];break;default:throw new S('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return o.subtle.generateKey(i,t?.extractable??!1,r)}(e,t)}const Qt="WebCryptoAPI"},3561:(e,t,n)=>{"use strict";n.r(t),n.d(t,{customAlphabet:()=>a,customRandom:()=>o,nanoid:()=>s,random:()=>r,urlAlphabet:()=>i});const i="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let r=e=>crypto.getRandomValues(new Uint8Array(e)),o=(e,t,n)=>{let i=(2<<Math.log2(e.length-1))-1,r=-~(1.6*i*t/e.length);return(o=t)=>{let a="";for(;;){let t=n(r),s=0|r;for(;s--;)if(a+=e[t[s]&i]||"",a.length>=o)return a}}},a=(e,t=21)=>o(e,0|t,r),s=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=i[63&n[e]];return t}},9276:e=>{"use strict";e.exports=JSON.parse('{"marketing":"MARKETING","personal_development":"PERSONAL_DEVELOPMENT","sales":"SALES","customer_service":"CUSTOMER_SERVICE","seo":"SEO","engineering":"ENGINEERING","coding":"CODING","education":"EDUCATION","finance":"FINANCE","creative":"CREATIVE"}')}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};n(6462)})();