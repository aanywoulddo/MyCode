(()=>{"use strict";var t={8997:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default='\n  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5555 4C10.099 4 9.70052 4.30906 9.58693 4.75114L9.29382 5.8919H14.715L14.4219 4.75114C14.3083 4.30906 13.9098 4 13.4533 4H10.5555ZM16.7799 5.8919L16.3589 4.25342C16.0182 2.92719 14.8226 2 13.4533 2H10.5555C9.18616 2 7.99062 2.92719 7.64985 4.25342L7.22886 5.8919H4C3.44772 5.8919 3 6.33961 3 6.8919C3 7.44418 3.44772 7.8919 4 7.8919H4.10069L5.31544 19.3172C5.47763 20.8427 6.76455 22 8.29863 22H15.7014C17.2354 22 18.5224 20.8427 18.6846 19.3172L19.8993 7.8919H20C20.5523 7.8919 21 7.44418 21 6.8919C21 6.33961 20.5523 5.8919 20 5.8919H16.7799ZM17.888 7.8919H6.11196L7.30423 19.1057C7.3583 19.6142 7.78727 20 8.29863 20H15.7014C16.2127 20 16.6417 19.6142 16.6958 19.1057L17.888 7.8919ZM10 10C10.5523 10 11 10.4477 11 11V16C11 16.5523 10.5523 17 10 17C9.44772 17 9 16.5523 9 16V11C9 10.4477 9.44772 10 10 10ZM14 10C14.5523 10 15 10.4477 15 11V16C15 16.5523 14.5523 17 14 17C13.4477 17 13 16.5523 13 16V11C13 10.4477 13.4477 10 14 10Z" fill="currentColor"></path></svg>\n'},7621:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.addChainContentCounter=function(){return i(this,void 0,void 0,(function*(){document.querySelectorAll(".infi-chain-prompt-item").forEach(((t,e)=>{const n=t.querySelector(`#chain-content-input-${e}`),i=t.querySelector(`#infi-prompt-content-counter-${e}`),a=o.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_CONTENT_LENGTH;if(!n||!i)return;const c=()=>{i.textContent=`${n.value.length} / ${a}`};c(),(0,r.manageEventListeners)("input",c,n),(0,r.manageEventListeners)("paste",(()=>{setTimeout(c,0)}),n)}))}))};const o=n(2948),r=n(7392)},6591:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.addChainItemRemoveButton=function(){return i(this,arguments,void 0,(function*(t=0){const e=document.querySelectorAll(".infi-chain-prompt-item")[t].querySelector(".infi-chain-item-actions");if(e){if(e.querySelector("#infi-chatgpt-addChain-remove-button"))return;const n=document.createElement("template");n.innerHTML=`\n      <button\n        id="infi-chatgpt-addChain-remove-button"\n        class="infi-chatgpt-manageTabs-button infi-chatgpt-manageTabs-removeButton"\n        aria-label="${(0,r.t)("REMOVE_PROMPT")}"\n        data-index="${t}"\n        type="button"\n      >\n        ${a.default} ${(0,r.t)("REMOVE")}\n      </button>\n    `;const i=n.content;e.appendChild(i)}}))};const r=n(6907),a=o(n(8997))},7345:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.duplicateChainItem=function t(){return i(this,void 0,void 0,(function*(){const e=document.querySelector(".infi-chain-prompt-items");if(!e)return;const n=Array.from(document.querySelectorAll("#infi-chatgpt-addChain-duplicate-button")),s=o.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_CHAINED_PROMPT_ITEMS,_=n.length===s;n.forEach((n=>{n.disabled=_;const o=()=>i(this,void 0,void 0,(function*(){const i=n.closest(".infi-chain-prompt-item");if(!i)return;const o=e.querySelectorAll(".infi-chain-prompt-item").length;o-1==0&&(yield(0,c.addChainItemRemoveButton)());const u=i.querySelector("textarea"),E=(null==u?void 0:u.value)||"",s=document.createElement("template");s.innerHTML=i.outerHTML;const _=s.content,d=_.querySelector(".infi-chain-prompt-item");if(!d)return;const l=d.querySelector("textarea");l&&(l.id=`chain-content-input-${o}`,l.value=E,l.setAttribute("aria-describedby",`create-prompt-content-error-${o}`));const T=d.querySelector("label");T&&l&&T.setAttribute("for",l.id);const p=d.querySelector(".infi-counter");p&&(p.id=`infi-prompt-content-counter-${o}`,p.textContent=`${E.length} / 6000`);const C=d.querySelector(".infi-chatgpt-error-field-message");C&&(C.id=`create-prompt-content-error-${o}`);const h=d.querySelector("#infi-chatgpt-addChain-duplicate-button");h&&h.setAttribute("data-index",`${o}`);const S=d.querySelector("#infi-chatgpt-addChain-remove-button");S&&S.setAttribute("data-index",`chain-content-input-${o}`),e.appendChild(_),yield(0,c.addChainItemRemoveButton)(o),yield(0,A.addChainContentCounter)(),yield(0,r.removeChainItem)(),(0,a.handleChainItemDragging)();const f=i.closest("form");f&&f.scrollTo({top:f.scrollHeight,behavior:"smooth"}),yield t()}));(0,E.manageEventListeners)("click",o,n)}));const d=document.querySelector("#infi-chatgpt-addChain-addPrompt-button");d&&(yield(0,u.toggleChainAddPromptButton)(d,n.length===s))}))};const o=n(2948),r=n(7736),a=n(2119),c=n(6591),u=n(902),A=n(7621),E=n(7392)},2119:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.handleChainItemDragging=function(){const t=document.querySelector(".infi-chain-prompt-items");if(!t)return;let e=null;t.querySelectorAll(".infi-chain-prompt-item").forEach((n=>{const a=n.querySelector('[id^="infi-chain-prompt-item-drag-"]');a&&(n.setAttribute("draggable","false"),a.style.cursor="grab",(0,r.manageEventListeners)("mousedown",(()=>{n.setAttribute("draggable","true")}),a),(0,r.manageEventListeners)("mouseup",(()=>{n.removeAttribute("draggable")}),a),(0,r.manageEventListeners)("mouseleave",(()=>{n.removeAttribute("draggable")}),a),(0,r.manageEventListeners)("dragstart",(t=>{var i;"true"===n.getAttribute("draggable")?(e=n,n.classList.add("infi-dragging"),null===(i=t.dataTransfer)||void 0===i||i.setData("text/plain","")):t.preventDefault()}),n),(0,r.manageEventListeners)("dragend",(()=>{n.classList.remove("infi-dragging"),e=null,n.removeAttribute("draggable"),(0,i.updateChainItemsIndices)()}),n),(0,r.manageEventListeners)("dragover",(n=>{n.preventDefault();const i=(0,o.getDragAfterElement)(t,"infi-chain-prompt-item",n.clientY);i?t.insertBefore(e,i):t.appendChild(e)}),n))}))};const i=n(9849),o=n(6456),r=n(7392)},7736:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.removeChainItem=function(){return i(this,void 0,void 0,(function*(){document.querySelectorAll("#infi-chatgpt-addChain-remove-button").forEach((t=>{(0,a.manageEventListeners)("click",(()=>{const e=t.closest(".infi-chain-prompt-item");if(!e)return;e.remove(),(0,r.updateChainItemsIndices)(),function(){const t=document.querySelectorAll(".infi-chain-prompt-item");if(1===t.length){const e=t[0].querySelector("#infi-chatgpt-addChain-remove-button");e&&e.remove()}}();const n=o.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_CHAINED_PROMPT_ITEMS;if(document.querySelectorAll("#infi-chatgpt-addChain-remove-button").length<n){Array.from(document.querySelectorAll("#infi-chatgpt-addChain-duplicate-button")).forEach((t=>{t.disabled=!1}));const t=document.querySelector("#infi-chatgpt-addChain-addPrompt-button");t&&(t.disabled=!1)}}),t)}))}))};const o=n(2948),r=n(9849),a=n(7392)},902:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.toggleChainAddPromptButton=function(t,e){return i(this,void 0,void 0,(function*(){t.disabled=e;const n=document.querySelector(".infi-chatgpt-addChain-addPrompt-buttonContainer");e?null==n||n.setAttribute("data-tooltip",(0,o.t)("ADD_CHAIN_MAX_PROMPT_ITEMS",{num:r.CONSTANTS.MANAGE_PROMPTS.EDIT_CHAIN.MAX_CHAINED_PROMPT_ITEMS})):null==n||n.removeAttribute("data-tooltip")}))};const o=n(6907),r=n(2948)},9849:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.updateChainItemsIndices=function(){const t=document.querySelector(".infi-chain-prompt-items");if(!t)return;t.querySelectorAll(".infi-chain-prompt-item").forEach(((t,e)=>{const n=t.querySelector('[id^="infi-chain-prompt-item-drag-"]');n&&(n.id=`infi-chain-prompt-item-drag-${e}`);const i=t.querySelector('textarea[id^="chain-content-input-"]');i&&(i.id=`chain-content-input-${e}`,i.setAttribute("aria-describedby",`create-prompt-content-error-${e}`));const o=t.querySelector('[id^="infi-prompt-content-counter-"]');o&&(o.id=`infi-prompt-content-counter-${e}`,i&&(o.textContent=`${i.value.length} / 6000`));const r=t.querySelector('[id^="create-prompt-content-error-"]');r&&(r.id=`create-prompt-content-error-${e}`);const a=t.querySelector("button#infi-chatgpt-addChain-duplicate-button");a&&a.setAttribute("data-index",e.toString());const c=t.querySelector("button#infi-chatgpt-addChain-remove-button");c&&c.setAttribute("data-index",e.toString())}))}},6907:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.translations=e.setTranslations=void 0,e.t=function(t,e){const o=n[t];if(void 0!==o){if(e){return Object.keys(e).reduce(((t,n)=>{const o=e[n];if(void 0===o)return t;if("object"!=typeof o||null===o){const e=new RegExp(`{{${n}}}`,"g");return t.replace(e,String(o))}if("tagName"in o&&"content"in o){const{tagName:e,content:r,attributes:a}=o,c=a?Object.entries(a).map((([t,e])=>`${t}="${i(e)}"`)).join(" "):"",u=`<${e}${c?" "+c:""}>${i(r)}</${e}>`;return t.replace(new RegExp(`{{${n}}}`,"g"),u)}return t}),o)}return o}return t};let n={};e.translations=n;function i(t){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return t.replace(/[&<>"']/g,(t=>e[t]))}e.setTranslations=t=>{e.translations=n=t}},2948:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CONSTANTS=void 0,e.CONSTANTS={API:{HOST:"chatgpt.com",CHATGPT:"https://chatgpt.com",CHATGPT_BACKEND_CONVERSATION:"https://chatgpt.com/backend-api/conversation",CHATGPT_BACKEND_CONVERSATIONS:"https://chatgpt.com/backend-api/conversations",CHATGPT_BACKEND_STOP_CONVERSATION:"https://chatgpt.com/backend-api/stop_conversation",CHATGPT_ACCOUNT_CHECK:"https://chatgpt.com/backend-api/accounts/check/",CHATGPT_BACKEND_VOICE:"https://chatgpt.com/backend-api/synthesize",CHATGPT_BACKEND_PROJECTS:"https://chatgpt.com/backend-api/gizmos/snorlax/sidebar",CHATGPT_BACKEND_GIZMOS:"https://chatgpt.com/backend-api/gizmos",CHATGPT_BACKEND_GET_GIZMOS:"https://chatgpt.com/backend-api/gizmos/bootstrap",CHATGPT_BACKEND_SEARCH_GIZMOS:"https://chatgpt.com/backend-api/gizmos/search",FETCH_CONVERSATION:{RETRIES:3,INITIAL_DELAY:1e3}},DATABASE:{DB_NAME:"ChatHistoryDB",IMAGE_STORE_NAME:"images",CONVERSATION_STORE_NAME:"conversations",VERSION:6,MAX_IMAGE_RECORDS:1e3},MODAL_TYPES:{SEARCH_HISTORY:"SEARCH_HISTORY",MANAGE_CHATS:"MANAGE_CHATS",MANAGE_FOLDERS:"MANAGE_FOLDERS",MANAGE_PROMPTS:"MANAGE_PROMPTS",MANAGE_FOLDER:"MANAGE_FOLDER",ADD_CHAT:"ADD_CHAT",ADD_FOLDER:"ADD_FOLDER",ADD_GPT:"ADD_GPT",ADD_PROMPT:"ADD_PROMPT",ADD_CHAIN:"ADD_CHAIN",SETTINGS:"SETTINGS",PREMIUM_REQUIRED:"PREMIUM_REQUIRED",PREMIUM_LIMIT:"PREMIUM_LIMIT",EXPORT_CHAT:"EXPORT_CHAT",MOVE_CHAT:"MOVE_CHAT",MEDIA_GALLERY:"MEDIA_GALLERY",MEDIA_GALLERY_PREMIUM_ONLY:"MEDIA_GALLERY_PREMIUM_ONLY",PROMPT_LIBRARY:"PROMPT_LIBRARY",PROMPT_LIBRARY_SAVE_PROMPT:"PROMPT_LIBRARY_SAVE_PROMPT",PROMPT_DYNAMIC_VALUES:"PROMPT_DYNAMIC_VALUES",CHAIN_DYNAMIC_VALUES:"CHAIN_DYNAMIC_VALUES"},MANAGE_TABS_ITEMS:{ACTIVE_CHATS:"ACTIVE_CHATS",ARCHIVED_CHATS:"ARCHIVED_CHATS"},MANAGE_FOLDER_ITEMS:{VIEW_CHATS:"VIEW_CHATS",ADD_CHATS:"ADD_CHATS",REMOVE_CHATS:"REMOVE_CHATS"},CONVERATION_STATUS:{ARCHIVE:"archive",DELETE:"delete",UNARCHIVE:"unarchive"},CHROME_RUNTIME_DETAILS:{INSTALL:"install"},ACTIONS:{PATCH_CONVERSATION:"handleConversationPatchRequest",NEW_MESSAGE_SENT:"newMessageSent",CHANGE_LANGUAGE:"changeLanguage",GET_BACKEND_DATA_AND_LISTEN:"getBackendDataAndListen",INJECT_SIDETABS:"injectSideTabs",BATCH_CHATS_ACTION:"batchChatsAction",RESET_INDEXEDB:"reset_indexedb",SEND_CHAIN_NEXT_PROMPT:"sendChainNextPrompt",STOP_CHAIN_NEXT_PROMPT:"stopChainNextPrompt"},HTTP_REQUESTS:{XML:"xmlhttprequest",POST:"POST",GET:"GET",PATCH:"PATCH",DELETE:"DELETE"},HEADERS:{AUTH:"authorization",CHATGPT_ACCOUNT_ID:"chatgpt-account-id",EXTENSION_REQUEST:"X-Extension-Request"},WEB_REQUEST_TYPE:{REQUEST_HEADERS:"requestHeaders",REQEUST_BODY:"requestBody"},CHROME_TAB_STATUS:{COMPLETE:"complete"},ACCOUNT_ID:{ACCOUNT:"_account",PERSONAL:'"personal"'},VOICE_OPTIONS:{Ember:"ember",Cove:"cove",Sol:"glimmer",Breeze:"breeze",Maple:"maple",Spruce:"orbit",Vale:"vale",Juniper:"juniper",Arbor:"fathom"},LANGUAGES:{ARABIC:"ar",GERMAN:"de",ENGLISH:"en",SPANISH:"es",FRENCH:"fr",HEBREW:"he",HINDI:"hi",ITALIAN:"it",JAPANESE:"ja",CHINESE:"zh"},BREAKPOINT_WIDTH:768,MANAGE_FOLDERS:{ADD_FOLDER:{MAX_NAME_LENGTH:40}},MANAGE_PROMPTS:{EDIT_PROMPT:{MAX_NAME_LENGTH:100,MAX_CONTENT_LENGTH:6e3},EDIT_CHAIN:{MAX_NAME_LENGTH:100,MAX_CONTENT_LENGTH:6e3,MAX_CHAINED_PROMPT_ITEMS:10}},DEBOUNCE_DELAY:300,PLANS:{FREE:{MAX_SEARCH_RESULTS:5}},ECRYPTED_STORAGE_DATA:{IS_PAID_USER:"-r.6es£Jr1U0"},MEDIA_GALLERY:{ACTIVE_BUTTON:{DALL_E:"DALL_E",CHARTS:"CHARTS"},PREVIEW_IMAGE:"https://media.happyhourhub.co/ChatGPT-Toolbox-Media/media-gallery-preview.png",LIMIT:15},LIST:{MAX_LABEL_LENGTH:34},ADD_GPT:{DESCRIPTION_LENGTH:77},PROMPT_LIBRARY:{LIMIT:15,DEFAULT_CATEGORY:"marketing",PROMPT_TEXT_MAX_LENGTH:168,FREE_CATEGORY_LIMIT:5},LOCAL_STORAGE:{EXPAND_FEATURES_TAB:"infi-expand-features-tab",EXPAND_GPTS:"infi-expand-gpts",EXPAND_PINNED_FOLDERS:"infi-expand-pinned-folders",EXPAND_PINNED_CHATS:"infi-expand-pinned-chats",INFO_AND_UPDATES_VERSION:"chatgpt-toolbox-info-and-updates-version",FREE_USER_MODAL:"chatgpt-toolbox-free-user-modal"},PROMPT_VALUES:{MAX_LABEL_LENGTH:22},CHAIN_VALUES:{MAX_PROMPT_NAME_LENGTH:45,MAX_LABEL_LENGTH:22}}},6456:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getDragAfterElement=function(t,e,n){return[...t.querySelectorAll(`.${e}:not(.infi-dragging)`)].reduce(((t,e)=>{const i=e.getBoundingClientRect(),o=.3*i.height,r=n-(i.top+o);return r<0&&r>t.offset?{offset:r,element:e}:t}),{offset:Number.NEGATIVE_INFINITY,element:null}).element}},7392:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.manageEventListeners=function(t,e,i,o){let r=n.get(i);if(!r){r=new Map,n.set(i,r);const t=new MutationObserver((()=>{document.body.contains(i)||(r.forEach(((t,e)=>{i.removeEventListener(e,r.get(e))})),n.delete(i),t.disconnect())}));t.observe(document.body,{childList:!0,subtree:!0})}const a=r.get(t);a&&i.removeEventListener(t,a,o);r.set(t,e),i.addEventListener(t,e,o)};const n=new Map}},e={};(function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports})(7345)})();